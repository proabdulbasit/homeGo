{"version":3,"sources":["services/http.service.js","services/stay-service.js","services/util-service.js","cmps/stay-details/ReviewPreview.jsx","cmps/stay-details/ReviewList.jsx","assets/img/avatar.png","cmps/stay-details/AddReview.jsx","cmps/app/Dates.jsx","services/trip-service.js","services/order-service.js","services/user-service.js","store/actions/userActions.js","services/socketService.js","cmps/stay-details/BookStay.jsx","store/actions/orderActions.js","cmps/stay-details/GoogleMap.jsx","cmps/app/Loader.jsx","pages/StayDetails.jsx","assets/img/user-lock.PNG","assets/img/user-card.PNG","pages/UserDetails.jsx","cmps/explore/StayGallery.jsx","cmps/explore/StayPreview.jsx","cmps/explore/StayList.jsx","cmps/explore/StayFilter.jsx","pages/Explore.jsx","pages/Whislist.jsx","pages/LoginSignup.jsx","cmps/home/FilterGallery.jsx","cmps/home/Banner.jsx","cmps/home/Hero.jsx","cmps/home/FilterCities.jsx","pages/Home.jsx","cmps/app/MainFilter.jsx","cmps/app/NavMenu.jsx","cmps/Header.jsx","cmps/app/FooterLinks.jsx","cmps/Footer.jsx","cmps/dashboard/DashSideNav.jsx","cmps/dashboard/DashHeader.jsx","cmps/dashboard/HostStayPreview.jsx","cmps/dashboard/HostStayList.jsx","cmps/dashboard/MyStays.jsx","cmps/dashboard/HostStaysMenu.jsx","cmps/dashboard/RatePieChart.jsx","cmps/dashboard/RateStatistic.jsx","store/actions/stayActions.js","services/cloudinary-service.js","cmps/Upload.jsx","cmps/dashboard/SaveStay.jsx","cmps/dashboard/OrdersPrview.jsx","cmps/dashboard/OrderList.jsx","cmps/dashboard/HostOrders.jsx","assets/img/user-cash.PNG","pages/Dashboard.jsx","cmps/orders/OrderPreview.jsx","cmps/orders/OrderList.jsx","pages/Orders.jsx","assets/img/logo.png","pages/BecomeHost.jsx","pages/Notifications.jsx","cmps/app/DynamicModal.jsx","cmps/app/UserMsg.jsx","App.jsx","store/actions/tripActions.js","reportWebVitals.js","store/reducers/stayReducer.js","store/reducers/userReducer.js","store/reducers/orderReducer.js","store/reducers/tripReducer.js","store/reducers/systemReducer.js","store/reducers/index.js","store/store.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","get","endpoint","data","ajax","post","put","delete","async","method","arguments","length","undefined","url","concat","params","err","console","log","dir","response","status","window","location","assign","stayService","query","trip","getById","stayId","remove","update","stay","_id","add","getTopRatedStays","loc","address","guests","adults","kids","type","getNearbyStays","getHostStays","userId","getUserWishlist","user","utilService","makeId","txt","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","getTimeFormat","time","day","Date","getDay","month","getMonth","year","getFullYear","_getTimeStr","ReviewPreview","_ref","review","_jsxs","className","children","_jsx","src","imgUrl","alt","fullname","ReviewList","reviews","map","AddReview","Component","constructor","state","avgRate","categories","Cleanliness","Accuracy","Communication","Location","Accessibility","Avatar","now","clearForm","this","setState","handleRateChange","rate","key","handleChange","target","value","saveReview","avg","loggedInUser","props","addReview","componentDidMount","username","componentDidUpdate","prevProps","render","htmlFor","ReactStars","count","onChange","isHalf","activeColor","id","classNames","name","autoComplete","placeholder","onClick","PickDates","startDate","endDate","handleSelect","ranges","selection","handleDates","DateRange","editableDateInputs","moveRangeOnFirstSelection","tripService","val","localStorage","getItem","JSON","parse","load","STORAGE_KEY","save","getTopCities","city","stringify","orderService","orderId","order","createdAt","checkOut","checkIn","host","totalPrice","getHostOrders","orders","filter","getUserOrders","filterBy","num","userService","login","userCred","_saveLocalUser","logout","sessionStorage","clear","signup","gender","updatedUser","getLoggedinUser","setItem","loadUsers","dispatch","users","getUsers","userCreds","socketService","socket","io","reconnection","eventName","cb","setup","on","off","removeAllListeners","emit","terminate","createSocketService","_BookStay","isAvailable","dynamicModal","modalContent","modalPosition","onSetModal","event","modalKey","clickPos","x","pageX","y","pageY","openModal","inti","toDateString","endi","top","left","height","width","setModalContent","ev","timeStamp","preventDefault","sumGuest","isLess","capacity","toggleAvailability","toggleMsgModal","onSearch","onReserveTrip","Link","to","password","price","getTripTime","addOrder","getTime","getCells","cells","push","modalType","getTotalRate","toLocaleString","defaultValue","mapDispatchToProps","addedOrder","BookStay","connect","userModule","tripModule","_GoogleMap","lat","lng","pos","Map","google","zoom","initialCenter","center","Marker","position","InfoWindow","visible","GoogleMap","GoogleApiWrapper","apiKey","override","css","_templateObject","_taggedTemplateLiteral","Loader","loading","useState","color","BeatLoader","StayDetails","toggleWish","scrollUp","scroll","behavior","setWishList","wishlist","findIndex","wishId","loadStay","match","onAddToWishList","find","wish","idx","wishidx","splice","updateUser","rates","sum","reduce","acc","toFixed","getStayReviewStatistics","reviewCtgMap","forEach","ctg","elReviews","edit","updateStay","setHomePage","getAmenityIcon","amenity","openDynamicModal","desc","amenities","stayType","propertyType","imgUrls","elCtgRate","UserDetails","isEditMode","loadUser","sessionUser","onUpdateUser","toggleEditMode","setFooterDisplay","componentWillUnmount","currUser","email","Lock","Card","StayGallery","Slider","dots","infinite","arrows","speed","slidesToShow","slidesToScroll","StayPreview","addTrip","loadWishlist","updatedTrip","substring","indexOf","StayList","stays","StayFilter","_this","getBoundingClientRect","resetFilter","stayFilterBy","placeType","TV","Wifi","onfilterStays","isAmenities","Explore","filteredStays","_isTypePlace","_isPropertyType","_isPrice","_isAmenities","unshift","filterStays","scrollTo","closeDynamicModal","Wishlist","_LoginSignup","msg","loginCred","signupCred","formType","loginHandleChange","prevState","signupHandleChange","doLogin","history","go","doSignup","signupCreds","removeUser","toggleFormType","nextForm","signupSection","onSubmit","loginSection","alert","isAdmin","isLoading","LoginSignup","systemModule","FilterGallery","onSelectStay","Banner","btnTxt","title","subtitle","Hero","loadStays","FilterCities","onSelectTopCity","Home","explorAll","topRatedStays","nearbayStays","MainFilter","loadTrip","loadRated","topRated","handle","isFullHeader","openFullHeader","NavMenu","toggleUserMenu","isNewNotif","style","isHost","Header","React","isWindowTop","isHomePage","isNarrow","isDetailsHeader","openDetailsHeader","scrollY","closeFullHeader","closest","removeEventListener","addEventListener","getScrollPos","getAvgRate","setCurrPage","currPage","NavLink","toggleFullHeader","FooterLinks","topCities","Footer","DashSideNav","onSelectAction","DashHeader","orderChangeStatus","getSumByOrderStatus","getActiveGuests","activeUsers","totalRate","stayAvgRate","a","b","getTotalAvgRate","totalEarning","currMonth","currYear","orderMonth","orderYear","getMonthlyEarning","HostStayPreview","onSelectedEditStay","HostStayList","MyStays","HostStaysMenu","updateSelectedStay","RatePieChart","labels","datasets","label","round","backgroundColor","borderColor","borderWidth","Doughnut","RateStatistic","removeStay","loadHostStays","hostId","cloudinaryService","uploadImg","UPLOAD_URL","formData","FormData","append","files","fetch","body","then","res","json","catch","error","Upload","isUploading","secure_url","onUploadImg","userImgUrl","previewStyle","backgroundImage","uploadMsg","accept","_StayEdit","country","countryCode","onRemoveStays","imgState","checked","onSaveStay","currAmenities","addStay","stayEdit","amenitie","required","StayEdit","stayModule","OrdersPrview","updateOrder","onUpdateOrder","OrderList","HostOrders","_Dashboard","action","selsctedEditStay","getRateChangStatus","loadOrders","Cash","Dashboard","OrderPreview","getCancelationStatus","onCancelOrder","disabled","Orders","sction","showOrdersByTime","getTimeBeforeTrip","removeOrder","toggleShowOrderTime","filteredOrders","daysToCancel","onSortOrders","sortOrders","sort","orderA","orderB","nameA","toUpperCase","nameB","_sortByName","_sortByDate","_sortByPrice","dateType","BecomeHost","Logo","Notifications","onClearNotif","notifications","setNotifStatus","DynamicModal","Fragment","UserMsg","_App","userMsg","isUserMsg","isFooterOn","onOrderIn","loadNearby","setTimeout","nodeName","innerText","page","removeTrip","Router","Switch","Route","path","setHostSocket","App","orderModule","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","localLoggedinUser","loggedinUser","localInitialState","baby","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","Provider","document","getElementById"],"mappings":"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cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,UAAU,SACfE,cAAA,OAAKF,U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","file":"static/js/main.fb50db33.chunk.js","sourcesContent":["// with this service our client side \"talk\" with our server\nimport Axios from \"axios\";\n\nconst BASE_URL =\n  process.env.NODE_ENV === \"production\" ? \"/api/\" : \"//localhost:3030/api/\";\n\nvar axios = Axios.create({\n  withCredentials: true,\n});\n\nexport const httpService = {\n  get(endpoint, data) {\n    return ajax(endpoint, \"GET\", data);\n  },\n  post(endpoint, data) {\n    return ajax(endpoint, \"POST\", data);\n  },\n  put(endpoint, data) {\n    return ajax(endpoint, \"PUT\", data);\n  },\n  delete(endpoint, data) {\n    return ajax(endpoint, \"DELETE\", data);\n  },\n};\n\nasync function ajax(endpoint, method = \"GET\", data = null) {\n  try {\n    const res = await axios({\n      url: `${BASE_URL}${endpoint}`,\n      method,\n      data,\n      params: method === \"GET\" ? data : null,\n    });\n    return res.data;\n  } catch (err) {\n    console.log(\n      `Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`\n    );\n    console.dir(err);\n    if (err.response && err.response.status === 401) {\n      window.location.assign(\"/#/login\");\n    }\n    throw err;\n  }\n}\n","import { httpService } from \"./http.service\";\n\nexport const stayService = {\n  query,\n  getById,\n  remove,\n  update,\n  add,\n  getTopRatedStays,\n  getNearbyStays,\n  getHostStays,\n  getUserWishlist,\n};\n\nwindow.stayService = stayService;\n\nfunction query(trip) {\n  return httpService.get(`stay`, trip);\n}\n\nfunction getById(stayId) {\n  return httpService.get(`stay/${stayId}`);\n}\n\nfunction remove(stayId) {\n  return httpService.delete(`stay/${stayId}`);\n}\n\nasync function update(stay) {\n  return await httpService.put(`stay/${stay._id}`, stay);\n}\n\nasync function add(stay) {\n  return await httpService.post(`stay`, stay);\n}\n\nasync function getTopRatedStays(\n  trip = {\n    loc: { address: \"\" },\n    guests: { adults: 1, kids: 0 },\n    type: \"top rated\",\n  }\n) {\n  return await httpService.get(`stay`, trip);\n}\n\nasync function getNearbyStays(location) {\n  return await httpService.get(`stay`, {\n    loc: { address: \"\" },\n    guests: { adults: 1, kids: 0 },\n    type: \"nearby\",\n    data: location,\n  });\n}\n\nasync function getHostStays(userId) {\n  return await httpService.get(`stay`, {\n    loc: { address: \"\" },\n    guests: { adults: 1, kids: 0 },\n    type: \"host\",\n    data: userId,\n  });\n}\n\nasync function getUserWishlist(user) {\n  return httpService.get(`stay`, {\n    loc: { address: \"\" },\n    guests: { adults: 1, kids: 0 },\n    type: \"wishlist\",\n    data: user,\n  });\n}\n","export const utilService = {\n  makeId,\n  makeLorem,\n  getRandomIntInclusive,\n  getTimeFormat,\n};\n\nfunction makeId(length = 6) {\n  var txt = \"\";\n  var possible =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (var i = 0; i < length; i++) {\n    txt += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return txt;\n}\n\nfunction makeLorem(size = 100) {\n  var words = [\n    \"The sky\",\n    \"above\",\n    \"the port\",\n    \"was\",\n    \"the color of television\",\n    \"tuned\",\n    \"to\",\n    \"a dead channel\",\n    \".\",\n    \"All\",\n    \"this happened\",\n    \"more or less\",\n    \".\",\n    \"I\",\n    \"had\",\n    \"the story\",\n    \"bit by bit\",\n    \"from various people\",\n    \"and\",\n    \"as generally\",\n    \"happens\",\n    \"in such cases\",\n    \"each time\",\n    \"it\",\n    \"was\",\n    \"a different story\",\n    \".\",\n    \"It\",\n    \"was\",\n    \"a pleasure\",\n    \"to\",\n    \"burn\",\n  ];\n  var txt = \"\";\n  while (size > 0) {\n    size--;\n    txt += words[Math.floor(Math.random() * words.length)] + \" \";\n  }\n  return txt;\n}\n\nfunction getRandomIntInclusive(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction getTimeFormat(time) {\n  time = new Date(time);\n  var day = time.getDay() + 1;\n  var month = time.getMonth() + 1;\n  var year = time.getFullYear();\n  return `${_getTimeStr(day)} / ${_getTimeStr(month)} / ${year}`;\n}\n\nfunction _getTimeStr(time) {\n  if (time < 10) return `0${time}`;\n  else return time;\n}\n","import { utilService } from '../../services/util-service.js'\n\nexport function ReviewPreview({ review }) {\n    return (\n        <section className=\"review-preview\">\n            <div className=\"review-header\">\n                <img src={review.user.imgUrl} alt=\"user\" />\n                <div>\n                    <h3>{review.user.fullname}</h3>\n                    <h4>{utilService.getTimeFormat(review.user.time)}</h4>\n                </div>\n            </div>\n            <div className=\"review-body\">\n                <h2>{review.txt}</h2>\n            </div>\n        </section>\n    )\n}","import {ReviewPreview} from '../stay-details/ReviewPreview'\n\nexport function ReviewList ({ reviews }) {\n    return (\n        <section className=\"review-list\">\n            {reviews.map(review => <ReviewPreview key={Math.random()} review={review} />)}\n        </section>\n\n    )\n}","export default __webpack_public_path__ + \"static/media/avatar.e582e4ba.png\";","import ReactStars from 'react-rating-stars-component';\nimport { utilService } from '../../services/util-service';\nimport { Component } from 'react';\nimport Avatar from '../../assets/img/avatar.png';\n\nexport class AddReview extends Component {\n\tstate = {\n\t\treview: {\n\t\t\ttxt: '',\n\t\t\tavgRate: 0,\n\t\t\tcategories: {\n\t\t\t\tCleanliness: 0,\n\t\t\t\tAccuracy: 0,\n\t\t\t\tCommunication: 0,\n\t\t\t\tLocation: 0,\n\t\t\t\t'Check-in': 0,\n\t\t\t\tAccessibility: 0,\n\t\t\t},\n\t\t\tuser: {\n\t\t\t\t_id: '123456789',\n\t\t\t\tfullname: 'Guest',\n\t\t\t\timgUrl: Avatar,\n\t\t\t\ttime: Date.now(),\n\t\t\t},\n\t\t},\n\t};\n\n\tcomponentDidMount() {\n\t\tconst loggedInUser = this.props.loggedInUser;\n\t\tif (loggedInUser) {\n\t\t\tthis.setState({\n\t\t\t\treview: {\n\t\t\t\t\t...this.state.review,\n\t\t\t\t\tuser: {\n\t\t\t\t\t\t_id: loggedInUser._id,\n\t\t\t\t\t\tfullname: loggedInUser.username,\n\t\t\t\t\t\timgUrl: loggedInUser.imgUrl,\n\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.loggedInUser && prevProps.loggedInUser !== this.props.loggedInUser) {\n\t\t\tthis.setState({\n\t\t\t\treview: {\n\t\t\t\t\t...this.state.review,\n\t\t\t\t\tuser: {\n\t\t\t\t\t\t_id: this.props.loggedInUser._id,\n\t\t\t\t\t\tfullname: this.props.loggedInUser.username,\n\t\t\t\t\t\timgUrl: this.props.loggedInUser.imgUrl,\n\t\t\t\t\t\ttime: Date.now(),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\t\n\tclearForm = () => {\n\t\tthis.setState({\n\t\t\treview: {\n\t\t\t\t...this.state.review,\n\t\t\t\ttxt: '',\n\t\t\t\tavgRate: 0,\n\t\t\t\tcategories: {\n\t\t\t\t\tCleanliness: 0,\n\t\t\t\t\tAccuracy: 0,\n\t\t\t\t\tCommunication: 0,\n\t\t\t\t\tLocation: 0,\n\t\t\t\t\t'Check-in': 0,\n\t\t\t\t\tAccessibility: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\thandleRateChange = (rate, key) => {\n\t\tthis.setState({\n\t\t\treview: {\n\t\t\t\t...this.state.review,\n\t\t\t\tcategories: { ...this.state.review.categories, [key]: rate },\n\t\t\t},\n\t\t});\n\t};\n\n\thandleChange = ({ target }) => {\n\t\tconst { value } = target;\n\t\tthis.setState({ review: { ...this.state.review, txt: value } });\n\t};\n\n\tsaveReview = () => {\n\t\tconst { review } = this.state;\n\t\tconst { categories } = review;\n\n\t\tlet avg = 0;\n\t\tfor (const key in categories) {\n\t\t\tavg += categories[key];\n\t\t}\n\t\tconst loggedInUser = this.props.loggedInUser;\n\t\tif (loggedInUser) {\n\t\t\treview.user.imgUrl = loggedInUser.imgUrl;\n\t\t\treview.user.fullname = loggedInUser.fullname;\n\t\t\treview.user._id = loggedInUser._id;\n\t\t\treview.user.time = Date.now();\n\t\t}\n\t\treview.avgRate = avg / 6;\n\t\treview._id = utilService.makeId();\n\t\tthis.props.addReview(review);\n\t\tthis.clearForm();\n\t};\n\n\trender() {\n\t\tconst { loggedInUser } = this.props\n\t\tconst imgUrl = (loggedInUser) ? loggedInUser.imgUrl : Avatar\n\t\tconst fullname = (loggedInUser) ? loggedInUser.fullname : 'Guest'\n\t\treturn (\n\t\t\t<section className=\"stay-add-review\">\n\t\t\t\t<h2>Add review</h2>\n\t\t\t\t<div className=\"add-review-header\">\n\t\t\t\t\t<img src={imgUrl} alt=\"avater\" />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>{fullname}</h3>\n\t\t\t\t\t\t<h4>{utilService.getTimeFormat(Date.now())}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"stay-add-review-ctgs\">\n\t\t\t\t\t<div className=\"ctg-statistics\">\n\t\t\t\t\t\t<label htmlFor=\"\">Location</label>\n\t\t\t\t\t\t<ReactStars\n\t\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\t\tonChange={(rate) => {\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Location');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ctg-statistics\">\n\t\t\t\t\t\t<label htmlFor=\"\">Check-in</label>\n\t\t\t\t\t\t<ReactStars\n\t\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\t\tonChange={(rate) => {\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Check-in');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ctg-statistics\">\n\t\t\t\t\t\t<label htmlFor=\"\">Accessibility</label>\n\t\t\t\t\t\t<ReactStars\n\t\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\t\tonChange={(rate) => {\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Accessibility');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ctg-statistics\">\n\t\t\t\t\t\t<label htmlFor=\"\">Communication</label>\n\t\t\t\t\t\t<ReactStars\n\t\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\t\tonChange={(rate) => {\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Communication');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ctg-statistics\">\n\t\t\t\t\t\t<label htmlFor=\"\">Accuracy</label>\n\t\t\t\t\t\t<ReactStars\n\t\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\t\tonChange={(rate) => {\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Accuracy');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ctg-statistics\">\n\t\t\t\t\t\t<label htmlFor=\"\">Cleanliness-in</label>\n\t\t\t\t\t\t<ReactStars\n\t\t\t\t\t\t\tid=\"clean\"\n\t\t\t\t\t\t\tclassNames=\"rate-clean\"\n\t\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\t\tonChange={(rate) => {\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Cleanliness');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"add-review-txt\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"txt\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={this.state.review.txt}\n\t\t\t\t\t\tplaceholder=\"Write your opinion about this stay...\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button onClick={this.saveReview}> send </button>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n}\n","\nimport { Component } from 'react'\nimport { DateRange } from 'react-date-range';\n\nexport class PickDates extends Component {\n\n  state = {\n    startDate: new Date(),\n    endDate: new Date(),\n    key: 'selection',\n\n  }\n\n  handleSelect = (ranges) => {\n    this.setState({\n      startDate: ranges.selection.startDate,\n      endDate: ranges.selection.endDate,\n      key: 'selection'\n    }, () => { this.props.handleDates(this.state) })\n  }\n\n  render() {\n\n    return (\n      <DateRange\n        editableDateInputs={true}\n        ranges={[this.state]}\n        moveRangeOnFirstSelection={false}\n        onChange={this.handleSelect}\n      />\n    )\n\n  }\n}\n\n\n\n\n\n\n\n\n","export const tripService = {\n  query,\n  remove,\n  add,\n  getTopCities,\n};\n\nconst STORAGE_KEY = \"trip\";\nwindow.tripService = tripService;\n\nfunction query() {\n  return load(STORAGE_KEY);\n}\n\nfunction remove() {\n  return save(STORAGE_KEY, null);\n}\n\nfunction add(trip) {\n  return save(STORAGE_KEY, trip);\n}\n\nfunction getTopCities() {\n  const topCities = [\n    {\n      city: \"Hong Kong\",\n      state: \"China\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/be4d3ba5-08d7-4afe-95a7-f2da6453886a.jpg?im_q=medq&im_w=240\",\n    },\n    {\n      city: \"Bangkok\",\n      state: \"Thailand\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/7253e011-7c22-48fd-b75d-d0da35372397.jpg?im_q=medq&im_w=240\",\n    },\n    {\n      city: \"London\",\n      state: \"England\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/52e8083e-2de2-446d-a860-534eab250541.jpg?im_q=medq&im_w=240\",\n    },\n    {\n      city: \"Paris\",\n      state: \"France\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/20e74de0-0eb8-4fca-afb8-b111875acdf5.jpg?im_q=medq&im_w=240\",\n    },\n    {\n      city: \"Dubai\",\n      state: \"United Arab Emirates\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/e639b7ab-aee3-48ee-9743-216684a51319.jpg?im_q=medq&im_w=240\",\n    },\n    {\n      city: \"New York\",\n      state: \"United States\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/ca3737ef-0faf-46ba-b055-b4a2d99e2cea.jpg?im_q=medq&im_w=240\",\n    },\n    {\n      city: \"Amsterdam\",\n      state: \"Netherlands\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/585d1e53-e2e1-4baf-a34e-36301dd1e2da.jpg?im_q=medq&im_w=240\",\n    },\n    {\n      city: \"Tel Aviv\",\n      state: \"Israel\",\n      imgUrl:\n        \"https://a0.muscache.com/im/pictures/7c309a70-bc93-4603-8d3b-9d4cd9bf75b2.jpg?im_q=medq&im_w=240\",\n    },\n  ];\n  return topCities;\n}\n\n// storage service\n\nfunction load(key) {\n  var val = localStorage.getItem(key);\n  return val ? JSON.parse(val) : null;\n}\n\nfunction save(key, val) {\n  localStorage[key] = JSON.stringify(val);\n  return val;\n}\n","import { tripService } from \"../services/trip-service\";\nimport { httpService } from \"./http.service\";\n\nexport const orderService = {\n  query,\n  remove,\n  add,\n  update,\n  getHostOrders,\n  getUserOrders,\n};\n\nwindow.orderService = orderService;\n\nasync function query(\n  user = { id: null, type: \"all\", filterBy: { num: 1, name: \"\" } }\n) {\n  const orders = await httpService.get(`order`, user);\n  return orders;\n}\n\nasync function add(trip, stay, loggedInUser) {\n  const order = {\n    createdAt: Date.now(),\n    endDate: trip.time.checkOut,\n    startDate: trip.time.checkIn,\n    guests: trip.guests,\n    host: stay.host,\n    status: \"wait for approval\",\n    totalPrice: trip.totalPrice,\n    user: loggedInUser,\n    stay,\n  };\n  tripService.remove();\n  return await httpService.post(`order`, order);\n}\n\nasync function getHostOrders(userId) {\n  var orders = query(\"order\", { id: userId, type: \"host\" });\n  orders = orders.filter((order) => {\n    return order.host._id === userId;\n  });\n  return orders;\n}\n\nasync function getUserOrders(userId) {\n  var orders = query(\"order\", { id: userId, type: \"user\" });\n  orders = orders.filter((order) => {\n    return order.host._id === userId;\n  });\n  return orders;\n}\n\nfunction remove(orderId) {\n  return httpService.delete(`order/${orderId}`);\n}\n\nasync function update(order) {\n  return await httpService.put(`order/${order._id}`, order);\n}\n","import { utilService } from \"./util-service\";\nimport { httpService } from \"./http.service.js\";\n\nexport const userService = {\n  login,\n  logout,\n  signup,\n  getById,\n  update,\n  getLoggedinUser,\n};\n\nwindow.userService = userService;\n\nasync function login(userCred) {\n  const user = await httpService.post(\"auth/login\", userCred);\n  if (user) return _saveLocalUser(user);\n}\n\nasync function signup(userCred) {\n  const gender = Math.random() > 0.5 ? \"men\" : \"women\";\n  userCred.imgUrl = `https://randomuser.me/api/portraits/${gender}/${utilService.getRandomIntInclusive(\n    0,\n    100\n  )}.jpg`;\n  const user = await httpService.post(\"auth/signup\", userCred);\n  return _saveLocalUser(user);\n}\n\nasync function logout() {\n  sessionStorage.clear();\n  return await httpService.post(\"auth/logout\");\n}\n\nasync function update(user) {\n  const updatedUser = await httpService.put(`user/${user._id}`, user);\n  if (getLoggedinUser()._id === updatedUser._id) _saveLocalUser(updatedUser);\n  return updatedUser;\n}\n\nfunction getLoggedinUser() {\n  return JSON.parse(sessionStorage.getItem(\"loggedinUser\") || \"null\");\n}\n\nfunction getById(userId) {\n  console.log(\"getById: \", userId);\n  return httpService.get(`user/${userId}`);\n}\n\nfunction _saveLocalUser(user) {\n  sessionStorage.setItem(\"loggedinUser\", JSON.stringify(user));\n  return user;\n}\n","import { userService } from '../../services/user-service'\n\nexport function loadUsers() {\n  return async dispatch => {\n    try {\n      const users = await userService.getUsers()\n      dispatch({ type: 'SET_USERS', users })\n    } catch (err) {\n      console.log('UserActions: err in loadUsers', err)\n    }\n  }\n}\n\nexport function removeUser(userId) {\n  return async dispatch => {\n    try {\n      await userService.remove(userId)\n      dispatch({ type: 'REMOVE_USER', userId })\n    } catch (err) {\n      console.log('UserActions: err in removeUser', err)\n    }\n  }\n}\n\nexport function updateUser(user) {\n  return async dispatch => {\n    try {\n      const updatedUser = await userService.update(user)\n      dispatch({ type: 'UPDATE_USER', user: updatedUser })\n    } catch (err) {\n      console.log('UserActions: err in updateUser', err)\n    }\n  }\n}\n\nexport function login(userCreds) {\n  return async dispatch => {\n    try {\n      const user = await userService.login(userCreds)\n      dispatch({ type: 'SET_USER', user })\n    } catch (err) {\n      console.log('UserActions: err in login', err)\n    }\n  }\n}\n\nexport function signup(userCreds) {\n  return async dispatch => {\n    try {\n      const user = await userService.signup(userCreds)\n      dispatch({ type: 'SET_USER', user })\n    } catch (err) {\n      console.log('UserActions: err in signup', err)\n    }\n  }\n}\n\nexport function logout() {\n  return async dispatch => {\n    try {\n      await userService.logout()\n      dispatch({ type: 'SET_USER', user: null })\n    } catch (err) {\n      console.log('UserActions: err in logout', err)\n    }\n  }\n}\n","import io from \"socket.io-client\";\nimport { httpService } from \"../services/http.service.js\";\n\nexport const SOCKET_EMIT_USER_WATCH = \"user-watch\";\nexport const SOCKET_EVENT_USER_UPDATED = \"user-updated\";\nexport const SOCKET_EVENT_REVIEW_ADDED = \"review-added\";\n\nconst baseUrl = process.env.NODE_ENV === \"production\" ? \"\" : \"//localhost:3030\";\nexport const socketService = createSocketService();\n\nwindow.socketService = socketService;\n\nvar socketIsReady = false;\nsocketService.setup();\n\nfunction createSocketService() {\n  var socket = null;\n\n  const socketService = {\n    async setup() {\n      if (socket) return;\n      await httpService.get(\"setup-session\");\n      socket = io(baseUrl, { reconnection: false });\n      socketIsReady = true;\n    },\n    async on(eventName, cb) {\n      if (!socket) await socketService.setup();\n      socket.on(eventName, cb);\n    },\n    async off(eventName, cb = null) {\n      if (!socket) await socketService.setup();\n      if (!cb) socket.removeAllListeners(eventName);\n      else socket.off(eventName, cb);\n    },\n    async emit(eventName, data) {\n      if (!socket) await socketService.setup();\n      socket.emit(eventName, data);\n    },\n    terminate() {\n      socket = null;\n      socketIsReady = false;\n    },\n  };\n  return socketService;\n}\n","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { PickDates } from '../app/Dates'\nimport { addOrder } from '../../store/actions/orderActions'\nimport { login } from '../../store/actions/userActions'\nimport { socketService } from '../../services/socketService.js'\n\nclass _BookStay extends Component {\n\n    state = {\n        trip: {\n            guests: { adults: 0, kids: 0 },\n            loc: { address: '' },\n            time: { checkIn: '', checkOut: '' }\n        },\n        isAvailable: false,\n        dynamicModal: {\n            modalContent: '',\n            modalPosition: {}\n        }\n    }\n\n    componentDidMount() {\n        const trip = this.props.trip || {\n            guests: { adults: 0, kids: 0 },\n            loc: { address: '' },\n            time: { checkIn: '', checkOut: '' }\n        }\n        this.setState({ trip, isAvailable: false })\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.modalType !== this.props.modalType) {\n            this.openModal(this.props.modalType)\n        }\n    }\n\n    onSetModal = (event, modalKey) => {\n        const clickPos = { x: event.pageX, y: event.pageY }\n        this.setState({\n            dynamicModal: {\n                ...this.state.dynamicModal,\n                modalPosition: clickPos\n            }\n        }, () => { this.openModal(modalKey) })\n    }\n\n    handleDates = (time) => {\n        var inti = time.startDate.toDateString()\n        var endi = time.endDate.toDateString()\n        this.setState({ trip: { ...this.state.trip, time: { checkIn: inti, checkOut: endi } } });\n    }\n\n    openModal = (modalKey) => {\n        const dynamicModal = {}\n        const { x, y } = this.state.dynamicModal.modalPosition\n        switch (modalKey) {\n            case 'date':\n                dynamicModal.modalContent = (\n                    <section className=\"dynamic-modal-child book-date-modal\">\n                        <PickDates handleDates={this.handleDates} />\n                    </section>)\n                dynamicModal.modalPosition = { top: y + 20, left: x }\n                break\n\n            case 'book-guests':\n                const { kids, adults } = this.state.trip.guests\n                dynamicModal.modalContent = (\n                    <section className=\"book-guest-modal\">\n                        <div className=\"modal-label\">\n                            <div>\n                                <span>Adults</span>\n                                <span>Ages 13 or above</span>\n                            </div>\n                            <div>\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"adults\",\n                                            type: \"number\",\n                                            value: (adults - 1)\n                                        }\n                                    })\n                                }}>-</button>\n                                <span>{adults}</span>\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"adults\",\n                                            type: \"number\",\n                                            value: (adults + 1)\n                                        }\n                                    })\n                                }}>+</button>\n                            </div>\n                        </div>\n                        <div className=\"modal-label\">\n                            <div>\n                                <span>Kids</span>\n                                <span>Ages 212</span>\n                            </div>\n                            <div>\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"kids\",\n                                            type: \"number\",\n                                            value: (kids - 1)\n                                        }\n                                    })\n                                }}>-</button>\n                                <span>{kids}</span>\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"kids\",\n                                            type: \"number\",\n                                            value: (kids + 1)\n                                        }\n                                    })\n                                }}>+</button>\n                            </div>\n                        </div>\n                    </section>\n                )\n                dynamicModal.modalPosition = { top: y, left: x }\n                break\n\n            case '':\n                dynamicModal.modalContent = ''\n                dynamicModal.modalPosition = { top: 0, left: 0, height: 0, width: 0 }\n                break\n\n            default:\n                break\n        }\n\n        this.props.setModalContent(dynamicModal, modalKey)\n    }\n\n    handleChange = (ev) => {\n        if (ev.timeStamp) ev.preventDefault()\n        const { name, value, type } = ev.target\n\n        if (type === 'date') {\n            this.setState({ trip: { ...this.state.trip, time: { ...this.state.trip.time, [name]: value } } });\n        } else if (type === 'number') {\n            if (value < 0) return\n            const sumGuest = this.state.trip.guests.adults + this.state.trip.guests.kids;\n            const isLess = (this.state.trip.guests[name] < value) ? true : false\n            if (sumGuest === this.props.stay.capacity && isLess) return\n            this.setState({ trip: { ...this.state.trip, guests: { ...this.state.trip.guests, [name]: +value } } },\n                () => { this.openModal('book-guests') }\n            )\n        } else this.setState({ trip: { ...this.state.trip, loc: { ...this.state.trip.loc, [name]: value } } });\n    }\n\n    toggleAvailability = () => {\n        const { guests, time } = this.state.trip\n        if (guests.adults + guests.kids < 1) {\n            this.props.toggleMsgModal(<span><i className=\"fas fa-exclamation\"></i><h2>Please enter guest number</h2></span>)\n            return\n        }\n        if (!time.checkIn || !time.checkOut) {\n            this.props.toggleMsgModal(<span><i className=\"fas fa-exclamation\"></i><h2>Please enter trip dates</h2></span>)\n            return\n        }\n        this.setState({ isAvailable: !this.state.isAvailable }, () => { this.props.onSearch(this.state.trip) })\n    }\n\n    onReserveTrip = async () => {\n        const { trip } = this.state\n        const { stay, loggedInUser, login } = this.props\n\n        if (!loggedInUser) {\n            this.props.toggleMsgModal(\n                <span>\n                    <h2>You must log in frist</h2>\n                    <Link to='/login'>Login</Link>\n                    <button className=\"demo-user-btn\" onClick={() => { login({ username: 'mor', password: '1111' }) }}>Demo User</button>\n                </span>\n            )\n            return\n        }\n\n        trip.totalPrice = ((trip.guests.kids + trip.guests.adults) * stay.price) * this.getTripTime()\n        const order = await this.props.addOrder(trip, stay, loggedInUser)\n        socketService.emit('ORDER_OUT', order)\n\n        this.setState({\n            trip: {\n                guests: { adults: 0, kids: 0 },\n                loc: { address: '' },\n                time: { checkIn: '', checkOut: '' },\n            },\n            isAvailable: false\n        })\n        this.props.toggleMsgModal(<span><i className=\"far fa-check-circle\"></i><h3>Your order has sent to the host</h3></span>)\n    }\n\n    getTripTime = () => {\n        const diff = new Date(this.state.trip.time.checkOut).getTime() - new Date(this.state.trip.time.checkIn).getTime()\n        return diff / 1000 / 60 / 60 / 24\n    }\n\n    getCells = () => {\n        const cells = []\n        for (var i = 0; i < 100; i++) {\n            cells.push(<div key={Math.random()} className=\"cell\"></div>)\n        }\n        return cells\n    }\n\n    render() {\n        const { stay, getTotalRate } = this.props\n        const { trip, isAvailable } = this.state\n        const { time } = trip\n        const { checkIn, checkOut } = time;\n        const { reviews, price } = stay\n\n        return (\n            <section className=\"order-form-container\">\n                <div className=\"order-form-sticky\">\n                    <div className=\"order-form\">\n                        <div className=\"order-form-header\">\n                            <p><span className=\"order-price\">${(trip.guests.kids + trip.guests.adults === 0) ? price : ((trip.guests.kids + trip.guests.adults) * price).toLocaleString(\"en-US\")}</span> / night</p>\n                            <span className=\"stay-rate-display\"><i className=\"fas fa-star\"></i>{getTotalRate()}<p> ({reviews.length} reviews) </p></span>\n                        </div>\n                        <form>\n                            <div className=\"order-form-date-picker\">\n                                <label htmlFor=\"check-in\" className=\"check-in\">\n                                    <span>Check in</span>\n                                    <input defaultValue={checkIn} id=\"check-in\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')} />\n                                </label>\n                                <label htmlFor=\"check-out\" className=\"check-out\">\n                                    <span>Check out</span>\n                                    <input defaultValue={checkOut} id=\"check-out\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')} />\n                                </label>\n                            </div>\n                            <label className=\"guests-lable\" >\n                                <span>Guests</span>\n                                <input onClick={(event) => { this.onSetModal(event, 'book-guests') }} name=\"guests\" value={trip.guests.kids + trip.guests.adults} type=\"text\" placeholder=\"Add guests\" onChange={this.handleChange} />\n                            </label>\n                            <div className=\"book-stay-btn book-stay-btn-container\" onClick={!isAvailable ? this.toggleAvailability : this.onReserveTrip}>\n                                {this.getCells()}\n                                <div className=\"content\">\n                                    <button className=\"action-btn\">\n                                        <span>{!isAvailable ? 'Check availability' : 'Reserve'}</span>\n                                    </button>\n                                </div>\n                            </div>\n                            {isAvailable && <div className=\"book-info\">\n                                <h4>You won't be charged yet</h4>\n                                <h3><span>${price.toLocaleString(\"en-US\")} X {this.getTripTime()} night{this.getTripTime() > 1 && 's'}</span> <span>${(((trip.guests.kids + trip.guests.adults) * price) * this.getTripTime()).toLocaleString(\"en-US\")}</span></h3>\n                                <h3><span>Cleaning fee</span> <span>${(6 * this.getTripTime())}</span></h3>\n                                <h3><span>Service fee</span> <span>${(17 * this.getTripTime())}</span></h3>\n                                <h5><span>Total</span><span>${((this.getTripTime() * 6 * 17) + (((trip.guests.kids + trip.guests.adults) * price) * this.getTripTime())).toLocaleString('en-US')}</span></h5>\n                            </div>}\n                        </form>\n                    </div>\n                    <span className=\"report-listing-btn\"><i className=\"fab fa-font-awesome-flag\"></i><p>Report this listing</p></span>\n                </div>\n            </section>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        loggedInUser: state.userModule.loggedInUser,\n        trip: state.tripModule.trip\n    }\n}\n\nconst mapDispatchToProps = {\n    addOrder,\n    login\n}\n\nexport const BookStay = connect(mapStateToProps, mapDispatchToProps)(_BookStay)","import { orderService } from '../../services/order-service'\n\nexport function loadOrders(user) {\n  return async dispatch => {\n    try {\n      const orders = await orderService.query(user)\n      dispatch({ type: 'SET_ORDERS', orders })\n    } catch (err) {\n      console.log('OrderActions: err in loadOrders', err)\n    }\n  }\n}\n\nexport function addOrder(trip, stay, loggedInUser) {\n  return async dispatch => {\n    try {\n      const addedOrder = await orderService.add(trip, stay, loggedInUser)\n      dispatch({ type: 'ADD_ORDER', order: addedOrder })\n      return addedOrder\n    } catch (err) {\n      console.log('OrderActions: err in addOrder', err)\n    }\n  }\n}\n\nexport function updateOrder(order) {\n  return async dispatch => {\n    try {\n      const updatedOrder = await orderService.update(order)\n      dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\n    } catch (err) {\n      console.log('StayActions: err in update Stay', err)\n    }\n  }\n}\n\nexport function removeOrder(orderId) {\n  return async dispatch => {\n    try {\n      await orderService.remove(orderId)\n      dispatch({ type: 'REMOVE_ORDER', orderId })\n    } catch (err) {\n      console.log('OrderActions: err in removeOrder', err)\n    }\n  }\n}\n","import { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport { Component } from 'react';\n\nclass _GoogleMap extends Component {\n\n    state = {\n        lat: -8.61308,\n        lng: 41.1413\n    }\n\n    componentDidMount() {\n        this.setState({ lat: this.props.pos.lat, lng: this.props.pos.lng })\n    }\n\n    render() {\n        return (\n            <section className=\"google-map\">\n                <Map\n                    className=\"map\"\n                    google={this.props.google}\n                    zoom={14}\n                    initialCenter={{\n                        lat: this.state.lat,\n                        lng: this.state.lng\n                    }}\n                    center={this.state}\n                >\n                    <Marker\n                        position={this.state}\n                        name={'Current location'} />\n\n                    <InfoWindow\n                        visible={true}\n                        position={this.state}\n                    >\n                        <div>\n                            <h1>Your next trip is here!</h1>\n                        </div>\n                    </InfoWindow>\n                </Map>\n            </section>\n        )\n    }\n}\n\nexport const GoogleMap = GoogleApiWrapper({\n    apiKey: ('AIzaSyCUEnEL-D59JCymx_6jmOZ6FkBaCKTYTTI')\n})(_GoogleMap)","import { useState } from \"react\";\nimport { css } from \"@emotion/react\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n\nexport function Loader() {\n  let [loading ] = useState(true);\n  let [color ] = useState(\"#FF385C\");\n\n  return (\n    <div className=\"BeatLoader main-loader page main\">\n      <BeatLoader color={color} loading={loading} css={override} size={20} />\n    </div>\n  );\n}\n","import { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { stayService } from '../services/stay-service'\nimport { ReviewList } from '../cmps/stay-details/ReviewList'\nimport { AddReview } from '../cmps/stay-details/AddReview'\nimport { BookStay } from '../cmps/stay-details/BookStay'\nimport { GoogleMap } from '../cmps/stay-details/GoogleMap'\nimport ReactStars from 'react-rating-stars-component'\nimport { Loader } from '../cmps/app/Loader'\n\nexport class StayDetails extends Component {\n\tstate = {\n\t\tstay: null,\n\t\ttoggleWish: '',\n\t}\n\n\tasync componentDidMount() {\n\t\tthis.scrollUp();\n\t\tawait this.loadStay();\n\t\tthis.props.setHomePage('stay')\n\t}\n\n\tscrollUp = () => {\n\t\twindow.scroll({\n\t\t\ttop: 0,\n\t\t\tbehavior: 'smooth',\n\t\t})\n\t}\n\n\tsetWishList = () => {\n\t\tconst user = this.props.loggedInUser;\n\t\tif (!user.wishlist) return;\n\t\tconst match = user.wishlist.findIndex(\n\t\t\t(wishId) => wishId === this.state.stay._id\n\t\t)\n\t\tif (match !== -1) {\n\t\t\tthis.setState({ ...this.state, toggleWish: true });\n\t\t}\n\t}\n\n\tloadStay = async () => {\n\t\tconst { stayId } = this.props.match.params\n\t\tconst stay = await stayService.getById(stayId)\n\t\tthis.setState({ stay })\n\t\tif (this.props.loggedInUser) {\n\t\t\tthis.setWishList()\n\t\t}\n\t}\n\n\tsetWishList = () => {\n\t\tconst user = this.props.loggedInUser\n\t\tif (!user.wishlist) return\n\t\tconst match = user.wishlist.findIndex((wishId) => wishId === this.state.stay._id)\n\t\tif (match !== -1) {\n\t\t\tthis.setState({ ...this.state, toggleWish: true })\n\t\t}\n\t}\n\n\tonAddToWishList = () => {\n\t\tconst user = this.props.loggedInUser\n\t\tif (!user) {\n\t\t\tthis.props.toggleMsgModal(\n\t\t\t\t<span>\n\t\t\t\t\t<h2>You must log in frist</h2>\n\t\t\t\t\t<Link to='/login'>Login</Link>\n\t\t\t\t\t<button className=\"demo-user-btn\" onClick={() => { this.props.login({ username: 'mor', password: '1111' }) }}>Demo User</button>\n\t\t\t\t</span>\n\t\t\t)\n\t\t\treturn\n\t\t}\n\t\tif (user.wishlist) {\n\t\t\tconst wishId = user.wishlist.find((wish) => wish === this.state.stay._id)\n\t\t\tif (!wishId) {\n\t\t\t\tthis.setState({ ...this.state, toggleWish: true })\n\t\t\t\tuser.wishlist.push(this.state.stay._id)\n\t\t\t} else {\n\t\t\t\tlet idx = user.wishlist.findIndex((wishidx) => wishidx === wishId)\n\t\t\t\tthis.setState({ ...this.state, toggleWish: false })\n\t\t\t\tuser.wishlist.splice(idx, 1)\n\t\t\t}\n\t\t} else user.wishlist = [this.state.stay._id]\n\t\tthis.props.updateUser(user)\n\t}\n\n\tgetTotalRate = () => {\n\t\tconst rates = this.state.stay.reviews.map((review) => review.avgRate)\n\t\tconst sum = rates.reduce((acc, rate) => {\n\t\t\tacc += rate\n\t\t\treturn acc\n\t\t}, 0);\n\t\tif (sum === 0) return 'new'\n\t\treturn (sum / rates.length).toFixed(2)\n\t}\n\n\tgetStayReviewStatistics = () => {\n\t\tconst { reviews } = this.state.stay\n\t\tconst num = reviews.length\n\n\t\tif (!reviews) return\n\t\tconst reviewCtgMap = {\n\t\t\tCleanliness: 0,\n\t\t\tAccuracy: 0,\n\t\t\tCommunication: 0,\n\t\t\tLocation: 0,\n\t\t\t'Check-in': 0,\n\t\t\tAccessibility: 0,\n\t\t}\n\n\t\treviews.forEach((review) => {\n\t\t\tfor (const key in review.categories) {\n\t\t\t\treviewCtgMap[key] += review.categories[key]\n\t\t\t}\n\t\t})\n\n\t\tfor (const ctg in reviewCtgMap) {\n\t\t\treviewCtgMap[ctg] = +(reviewCtgMap[ctg] / num).toFixed(2)\n\t\t}\n\n\t\tconst elReviews = []\n\t\tfor (const ctg in reviewCtgMap) {\n\t\t\telReviews.push(\n\t\t\t\t<div key={Math.random()} className=\"ctg-statistics\">\n\t\t\t\t\t<h3>{ctg}</h3>\n\t\t\t\t\t<ReactStars\n\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\tvalue={reviewCtgMap[ctg]}\n\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\tedit={false}\n\t\t\t\t\t\tactiveColor=\"#ff385c\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\treturn elReviews\n\t}\n\n\tgetAmenityIcon(amenity) {\n\t\tswitch (amenity) {\n\t\t\tcase 'TV':\n\t\t\t\treturn <i className=\"fas fa-tv\"></i>\n\t\t\tcase 'Wifi':\n\t\t\t\treturn <i className=\"fas fa-wifi\"></i>\n\t\t\tcase 'Air conditioning':\n\t\t\t\treturn <i className=\"fas fa-fan\"></i>\n\t\t\tcase 'Smoking allowed':\n\t\t\t\treturn <i className=\"fas fa-smoking\"></i>\n\t\t\tcase 'Pets allowed':\n\t\t\t\treturn <i className=\"fas fa-paw\"></i>\n\t\t\tcase 'Cooking basics':\n\t\t\t\treturn <i className=\"fas fa-blender\"></i>\n\t\t\tdefault:\n\t\t\t\treturn <i className=\"fab fa-airbnb\"></i>\n\t\t}\n\t}\n\n\taddReview = (review) => {\n\t\tconst { stay } = this.state\n\t\tstay.reviews.push(review)\n\t\tthis.props.updateStay(stay)\n\t\tthis.props.toggleMsgModal(\n\t\t\t<span>\n\t\t\t\t<i className=\"far fa-check-circle\"></i>\n\t\t\t\t<h3>Your review has been saved</h3>\n\t\t\t</span>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst { stay } = this.state;\n\t\tif (!stay) return <Loader />\n\n\t\tconst {\n\t\t\tloggedInUser,\n\t\t\ttoggleMsgModal,\n\t\t\tonSearch,\n\t\t\topenDynamicModal,\n\t\t\tmodalType,\n\t\t\tsetModalContent\n\t\t} = this.props\n\n\t\tconst { toggleWish } = this.state\n\t\tconst {\n\t\t\tloc,\n\t\t\tcapacity,\n\t\t\tdesc,\n\t\t\tamenities,\n\t\t\tstayType,\n\t\t\tpropertyType,\n\t\t\treviews,\n\t\t\tname,\n\t\t\thost,\n\t\t} = stay\n\n\t\treturn (\n\t\t\t<main className=\"stay-details-container narrow\">\n\t\t\t\t<section className=\"stay-details-header\">\n\t\t\t\t\t<h1>{name}</h1>\n\t\t\t\t\t<div className=\"stay-short-info\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span className=\"stay-rate-display\">\n\t\t\t\t\t\t\t\t<i className=\"fas fa-star\"></i>\n\t\t\t\t\t\t\t\t<span>{this.getTotalRate()}</span>\n\t\t\t\t\t\t\t\t<p> ( {reviews.length} reviews )</p>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t<p>{loc.address}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"action-btn-container\">\n\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-external-link-alt\"></i>share\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={this.onAddToWishList} className=\"stay-save-btn\">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<i className={toggleWish ? 'fas fa-heart' : 'far fa-heart'}\t></i>\n\t\t\t\t\t\t\t\t\tsave\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<div id=\"stay-gallery\" className=\"stay-gallery\">\n\t\t\t\t\t{stay.imgUrls.map((imgUrl, idx) => {\n\t\t\t\t\t\tif (idx < 5) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<img src={imgUrl} alt=\"stay-gallery-preview-img\" key={Math.random()} />\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse return ''\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<section className=\"stay-info-container\">\n\t\t\t\t\t<div className=\"stay-long-info\">\n\n\t\t\t\t\t\t<div className=\"stay-long-info-header\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2>{`${propertyType} hosted by ${host.fullname}`}</h2>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{capacity} guests  {stayType}  {propertyType}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<img src={host.imgUrl} alt=\"avatar\" />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"stay-feature-container\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-home\"></i>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h3>{stayType}</h3>\n\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\t{stayType === 'entire place'\n\t\t\t\t\t\t\t\t\t\t\t? \"You'll have the place to yourself.\"\n\t\t\t\t\t\t\t\t\t\t\t: \"You'll have a private room to yourself.\"}\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-book-open\"></i>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h3>House rules</h3>\n\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\tThis place isnt suitable for children under 12 and the host\n\t\t\t\t\t\t\t\t\t\tdoesnt allow pets.\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-medal\"></i>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h3>{host.fullname} is a Superhost</h3>\n\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\tSuperhosts are experienced, highly rated hosts who are\n\t\t\t\t\t\t\t\t\t\tcommitted to providing great stays for guests.\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-bookmark\"></i>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h3>Wifi</h3>\n\t\t\t\t\t\t\t\t\t<h4>Guests often search for this popular amenity</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"description\">\n\t\t\t\t\t\t\t<h2>Description</h2>\n\t\t\t\t\t\t\t<span>{desc}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div id=\"amenities\" className=\"amenities-list\">\n\t\t\t\t\t\t\t<h2>Amenities</h2>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{amenities.map((amenity) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={Math.random()}>\n\t\t\t\t\t\t\t\t\t\t\t<span>{this.getAmenityIcon(amenity)}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{amenity}</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<BookStay\n\t\t\t\t\t\tstay={stay}\n\t\t\t\t\t\tgetTotalRate={this.getTotalRate}\n\t\t\t\t\t\tonSearch={onSearch}\n\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t\ttoggleMsgModal={toggleMsgModal}\n\t\t\t\t\t\topenDynamicModal={openDynamicModal}\n\t\t\t\t\t\tmodalType={modalType}\n\t\t\t\t\t\tsetModalContent={setModalContent}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"stay-review-container\">\n\t\t\t\t\t<div className=\"stay-review-header\">\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t<span className=\"stay-rate-display\">\n\t\t\t\t\t\t\t\t<i className=\"fas fa-star\"></i>\n\t\t\t\t\t\t\t\t{this.getTotalRate()} <p> ({reviews.length} reviews)</p>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<div className=\"stay-review-ststistics\">\n\t\t\t\t\t\t\t{this.getStayReviewStatistics().map((elCtgRate) => elCtgRate)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ReviewList reviews={reviews} />\n\t\t\t\t</section>\n\t\t\t\t<section className=\"stay-review\">\n\t\t\t\t\t<AddReview loggedInUser={loggedInUser} addReview={this.addReview} />\n\t\t\t\t</section>\n\t\t\t\t<section className=\"stay-details-map\">\n\t\t\t\t\t<h2>Location</h2>\n\t\t\t\t\t<h3>{loc.address}</h3>\n\t\t\t\t\t<GoogleMap pos={loc} />\n\t\t\t\t</section>\n\t\t\t</main>\n\t\t)\n\t}\n}\n","export default __webpack_public_path__ + \"static/media/user-lock.b5a4d298.PNG\";","export default __webpack_public_path__ + \"static/media/user-card.45d2a01a.PNG\";","import { Component } from \"react\";\nimport { userService } from \"../services/user-service\";\nimport Lock from '../assets/img/user-lock.PNG'\nimport Card from '../assets/img/user-card.PNG'\n\n\nexport class UserDetails extends Component {\n\n  state = {\n    user: \"\",\n    isEditMode: false\n  }\n\n  componentDidMount() {\n    this.loadUser()\n    this.props.setFooterDisplay(false)\n    this.props.setHomePage('user')\n  }\n\n  componentWillUnmount() {\n    this.props.setFooterDisplay(true)\n  }\n\n  loadUser = async () => {\n    let sessionUser = sessionStorage.getItem('loggedinUser')\n    sessionUser = JSON.parse(sessionUser)\n    const user = await userService.getById(sessionUser._id)\n    this.setState({ user })\n  }\n\n  handleChange = ({ target }) => {\n    const { name } = target\n    const { value } = target\n    this.setState({ user: { ...this.state.user, [name]: value } })\n  }\n\n  onUpdateUser = () => {\n    this.props.updateUser(this.state.user)\n    this.toggleEditMode()\n  }\n\n  toggleEditMode = () => {\n    this.setState({ isEditMode: !this.state.isEditMode })\n  }\n\n  render() {\n    const currUser = this.state.user\n\n    if (!currUser) return <h1>loading...</h1>\n    const { fullname, username, email, imgUrl } = currUser\n    const isEditMode = this.state.isEditMode\n\n    return (\n\n      <main className=\"user-details main page\">\n        <h1>Personal info</h1>\n\n        <section className=\"main-user-details\">\n          {!isEditMode &&\n            <div className=\"user-details-info\">\n              <div className=\"user-info-header\">\n                <img src={imgUrl} alt=\"avatar\" />\n                <span>\n                  <h4>{'Hello ' + fullname}</h4>\n                  <p>It's nice to have you with us</p>\n                </span>\n              </div>\n              <div>\n                <h4>full name</h4>\n                <p> {fullname}</p>\n              </div>\n              <div>\n                <h4>username</h4>\n                <p>{username}</p>\n              </div>\n              <div>\n                <h4>email</h4>\n                <p>{email}</p>\n              </div>\n              <button onClick={this.toggleEditMode}>Edit</button>\n            </div>}\n\n          {isEditMode &&\n            <div className=\"user-details-info user-edit\" >\n\n              <div className=\"user-info-header\">\n                <img src={imgUrl} alt=\"avatar\" />\n                <span>\n                  <h4>{'Hello ' + fullname}</h4>\n                  <p>It's nice to have you with us</p>\n                </span>\n              </div>\n\n              <div>\n                <h4>full name</h4>\n                <p><input type=\"text\" name=\"fullname\" autoComplete=\"off\" onChange={this.handleChange} value={fullname} /></p>\n              </div>\n\n              <div>\n                <h4>username</h4>\n                <p><input type=\"text\" name=\"username\" autoComplete=\"off\" onChange={this.handleChange} value={username} /></p>\n              </div>\n\n              <div>\n                <h4>email</h4>\n                <p><input type=\"text\" name=\"email\" autoComplete=\"off\" onChange={this.handleChange} value={email} /></p>\n              </div>\n              <button onClick={this.onUpdateUser}>save</button>\n            </div>}\n\n          <section className=\"general-info-container\">\n            <div>\n              <img src={Lock} alt=\"lock\" />\n              <h3>Which details can be edited?</h3>\n              <p>Details Airbnb uses to verify your identity cant be changed. Contact info and some personal details can be edited, but we may ask you verify your identity the next time you book or create a listing.</p>\n            </div>\n            <div>\n              <img src={Card} alt=\"card\" />\n              <h3>What info is shared with others?</h3>\n              <p>Airbnb only releases contact information for hosts and guests after a reservation is confirmed.</p>\n            </div>\n          </section>\n        </section>\n      </main>\n    );\n  }\n}\n","import React from \"react\";\nimport Slider from \"react-slick\";\n\nexport function StayGallery({ stay }) {\n    var settings = {\n        dots: false,\n        infinite: true,\n        arrows: true,\n        speed: 500,\n        slidesToShow: 1,\n        slidesToScroll: 1,\n    };\n    return (\n        <Slider {...settings} className=\"stay-preview-slider\">\n            <div>\n                <img src={stay.imgUrls[0]} alt=\"\" />\n            </div>\n            <div>\n                <img src={stay.imgUrls[1]} alt=\"\" />\n            </div>\n            <div>\n                <img src={stay.imgUrls[2]} alt=\"\" />\n            </div>\n            <div>\n                <img src={stay.imgUrls[3]} alt=\"\" />\n            </div>\n        </Slider>\n    );\n}\n\n\n","import { Link } from 'react-router-dom'\nimport { StayGallery } from '../explore/StayGallery'\n\nexport function StayPreview({ stay, loggedInUser, updateUser, toggleMsgModal, login, trip, addTrip, stayType, loadWishlist }) {\n\n    const getTotalRate = () => {\n        const rates = stay.reviews.map(review => review.avgRate)\n        const sum = rates.reduce((acc, rate) => {\n            acc += rate\n            return acc\n        }, 0)\n        if (sum === 0) return 'new'\n        return (sum / rates.length).toFixed(1)\n    }\n\n    function toggleWish(stayId) {\n        if (!loggedInUser) {\n            toggleMsgModal(<span><h2>You must log in frist</h2><Link to='/login'>Login</Link><button className=\"demo-user-btn\" onClick={() => { login({ username: 'mor', password: '1111' }) }}>Demo User</button></span>)\n            return false\n        }\n        if (!loggedInUser.wishlist) loggedInUser.wishlist = [stayId]\n        else {\n            let match = loggedInUser.wishlist.findIndex((wishId) => wishId === stayId)\n            if (match !== -1) {\n                loggedInUser.wishlist.splice(match, 1)\n            }\n            else loggedInUser.wishlist.push(stayId)\n        }\n        updateUser(loggedInUser)\n        if (stayType === 'wish') loadWishlist(loggedInUser)\n    }\n\n    function checkIsWish(stayId) {\n        if (!loggedInUser || !loggedInUser.wishlist) return false\n        const match = loggedInUser.wishlist.find((wishId) => wishId === stayId)\n        if (match) return true\n        return false\n    }\n\n    function onSelectStay() {\n        var updatedTrip = trip\n        updatedTrip.stay = stay\n        addTrip(updatedTrip)\n    }\n\n    return (\n        <section className=\"stay-preview-container\" >\n            <Link to={`/stay/${stay._id}`} onClick={onSelectStay} className=\"stay-preview-link\">\n                <StayGallery stay={stay} />\n                <div className=\"stay-preview-info\">\n                    <span className=\"stay-preview-rate\">\n                        <i className=\"fas fa-star\"></i>\n                        <p>{getTotalRate()}</p>\n                        <p>( {stay.reviews.length} )</p>\n                    </span>\n                    <h3>\n                        <span>{stay.propertyType}</span>\n                                     \n                        <span>{stay.loc.address.substring(0, stay.loc.address.indexOf(','))}</span>\n                    </h3>\n                    <h3>{stay.name}</h3>\n                    <h3 className=\"stay-price\"><span >${stay.price}</span> / night</h3>\n                </div>\n            </Link>\n            <button className=\"stay-preview-save-btn\" onClick={() => { toggleWish(stay._id) }} >\n                {!checkIsWish(stay._id) ? <i className=\"fas fa-heart off\"></i> : <i className=\"fas fa-heart\"></i>}\n            </button>\n        </section>\n    )\n}","import { StayPreview } from '../explore/StayPreview'\n\nexport function StayList({ stays, loggedInUser, updateUser, toggleMsgModal, login, trip,addTrip ,loadWishlist ,stayType}) {\n\n    return (\n        <section className=\"stay-list\">\n            {stays.map(stay => <StayPreview key={Math.random()} updateUser={updateUser} loggedInUser={loggedInUser} stay={stay} toggleMsgModal={toggleMsgModal} stayType={stayType} login={login} trip={trip} addTrip={addTrip} loadWishlist={loadWishlist}/>)}\n        </section>\n    )\n}","import { Component } from \"react\";\n\nexport class StayFilter extends Component {\n\n    state = {\n\n        dynamicModal: {\n            modalContent: '',\n            modalPosition: {}\n        }\n    }\n\n    componentDidMount() {\n        this.resetFilter()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.modalType !== this.props.modalType) {\n            this.openModal(this.props.modalType)\n        }\n    }\n\n    onSetModal = (event, modalKey) => {\n        const { x, y } = event.target.getBoundingClientRect()\n        const clickPos = { x, y: y+30 }\n        this.setState({\n            dynamicModal: {\n                ...this.state.dynamicModal,\n                modalPosition: clickPos\n            }\n        }, () => { this.openModal(modalKey) })\n    }\n\n    resetFilter = () => {\n        this.setState({\n            stayFilterBy: {\n                placeType: '',\n                propertyType: '',\n                price: 250,\n                amenities: {\n                    TV: false,\n                    Wifi: false,\n                    \"Air conditioning\": false,\n                    \"Smoking allowed\": false,\n                    \"Pets allowed\": false,\n                    \"Cooking basics\": false\n                }\n            }\n        }, () => { this.props.onfilterStays(this.state.stayFilterBy) })\n    }\n\n    handleChange = (key, val, isAmenities = false) => {\n        if (isAmenities) {\n            this.setState({ stayFilterBy: { ...this.state.stayFilterBy, amenities: { ...this.state.stayFilterBy.amenities, [key]: val } } }, () => {\n                this.openModal('amenities')\n                this.props.onfilterStays(this.state.stayFilterBy)\n            })\n\n        } else {\n            this.setState({ stayFilterBy: { ...this.state.stayFilterBy, [key]: val } }, () => {\n                if (key === 'price') this.openModal('price')\n                this.props.onfilterStays(this.state.stayFilterBy)\n            })\n        }\n    }\n\n    openModal = (modalKey) => {\n        const { price, amenities } = this.state.stayFilterBy\n        const dynamicModal = {}\n        const { x, y } = this.state.dynamicModal.modalPosition\n\n        switch (modalKey) {\n            case 'placeType':\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\n                    <div className=\"modal-label\">\n                        <div onClick={() => this.handleChange('placeType', 'entire place')}>\n                            <h4>Entire place</h4>\n                            <h5>You'll have the place to yourself</h5>\n                        </div>\n                        <div onClick={() => this.handleChange('placeType', 'private room')}>\n                            <h4>Private room</h4>\n                            <h5>You'll have a private room to yourself</h5>\n                        </div>\n                    </div>\n                </section>)\n                dynamicModal.modalPosition = { top: y, left: x }\n                break;\n            case 'propertyType':\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\n                    <div className=\"modal-label\">\n                        <div onClick={() => this.handleChange('propertyType', 'loft')}>\n                            <span>Loft</span>\n                        </div>\n                        <div onClick={() => this.handleChange('propertyType', 'studio')}>\n                            <span>Studio</span>\n                        </div>\n                        <div onClick={() => this.handleChange('propertyType', 'penthouse')}>\n                            <span>Penthouse</span>\n                        </div>\n                        <div onClick={() => this.handleChange('propertyType', 'appartment')}>\n                            <span>Appartment</span>\n                        </div>\n                        <div onClick={() => this.handleChange('propertyType', 'hotel')}>\n                            <span>Hotel</span>\n                        </div>\n                        <div onClick={() => this.handleChange('propertyType', 'villa')}>\n                            <span>villa</span>\n                        </div>\n                    </div>\n                </section>)\n                dynamicModal.modalPosition = { top: y, left: x }\n                break;\n            case 'price':\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\n                    <div className=\"modal-label\">\n                        <div className=\"price\">\n                            <button className=\"modal-btn\" type={\"button\"} onClick={() => { this.handleChange('price', (price - 10)) }}>-</button>\n                            <span>{price}</span>\n                            <button className=\"modal-btn\" type={\"button\"} onClick={() => { this.handleChange('price', (price + 10)) }}>+</button>\n                        </div>\n                    </div>\n                </section >)\n                dynamicModal.modalPosition = { top: y, left: x }\n                break;\n\n            case 'amenities':\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\n                    <div className=\"modal-label amenities\">\n                        <div className={amenities.TV ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('TV', !amenities.TV, true)} >\n                            <span >TV</span>\n                        </div>\n                        <div className={amenities.Wifi ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Wifi', !amenities.Wifi, true)}>\n                            <span>Wifi</span>\n                        </div>\n                        <div className={amenities[\"Air conditioning\"] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Air conditioning', !amenities[\"Air conditioning\"], true)}>\n                            <span>AC</span>\n                        </div >\n                        <div className={amenities['Smoking allowed'] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Smoking allowed', !amenities['Smoking allowed'], true)}>\n                            <span>Smoking allowed</span>\n                        </div>\n                        <div className={amenities['Pets allowed'] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Pets allowed', !amenities['Pets allowed'], true)}>\n                            <span>Pets allowed</span>\n                        </div>\n                        <div className={amenities['Cooking basics'] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Cooking basics', !amenities['Cooking basics'], true)}>\n                            <span>Cooking basics</span>\n                        </div>\n                    </div>\n                </section>)\n                dynamicModal.modalPosition = { top: y, left: x }\n                break;\n            case '':\n                dynamicModal.modalContent = ''\n                dynamicModal.modalPosition = { top: 0, left: 0, height: 0, width: 0 }\n                break;\n\n            default:\n                break;\n        }\n        this.props.setModalContent(dynamicModal, modalKey)\n    }\n\n    render() {\n\n        return (\n            <section className=\"stay-filter\">\n                <button onClick={(event) => { this.onSetModal(event, 'placeType') }} >Type of place</button>\n                <button onClick={(event) => { this.onSetModal(event, 'propertyType') }} >Property type</button>\n                <button onClick={(event) => { this.onSetModal(event, 'price') }}>Price</button>\n                <button onClick={(event) => { this.onSetModal(event, 'amenities') }} >Amenities</button>\n                <button onClick={this.resetFilter} >Clear</button>\n            </section>\n        )\n    }\n}","import { StayList } from '../cmps/explore/StayList'\nimport { StayFilter } from '../cmps/explore/StayFilter'\nimport { Component } from 'react'\nimport { Loader } from '../cmps/app/Loader'\n\nexport class Explore extends Component {\n\n  state = {\n    stays: []\n  }\n\n  componentDidMount() {\n    this.setState({ stays: this.props.stays })\n    this.props.setHomePage('explore')\n    this.scrollUp()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.stays !== this.props.stays) {\n      this.setState({ stays: this.props.stays });\n    }\n  }\n\n  onfilterStays = (filterBy) => {\n    var stays = filterStays(this.props.stays, filterBy)\n    this.setState({ stays })\n  }\n\n  scrollUp = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    })\n  }\n\n  render() {\n    const { trip, loggedInUser, updateUser, openDynamicModal, closeDynamicModal, setModalContent, toggleMsgModal, login, addTrip } = this.props\n    const { stays } = this.state\n    if (!stays) return <Loader />\n    return (\n      <main className=\"explore-container main page\">\n        <span>{stays.length} stays</span>\n        {trip.loc.address === \"\" && <h1>Find place to stay {trip && trip.loc && trip.loc.address && `in ${trip.loc.address}`}</h1>}\n        {trip.loc.address !== \"\" && <h1>Stays {trip && trip.loc && trip.loc.address && `in ${trip.loc.address}`}</h1>}\n        <StayFilter openDynamicModal={openDynamicModal} closeDynamicModal={closeDynamicModal} setModalContent={setModalContent} onfilterStays={this.onfilterStays} />\n        <StayList stays={stays} stayType={'explor'} updateUser={updateUser} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} login={login} trip={trip} addTrip={addTrip} />\n      </main>\n    )\n  }\n}\n\nfunction filterStays(stays, filterBy) {\n  let filteredStays = [];\n  stays.forEach(stay => {\n    if (_isTypePlace(stay, filterBy.placeType) && _isPropertyType(stay, filterBy.propertyType)\n      && _isPrice(stay, filterBy.price) && _isAmenities(stay, filterBy.amenities)) {\n      (Math.random() < 0.5) ? filteredStays.unshift(stay) : filteredStays.push(stay);\n    }\n  })\n  return filteredStays\n}\n\nfunction _isTypePlace(stay, filter) {\n  return (filter === '' || stay.stayType === filter) ? true : false\n}\nfunction _isPropertyType(stay, filter) {\n  return (filter === '' || stay.propertyType === filter) ? true : false\n}\nfunction _isPrice(stay, filter) {\n  return (stay.price <= filter) ? true : false\n}\nfunction _isAmenities(stay, filter) {\n  var _isAmenities = true;\n  for (const key in filter) {\n    if (filter[key] === true && !stay.amenities.find(amenity => amenity === key)) _isAmenities = false\n  }\n  return _isAmenities\n}","import { StayList } from '../cmps/explore/StayList'\nimport { Component } from 'react'\n\nexport class Wishlist extends Component {\n\n  componentDidMount() {\n    this.props.loadWishlist(this.props.loggedInUser)\n    this.props.setHomePage('wishlist')\n  }\n\n  scrollUp = () => {\n    window.scroll({\n      top: 0,\n      behavior: 'smooth'\n    })\n  }\n\n  render() {\n    const { stays, loggedInUser, toggleMsgModal, login, updateUser, trip, addTrip, loadWishlist } = this.props\n    this.scrollUp()\n\n    return (\n      <main className=\"explore-container wishlist main page\">\n        <span>{stays.length} stays</span>\n        <h1>Wishlist</h1>\n        <StayList stays={stays} stayType={'wish'} updateUser={updateUser} toggleMsgModal={toggleMsgModal} loggedInUser={loggedInUser} login={login} trip={trip} addTrip={addTrip} loadWishlist={loadWishlist} />\n\n      </main>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Loader } from '../cmps/app/Loader';\nimport { socketService } from '../services/socketService.js'\n\nimport {\n\tloadUsers,\n\tremoveUser,\n\tlogin,\n\tlogout,\n\tsignup,\n} from '../store/actions/userActions';\n\nclass _LoginSignup extends Component {\n\tstate = {\n\t\tmsg: '',\n\t\tloginCred: {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t},\n\t\tsignupCred: {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tfullname: '',\n\t\t\temail: '',\n\t\t},\n\t\tformType: 'login',\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.props.setFooterDisplay(false)\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.setFooterDisplay(true)\n\t}\n\n\tloginHandleChange = (ev) => {\n\t\tconst { name, value } = ev.target;\n\t\tthis.setState((prevState) => ({\n\t\t\tloginCred: {\n\t\t\t\t...prevState.loginCred,\n\t\t\t\t[name]: value,\n\t\t\t},\n\t\t}));\n\t};\n\n\tsignupHandleChange = (ev) => {\n\t\tconst { name, value } = ev.target;\n\t\tthis.setState((prevState) => ({\n\t\t\tsignupCred: {\n\t\t\t\t...prevState.signupCred,\n\t\t\t\t[name]: value,\n\t\t\t},\n\t\t}));\n\t};\n\n\tdoLogin = async (ev) => {\n\t\tev.preventDefault();\n\t\tconst { username, password } = this.state.loginCred;\n\t\tif (!username) {\n\t\t\treturn this.setState({ msg: 'Please enter user/password' });\n\t\t}\n\t\tconst userCreds = { username, password };\n\t\ttry {\n\t\t\tawait this.props.login(userCreds);\n\t\t\tif (this.props.loggedInUser) {\n\t\t\t\tsocketService.emit('LOGIN', this.props.loggedInUser)\n\t\t\t}\n\t\t\tthis.setState({ loginCred: { username: '', password: '' } }, this.props.history.go(-1)\n\t\t\t)\n\t\t} catch (err) {\n\t\t\tthis.setState({ msg: 'Login failed, try again.' });\n\t\t}\n\t};\n\n\tdoSignup = async (ev) => {\n\t\tev.preventDefault();\n\t\tconst { username, password, fullname, email } = this.state.signupCred;\n\t\tif (!username || !password || !fullname || !email) {\n\t\t\treturn this.setState({ msg: 'All inputs are required' });\n\t\t}\n\t\tconst signupCreds = { username, password, fullname, email };\n\t\tawait this.props.signup(signupCreds);\n\t\tif (this.props.loggedInUser) {\n\t\t\tsocketService.emit('LOGIN', this.props.loggedInUser)\n\t\t}\n\t\tthis.setState(\n\t\t\t{ signupCred: { username: '', password: '', fullname: '', email: '' } },\n\t\t\tthis.props.history.go(-1)\n\t\t);\n\t};\n\n\tremoveUser = (userId) => {\n\t\tthis.props.removeUser(userId);\n\t};\n\n\ttoggleFormType = () => {\n\t\tconst currForm = this.state.formType;\n\t\tconst nextForm = currForm === 'login' ? 'signup' : 'login';\n\t\tthis.setState({ formType: nextForm });\n\t};\n\n\trender() {\n\t\tlet signupSection = (\n\t\t\t<form className=\"login-form\" onSubmit={this.doSignup}>\n\t\t\t\t<div className=\"login-form-header\">\n\t\t\t\t\t<h2>Sign Up</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"login-form-body\">\n\t\t\t\t\t<h1>Welcome to Home and go</h1>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"fullname\"\n\t\t\t\t\t\tvalue={this.state.signupCred.fullname}\n\t\t\t\t\t\tonChange={this.signupHandleChange}\n\t\t\t\t\t\tplaceholder=\"Full name\"\n\t\t\t\t\t\tautoComplete=\"fullname\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={this.state.signupCred.password}\n\t\t\t\t\t\tonChange={this.signupHandleChange}\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tvalue={this.state.signupCred.username}\n\t\t\t\t\t\tonChange={this.signupHandleChange}\n\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={this.state.signupCred.email}\n\t\t\t\t\t\tonChange={this.signupHandleChange}\n\t\t\t\t\t\tplaceholder=\"email\"\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button className=\"login-btn\" type=\"submit\">\n\t\t\t\t\t\tsign up\n\t\t\t\t\t</button>\n\t\t\t\t\t<div className=\"login-actions-btn\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"toggle-form-btn\"\n\t\t\t\t\t\t\tonClick={this.toggleFormType}>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\tI already have an account\n\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t)\n\t\tlet loginSection = (\n\t\t\t<form className=\"login-form\" onSubmit={this.doLogin}>\n\t\t\t\t<div className=\"login-form-header\">\n\n\t\t\t\t\t<h2>Log in</h2>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"login-form-body\">\n\n\t\t\t\t\t<h1>Welcome back </h1>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={this.state.loginCred.username}\n\t\t\t\t\t\tonChange={this.loginHandleChange}\n\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={this.state.loginCred.password}\n\t\t\t\t\t\tonChange={this.loginHandleChange}\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button type=\"submit\" className=\"login-btn\">\n\t\t\t\t\t\tsubmit\n\t\t\t\t</button>\n\t\t\t\t\t<div className=\"login-actions-btn\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"toggle-form-btn\"\n\t\t\t\t\t\t\tonClick={this.toggleFormType}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNew user?\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"forgot-password-btn\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\talert('Tough Luck');\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tForgot Password?\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t)\n\n\t\tconst { loggedInUser } = this.props;\n\t\tconst { formType } = this.state;\n\n\t\treturn (\n\t\t\t<main className=\"login-container main page\">\n\t\t\t\t<p>{this.state.msg}</p>\n\t\t\t\t{loggedInUser && <button onClick={this.props.logout}>logged out</button>}\n\n\t\t\t\t<section className=\"login-forms-container\">\n\t\t\t\t\t{!loggedInUser && formType === 'login' && loginSection}\n\t\t\t\t\t{!loggedInUser && formType === 'signup' && signupSection}\n\t\t\t\t</section>\n\n\t\t\t\t{loggedInUser && loggedInUser.isAdmin && (\n\t\t\t\t\t<section className=\"admin\">\n\t\t\t\t\t\t<details>\n\t\t\t\t\t\t\t<summary>Admin</summary>\n\t\t\t\t\t\t\t<button onClick={this.props.loadUsers}>Refresh Users</button>\n\t\t\t\t\t\t\t{this.props.isLoading && <Loader />}\n\t\t\t\t\t\t\t{this.props.users && (\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t{this.props.users.map((user) => (\n\t\t\t\t\t\t\t\t\t\t<li key={Math.random()}>\n\t\t\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(user, null, 2)}</pre>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.removeUser(user._id);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tRemove {user.username}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</details>\n\t\t\t\t\t</section>\n\t\t\t\t)}\n\t\t\t</main>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tusers: state.userModule.users,\n\t\tloggedInUser: state.userModule.loggedInUser,\n\t\tisLoading: state.systemModule.isLoading,\n\t};\n};\nconst mapDispatchToProps = {\n\tlogin,\n\tlogout,\n\tsignup,\n\tremoveUser,\n\tloadUsers,\n};\n\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup);\n","import { Link } from \"react-router-dom\";\n\nexport function FilterGallery({ stays ,addTrip}) {\n\n    function onSelectStay(stay) {\n        addTrip({ guests: { adults: 1, kids: 0 }, loc: { address: '' }, time: { checkIn: '', checkOut: '' }, stay })\n    }\n    \n    return (\n        <section className=\"filter-gallery\">\n            {stays.map((stay, idx) => {\n                if (idx < 4) {\n                    return (\n                        <Link to={`/stay/${stay._id}`} key={Math.random()} onClick={() => onSelectStay(stay)}>\n                            <div className=\"gallery-preview-img\">\n                                <img src={`${stay.imgUrls[0]}`} alt={stay.name} />\n                            </div>\n                            <h3>{stay.name}</h3>\n                        </Link>\n                    )\n                }\n                else return ''\n            })}\n        </section>\n    )\n}\n","import { Link } from 'react-router-dom'\n\nexport function Banner({ name, btnTxt, title, subtitle,loggedInUser }) {\n\n    return (\n        <section className={\"banner \" + name}>\n            <div>\n                <h1>{title}</h1>\n                <h2>{subtitle}</h2>\n                {title ==='Become a host' && <button><Link to={(loggedInUser)? `/host/${loggedInUser._id}`:\"/host\"}>{btnTxt}</Link></button>}\n                {title !=='Become a host' && <button>{btnTxt}</button>}\n            </div>\n        </section>\n    )\n}","import { Link } from \"react-router-dom\";\n\n\nexport function Hero({ loadStays,addTrip }) {\n\n    async function explorAll() {\n        const trip = {\n            guests: { adults: 1, kids: 0 },\n            loc: { address: '' },\n            time: { checkIn: '', checkOut: '' }\n        }\n        await addTrip(trip)\n        loadStays()\n    }\n\n    return (\n        <section className=\"main-hero full\">\n            <div>\n                <h1>Discover stays to live, work, or just relax.</h1>\n                <button onClick={explorAll}><Link to=\"/explore\">Explore now</Link></button>\n            </div>\n        </section>\n    )\n}","import { Link } from 'react-router-dom'\n\nexport function FilterCities({ onSearch }) {\n\n    function onSelectTopCity(city) {\n        const trip = {\n            guests: { adults: 1, kids: 0 },\n            loc: { address: city },\n            time: { checkIn: '', checkOut: '' }\n        }\n        onSearch(trip)\n    }\n\n    return (\n        <main className=\"top-cities-gallery\">\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Hong Kong') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/be4d3ba5-08d7-4afe-95a7-f2da6453886a.jpg?im_q=medq&im_w=240\" alt=\"TopCities\" />\n                <div className=\"city-details-container\">\n                    <h3>Hong Kong</h3>\n                    <div className=\"city-details\">\n                        <h4>China</h4>\n                    </div>\n                </div>\n            </Link>\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Bangkok') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/7253e011-7c22-48fd-b75d-d0da35372397.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\n                <div className=\"city-details-container\">\n                    <h3>Bangkok</h3>\n                    <div className=\"city-details\">\n                        <h4>Thailand</h4>\n                    </div>\n                </div>\n            </Link>\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('London') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/52e8083e-2de2-446d-a860-534eab250541.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\n                <div className=\"city-details-container\">\n                    <h3>London</h3>\n                    <div className=\"city-details\">\n                        <h4>England</h4>\n                    </div>\n                </div>\n            </Link>\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Paris') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/20e74de0-0eb8-4fca-afb8-b111875acdf5.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\n                <div className=\"city-details-container\">\n                    <h3>Paris</h3>\n                    <div className=\"city-details\">\n                        <h4>France</h4>\n                    </div>\n                </div>\n            </Link>\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Dubai') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/e639b7ab-aee3-48ee-9743-216684a51319.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\n                <div className=\"city-details-container\">\n                    <h3>Dubai</h3>\n                    <div className=\"city-details\">\n                        <h4>United Arab Emirates</h4>\n                    </div>\n                </div>\n            </Link>\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('New York') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/ca3737ef-0faf-46ba-b055-b4a2d99e2cea.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\n                <div className=\"city-details-container\">\n                    <h3>New York</h3>\n                    <div className=\"city-details\">\n                        <h4>United States</h4>\n                    </div>\n                </div>\n            </Link>\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Amsterdam') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/585d1e53-e2e1-4baf-a34e-36301dd1e2da.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\n                <div className=\"city-details-container\">\n                    <h3>Amsterdam</h3>\n                    <div className=\"city-details\">\n                        <h4>Netherlands</h4>\n                    </div>\n                </div>\n            </Link>\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Tel Aviv') }} className=\"top-cities-card\">\n                <img src=\"https://a0.muscache.com/im/pictures/7c309a70-bc93-4603-8d3b-9d4cd9bf75b2.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\n                <div className=\"city-details-container\">\n                    <h3>Tel Aviv</h3>\n                    <div className=\"city-details\">\n                        <h4>Israel</h4>\n                    </div>\n                </div>\n            </Link>\n        </main>\n    )\n}","import { FilterGallery } from '../cmps/home/FilterGallery'\nimport { Banner } from '../cmps/home/Banner'\nimport { Hero } from '../cmps/home/Hero'\nimport { FilterCities } from '../cmps/home/FilterCities'\nimport { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport class Home extends Component {\n\n  componentDidMount() {\n    this.props.setHomePage('home')\n    this.scrollUp()\n  }\n\n  componentWillUnmount() {\n    this.props.setHomePage('')\n  }\n\n  scrollUp = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    })\n  }\n\n  explorAll = async () => {\n    const trip = {\n      guests: { adults: 1, kids: 0 },\n      loc: { address: '' },\n      time: { checkIn: '', checkOut: '' }\n    }\n    await this.props.addTrip(trip)\n    this.props.loadStays()\n  }\n\n  render() {\n    const { loggedInUser, onSearch, topRatedStays, nearbayStays, loadStays, addTrip } = this.props\n\n    return (\n      <main className=\"home-page main\">\n        <Hero loadStays={loadStays} addTrip={addTrip} />\n        <h1>Popular destinations</h1>\n        <FilterCities onSearch={onSearch} />\n        <div className=\"filter-gallery-header\">\n          <h1>Explore nearby</h1>\n          <Link to=\"/explore\" onClick={this.explorAll}>Show more</Link>\n        </div>\n        <FilterGallery stays={nearbayStays} addTrip={addTrip} />\n        <Banner name={'banner-top'} btnTxt={'Get inspired'} title={'The Gearest Outdoors'} subtitle={'Wishlists curated by Airbnb.'} />\n        <div className=\"filter-gallery-header\">\n          <h1>Top Rated</h1>\n          <Link to=\"/explore\" onClick={this.explorAll}>Show more</Link>\n        </div>\n        <FilterGallery stays={topRatedStays} addTrip={addTrip} />\n        <Banner name={'banner-bottom'} btnTxt={'Learn more'} title={'Become a host'} subtitle={'earn extra income and unlock new opportunities by sharing your space.'} loggedInUser={loggedInUser} />\n      </main>\n    )\n  }\n}\n","import { Component } from \"react\";\nimport { Link } from 'react-router-dom'\nimport { stayService } from '../../services/stay-service'\nimport { tripService } from '../../services/trip-service'\nimport { PickDates } from './Dates'\n\n\nexport class MainFilter extends Component {\n\n    state = {\n        trip: {\n            guests: { adults: 1, kids: 0 },\n            loc: { address: '', stay: null },\n            time: { checkIn: '', checkOut: '' }\n        },\n        topRatedStays: [],\n        dynamicModal: {\n            modalContent: '',\n            modalPosition: { top: 0, left: 0, height: 0 }\n        }\n    }\n\n    componentDidMount() {\n        this.loadRated()\n        this.loadTrip()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.trip !== this.props.trip) {\n            this.loadTrip()\n        }\n\n        if (prevProps.modalType !== this.props.modalType) {\n            this.openModal(this.props.modalType)\n        }\n    }\n\n    onSetModal = (event, modalKey) => {\n        const clickPos = { x: event.pageX, y: event.pageY }\n        this.setState({\n            dynamicModal: {\n                ...this.state.dynamicModal,\n                modalPosition: clickPos\n            }\n        }, () => { this.openModal(modalKey) })\n    }\n\n    handleDates = (time) => {\n        var inti = time.startDate.toDateString()\n        var endi = time.endDate.toDateString()\n        this.setState({ trip: { ...this.state.trip, time: { checkIn: inti, checkOut: endi } } });\n    }\n\n    openModal = (modalKey) => {\n        const dynamicModal = {}\n        const { x, y } = this.state.dynamicModal.modalPosition\n\n\n        switch (modalKey) {\n            case 'date':\n                dynamicModal.modalContent = (\n                    <section className=\"dynamic-modal-child book-date-modal\">\n                        <PickDates handleDates={this.handleDates} />\n                    </section>)\n                dynamicModal.modalPosition = { top: y + 35, left: x }\n                break;\n\n            case 'loc':\n                dynamicModal.modalContent = (\n                    <section className=\"dynamic-modal-child filter-loc-modal\">\n                        {tripService.getTopCities().map(city => {\n                            return (\n                                <div onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"address\",\n                                            type: \"search\",\n                                            value: `${city.city}`\n                                        }\n                                    })\n                                }} key={Math.random()} className=\"modal-label\">\n                                    <img src={city.imgUrl} alt=\"city\" />\n                                    <div>\n                                        <span>{city.city}</span>\n                                        <span>{city.state}</span>\n                                    </div>\n                                </div>\n                            )\n                        })}\n                    </section>)\n                dynamicModal.modalPosition = { top: y + 35, left: x }\n                break;\n\n            case 'guests':\n                const { kids, adults } = this.state.trip.guests;\n                dynamicModal.modalContent = (\n                    <section className=\"dynamic-modal-child filter-guest-modal\">\n                        <div className=\"modal-label\">\n                            <div>\n                                <span>Adults</span>\n                                <span>Ages 13 or above</span>\n                            </div>\n                            <div>\n                                <button type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"adults\",\n                                            type: \"number\",\n                                            value: (adults - 1)\n                                        }\n                                    })\n                                }}>-\n                                </button>\n                                <span>{adults}</span>\n                                <button type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"adults\",\n                                            type: \"number\",\n                                            value: (adults + 1)\n                                        }\n                                    })\n                                }}>+\n                                </button>\n                            </div>\n                        </div>\n                        <div className=\"modal-label\">\n                            <div>\n                                <span>Kids</span>\n                                <span>Ages 212</span>\n                            </div>\n                            <div>\n                                <button type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"kids\",\n                                            type: \"number\",\n                                            value: (kids - 1)\n                                        }\n                                    })\n                                }}>-\n                                </button>\n                                <span>{kids}</span>\n                                <button type={\"button\"} onClick={() => {\n                                    this.handleChange({\n                                        target: {\n                                            name: \"kids\",\n                                            type: \"number\",\n                                            value: (kids + 1)\n                                        }\n                                    })\n                                }}>+\n                                </button>\n                            </div>\n                        </div>\n                    </section>)\n                dynamicModal.modalPosition = { top: y + 35, left: x }\n                break;\n\n            case '':\n                dynamicModal.modalContent = ''\n                dynamicModal.modalPosition = { top: 0, left: 0, height: 0 }\n                break;\n\n            default:\n                break;\n        }\n        this.props.setModalContent(dynamicModal, modalKey)\n    }\n\n    loadTrip = () => {\n        var trip = this.props.trip\n        if (!trip) trip = {\n            guests: { adults: 1, kids: 0 },\n            loc: { address: '', stay: null },\n            time: { checkIn: '', checkOut: '' }\n        }\n        this.setState({ trip })\n    }\n\n    handleChange = (ev) => {\n        if (ev.timeStamp) ev.preventDefault()\n        const { name, value, type } = ev.target\n\n        if (type === 'date') {\n            this.setState({ trip: { ...this.state.trip, time: { ...this.state.trip.time, [name]: value } } });\n        }\n\n        else if (type === 'number') {\n            if (value < 0) return\n            this.setState({ trip: { ...this.state.trip, guests: { ...this.state.trip.guests, [name]: +value } } }, () => { this.openModal('guests') });\n        }\n\n        else this.setState({ trip: { ...this.state.trip, loc: { ...this.state.trip.loc, [name]: value } } });\n    }\n\n    onSearch = (ev) => {\n        ev.preventDefault();\n        this.props.onSearch(this.state.trip)\n        this.onSetModal(ev, '')\n    }\n\n    loadRated = async () => {\n        const topRated = await stayService.getTopRatedStays();\n        this.setState({ topRatedStays: topRated })\n    }\n\n    handle=() => {\n        return\n    }\n\n    render() {\n        const { isFullHeader, openFullHeader } = this.props\n        const { loc, time, guests } = this.state.trip\n        const { address } = loc;\n        const { checkIn, checkOut } = time;\n        const { kids, adults } = guests;\n\n\n        return (\n            <section className=\"main-filter-container\">\n                <form className={isFullHeader ? \"max-filter\" : \"filter-close\"}>\n\n                    <label>\n                        <span>Location</span>\n                        <input onClick={(event) => this.onSetModal(event, 'loc')} name=\"address\" value={address} autoComplete=\"off\" id=\"location\" type=\"search\" placeholder=\"Where are you going?\" onChange={this.handleChange} />\n                    </label>\n                    <label htmlFor=\"check-in\">\n                        <span>Check in</span>\n                        <input value={checkIn} id=\"check-in\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')}  onChange={this.handle}/>\n                    </label>\n                    <label htmlFor=\"check-out\">\n                        <span>Check out</span>\n                        <input value={checkOut} id=\"check-out\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')} onChange={this.handle} />\n                    </label>\n                    <label className=\"guests\" htmlFor=\"guests\">\n                        <div>\n                            <span>Guests</span>\n                            <input onClick={(event) => { this.onSetModal(event, 'guests') }} value={kids + adults + '  guests'} id=\"guests\" name=\"guests\" placeholder=\"Add guests\" onChange={this.handle} />\n                        </div>\n                    </label>\n\n                    <button onClick={this.onSearch}>\n                        <Link to=\"/explore\"><i className=\"fas fa-search\"></i></Link>\n                    </button>\n\n                </form>\n                <form className={!isFullHeader ? \"min-filter\" : \"filter-close\"} onClick={openFullHeader} >\n                    <span>{address ? address : 'Start your search'}</span>\n                    <button onClick={this.onSearch}>\n                        <Link to=\"/explore\"><i className=\"fas fa-search\"></i> </Link>\n                    </button>\n                </form>\n            </section>\n        )\n    }\n}","import { Link } from 'react-router-dom';\n\nexport function NavMenu({ logout, toggleUserMenu, loggedInUser, modalPosition , isNewNotif}) {\n\n        return (\n                <section className=\"user-menu\" style={{ top: modalPosition.y + 40, left: modalPosition.x }} onClick={toggleUserMenu}>\n\n                        {!loggedInUser && <div>\n\n                                <div>\n                                        <Link to=\"/login\">log in</Link>\n                                </div>\n\n                                <div>\n                                        <Link to=\"/host\">Host your home</Link>\n                                        <Link to=\"/about\">about</Link>\n                                        <Link to=\"/help\">help</Link>\n                                </div>\n                        </div>}\n\n                        {loggedInUser && <div>\n\n                                <div>\n                                        <Link to=\"/\">Messages</Link>\n                                        {!isNewNotif && <Link className=\"notif\" to=\"/notif\">Notifications</Link>}\n                                        {isNewNotif && <Link className=\"notif\" to=\"/notif\"><p>Notifications</p><div className=\"notif-circle\"></div></Link>}\n                                        <Link to=\"/orders\">Trips</Link>\n                                        <Link to=\"/wishlist\">wish list</Link>\n                                        {loggedInUser.isHost && <Link to={`/host/${loggedInUser._id}`}>Dashboard</Link>}\n                                        {!loggedInUser.isHost && <Link to=\"/host\">Host your home</Link>}\n                                </div>\n\n                                <div>\n                                        <Link to=\"/user\">account</Link>\n                                        <Link to=\"/help\">help</Link>\n                                        <Link to=\"/\"> <button onClick={() => { logout() }}>logout</button> </Link>\n                                </div>\n                        </div>}\n                </section>\n        )\n}\n","import React from 'react'\nimport { NavLink, Link } from 'react-router-dom'\nimport { MainFilter } from './app/MainFilter'\nimport Avatar from \"../assets/img/avatar.png\"\nimport { NavMenu } from './app/NavMenu'\n\n\n\nexport class Header extends React.Component {\n\n    state = {\n        isFullHeader: true,\n        isWindowTop: true,\n        isHomePage: false,\n        modalPosition: { x: 0, y: 0 },\n        isNarrow: false,\n        isDetailsHeader: false\n    }\n\n    componentDidMount() {\n        this.setCurrPage()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.currPage !== this.props.currPage) this.setCurrPage()\n    }\n\n    setCurrPage() {\n        if (this.props.currPage === 'home') {\n            window.addEventListener('scroll', this.getScrollPos, true)\n            window.removeEventListener('scroll', this.openDetailsHeader, true)\n            this.setState({ isHomePage: true, isFullHeader: true, isWindowTop: true, isNarrow: false, isDetailsHeader: false })\n        }\n        else if (this.props.currPage === 'stay') {\n            window.addEventListener('scroll', this.openDetailsHeader, true)\n            window.removeEventListener('scroll', this.getScrollPos, true)\n            this.setState({ isHomePage: false, isFullHeader: false, isWindowTop: false, isNarrow: true })\n        }\n        else {\n            window.removeEventListener('scroll', this.getScrollPos, true)\n            window.removeEventListener('scroll', this.openDetailsHeader, true)\n            this.setState({ isHomePage: false, isFullHeader: false, isWindowTop: false, isNarrow: false, isDetailsHeader: false })\n        }\n    }\n\n    openDetailsHeader = () => {\n        const detailsHeaderPos = (window.scrollY)\n        if (detailsHeaderPos > 1500) {\n            this.setState({ isDetailsHeader: true })\n        } else {\n            this.setState({ isDetailsHeader: false })\n        }\n    }\n\n    explorAll = async () => {\n        const trip = {\n            guests: { adults: 1, kids: 0 },\n            loc: { address: '' },\n            time: { checkIn: '', checkOut: '' }\n        }\n        await this.props.addTrip(trip)\n        this.props.loadStays()\n    }\n\n    toggleUserMenu = (event) => {\n        const clickPos = event.target.getBoundingClientRect()\n        this.setState({ modalPosition: clickPos })\n        this.props.openDynamicModal('user-menu', event)\n    }\n\n    closeFullHeader = (ev) => {\n        if (ev.target.closest(\".main-filter-container\")) return\n        if (ev.target.closest(\".dynamic-modal-child\")) return\n        this.setState({ isFullHeader: false }, () => { window.removeEventListener('click', this.closeFullHeader, true) })\n    }\n\n    openFullHeader = () => {\n        this.setState({ isFullHeader: true }, () => { window.addEventListener('click', this.closeFullHeader, true) })\n    }\n\n    getScrollPos = () => {\n        const isWindowTop = (window.scrollY)\n        if (isWindowTop < 100) {\n            this.setState({ isWindowTop: true, isFullHeader: true })\n        } else {\n            this.setState({ isWindowTop: false, isFullHeader: false })\n        }\n    }\n\n    scrollTo = (top) => {\n        window.scrollTo({ top, left: 0, behavior: 'smooth' })\n    }\n\n    getAvgRate = (stay) => {\n        const rates = stay.reviews.map((review) => review.avgRate);\n        const sum = rates.reduce((acc, rate) => {\n            acc += rate;\n            return acc;\n        }, 0);\n        if (sum === 0) return 'new';\n        return (sum / rates.length).toFixed(1);\n    };\n\n    render() {\n        const { onSearch, loggedInUser, logout, trip, openDynamicModal, modalType, setModalContent, isNewNotif } = this.props\n        const { isFullHeader, isWindowTop, modalPosition, isNarrow, isDetailsHeader } = this.state\n        const imgUrl = (loggedInUser) ? loggedInUser.imgUrl : Avatar\n\n        return (\n            <header className={`main-header ${isFullHeader && 'full-header'} ${isWindowTop && 'full-header top'} ${isNarrow ? 'narrow-header' : 'wide-header'} ${isDetailsHeader && 'details-header'}`}>\n                <section className=\"details-header-nav\">\n                    <div className=\"details-nav\">\n                        <span onClick={() => { this.scrollTo(0) }}>Photos</span>\n                        <span onClick={() => { this.scrollTo(1210) }}>Amenities</span>\n                        <span onClick={() => { this.scrollTo(1580) }}>Reviews</span>\n                        <span onClick={() => { this.scrollTo(2100) }}>Location</span>\n                    </div>\n\n                    <div className=\"book-stay-mini\">\n                        <div>\n                            <h3><span>$ {(trip && trip.stay && trip.stay.price) ? trip.stay.price.toLocaleString(\"en-US\") : 0}</span> / night</h3>\n                            <h4><i className=\"fas fa-star\"></i>{(trip && trip.stay && trip.stay.reviews) ? this.getAvgRate(trip.stay) : ''} <span>( {(trip && trip.stay && trip.stay.reviews) ? trip.stay.reviews.length + ' reviews' : 'new'} )</span></h4>\n                        </div>\n                         <section className=\"book-stay-btn-container\" onClick={() => { this.scrollTo(650) }}>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"cell\"></div>\n                                <div className=\"content\">\n                                    <button className=\"square\">\n                                        <p>Check availability</p>\n                                    </button>\n                                </div>\n                            </section>\n                    </div>\n                </section>\n                <section >\n                    <NavLink className=\"logo-link\" to=\"/\"><h1 className=\"logo\">Home<i className=\"fab fa-airbnb\"></i>Go</h1></NavLink>\n                    <NavLink className=\"mini-logo-link\" to=\"/\"><i className=\"fab fa-airbnb\" /></NavLink>\n                    <nav>\n                        <Link to={(loggedInUser) ? `/host/${loggedInUser._id}` : \"/host\"}>Become a host</Link>\n                        <NavLink to=\"/explore\" onClick={this.explorAll}>Explore</NavLink>\n                        <button onClick={this.toggleUserMenu} className=\"user-menu-btn\">\n                            <span><i className=\"fas fa-bars\"></i></span>\n                            <img src={imgUrl} alt=\"avatar\" />\n                            {isNewNotif && <div className=\"notif-circle\"></div>}\n                        </button>\n                    </nav>\n                    {modalType === 'user-menu' && <NavMenu logout={logout} loggedInUser={loggedInUser} toggleUserMenu={this.toggleUserMenu} modalPosition={modalPosition} isNewNotif={isNewNotif}/>}\n                </section>\n                <MainFilter trip={trip} modalType={modalType} onSearch={onSearch} openDynamicModal={openDynamicModal} isFullHeader={isFullHeader} openFullHeader={this.openFullHeader} toggleFullHeader={this.toggleFullHeader} setModalContent={setModalContent} />\n            </header>\n        )\n    }\n}\n","import { Link } from \"react-router-dom\";\nimport { tripService } from '../../services/trip-service'\n\nexport function FooterLinks({ onSearch, topRatedStays, nearbayStays }) {\n\n    function onSelectLink(address) {\n        const trip = {\n            guests: { adults: 1, kids: 0 },\n            loc: { address },\n            time: { checkIn: '', checkOut: '' }\n        }\n        onSearch(trip)\n        window.scroll({\n            top: 0\n        })\n    }\n\n    const topCities = tripService.getTopCities()\n\n    return (\n        <section className=\"footer-links-container\">\n            <h3>Inspiration for future getaways</h3>\n            <div>\n                <div>\n                    <h4>Top Rated</h4>\n                    {topRatedStays.map((stay) => {\n                        return <Link key={Math.random()} to={`/stay/${stay._id}`} ><span>{stay.name}</span><span>{stay.loc.address}</span></Link>\n                    })}\n                </div>\n                <div>\n                    <h4>Nearby</h4>\n                    {nearbayStays.map((stay) => {\n                        return <Link key={Math.random()} to={`/stay/${stay._id}`} ><span>{stay.name}</span><span>{stay.loc.address}</span></Link>\n                    })}\n                </div>\n                <div>\n                    <h4>Cities</h4>\n                    {topCities.map((city) => {\n                        return <Link key={Math.random()} to=\"/explore\" onClick={() => { onSelectLink(`${city.city}`) }}><span>{city.city}</span><span>{city.state}</span></Link>\n                    })}\n                </div>\n            </div>\n        </section>\n\n    )\n}","import { Link } from \"react-router-dom\";\nimport { FooterLinks } from './app/FooterLinks'\n\nexport function Footer({ onSearch, topRatedStays, nearbayStays }) {\n    return (\n        <footer className=\"main-footer full\">\n\n            <section>\n                <FooterLinks onSearch={onSearch} topRatedStays={topRatedStays} nearbayStays={nearbayStays} />\n\n                <section className=\"footer-nav-container\">\n                    <div >\n                        <p> 2021 Home & Go, <span>Inc.</span></p>\n                        <span></span>\n                        <Link to=\"/about\">About</Link>\n                        <span></span>\n                        <Link to=\"/login\">Login</Link>\n                        <span></span>\n                        <Link to=\"/host\">Become a host</Link>\n                    </div>\n                    <div>\n                        <p>\n                            <i className=\"fas fa-globe\"></i>\n                            <span>English (US)</span>\n                            <span>$ US</span>\n                        </p>\n                        <p>\n                            <i className=\"fab fa-facebook-f\"></i>\n                            <i className=\"fab fa-twitter\"></i>\n                            <i className=\"fab fa-instagram\"></i>\n                        </p>\n                    </div>\n                </section>\n            </section>\n        </footer>\n    )\n}","\nexport function DashSideNav ({onSelectAction}){\n\n    return (\n        <div className=\"dash-nav-container\">\n            <button className=\"add-stay-btn\" value=\"add stay\" onClick={onSelectAction}><i className=\"fas fa-plus\"></i>Add Stay</button>\n            <button value=\"my Stays\" onClick={onSelectAction}><i className=\"fas fa-house-user\"></i>My Stays</button>\n            <button value=\"orders\" onClick={onSelectAction}><i className=\"fas fa-clipboard-list\"></i>Orders</button>\n            <button value=\"rate stat\" onClick={onSelectAction}><i className=\"fas fa-star\"></i>Rates</button>\n        </div>\n    )\n}","\nexport function DashHeader({ stays, orders, orderChangeStatus }) {\n\n    function getTotalAvgRate() {\n        var totalRate = 0;\n        stays.forEach(stay => {\n            const rates = stay.reviews.map((review) => review.avgRate);\n            var stayAvgRate = rates.reduce((a, b) => a + b, 0)\n            totalRate += (stayAvgRate / rates.length)\n        })\n        var RateToDisplay = (totalRate / stays.length) ? (totalRate / stays.length).toFixed(1) : 0\n    \n        return RateToDisplay\n    };\n\n    function getSumByOrderStatus(status) {\n        var sum = 0;\n        orders.forEach(order => {\n            if (order.status === status) sum++\n        })\n        return sum\n    }\n\n    function getActiveGuests() {\n        const activeUsers = []\n        const now = new Date(Date.now())\n        orders.forEach(order => {\n            const checkIn = new Date(order.startDate)\n            const checkOut = new Date(order.endDate)\n            if (checkIn < now && checkOut > now) activeUsers.push(order)\n        })\n        return activeUsers\n    }\n\n    function getMonthlyEarning() {\n        var totalEarning = 0;\n        const currMonth = new Date(Date.now()).getMonth() + 1\n        const currYear = new Date(Date.now()).getFullYear()\n\n        orders.forEach(order => {\n            const orderMonth = new Date(order.startDate).getMonth() + 1\n            const orderYear = new Date(order.startDate).getFullYear()\n            if (currMonth === orderMonth && currYear === orderYear) {\n                totalEarning += order.totalPrice\n            }\n        })\n        return totalEarning.toLocaleString('en-US')\n    }\n\n    return (\n        <section className=\"dash-header\">\n            <div>\n                <h3>Total Rate</h3>\n                <div>\n                    <span><i className=\"fas fa-star\"></i>{getTotalAvgRate()}</span>\n                    <p>{orderChangeStatus}%<i className=\"fas fa-long-arrow-alt-up\"></i></p>\n                </div>\n            </div>\n            <div>\n                <h3>monthly earning</h3>\n                <div>\n                    <span>$ {getMonthlyEarning()}</span>\n                </div>\n            </div>\n            <div>\n                <h3>Orders</h3>\n                <div>\n                    <span>{orders.length}</span>\n                    <div className=\"circle-container\">\n                        <div>\n                            <span title=\"pending\" className=\"circle circle-yellow\"></span>\n                            <p>{getSumByOrderStatus('wait for approval')}</p>\n                        </div>\n                        <div>\n                            <span title=\"approved\" className=\"circle circle-green\"></span>\n                            <p>{getSumByOrderStatus('approved')}</p>\n                        </div>\n                        <div>\n                            <span title=\"decline\" className=\"circle circle-red\"></span>\n                            <p>{getSumByOrderStatus('declined')}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <div>\n                    <h3>Active Guests</h3>\n                    <span>{getActiveGuests().length}</span>\n                </div>\n                <div>\n                    {getActiveGuests().map(order => {\n                        return (<img src={order.user.imgUrl} alt=\"guest\" key={Math.random()}/>)\n                    })}\n                </div>\n            </div>\n        </section>\n    )\n}","import { Link } from 'react-router-dom'\n\nexport function HostStayPreview({ stay, onSelectedEditStay }) {\n\n    return (\n        <div className=\"host-stay-preview\">\n            <span><img src={stay.imgUrls[0]} alt=\"stay\" /></span>\n            <span><Link to={`/stay/${stay._id}`}>{stay.name}</Link></span>\n            <span><Link to={`/stay/${stay._id}`}>{stay.loc.address}</Link></span>\n            <span><Link to={`/stay/${stay._id}`}>$ {stay.price}</Link></span>\n            <span className=\"stay-actions\">\n                <button onClick={() => onSelectedEditStay(stay)} ><i className=\"far fa-edit\"></i>Edit</button>\n            </span>\n        </div>\n    )\n}","\nimport { HostStayPreview } from './HostStayPreview'\n\nexport function HostStayList({ stays, onSelectedEditStay, onSelectAction }) {\n    return (\n        <section className=\"host-stay-list\">\n            <div className=\"host-stay-list-table\">\n                <div className=\"thead\">\n                    <div>\n                        <span>{''}</span>\n                        <span>Name</span>\n                        <span>Address</span>\n                        <span>Price</span>\n                        <span className=\"stay-actions\" >Actions</span>\n                    </div>\n                </div>\n                <div className=\"tbody\">\n                {!stays.length && <h1 className=\"empty-msg\">No Stays to show yet, you can add new stay on the <button value='add stay' onClick={onSelectAction}>Add Stay </button> tab</h1>}\n                  {(stays.length > 0) && stays.map(stay => {\n                        return (\n                            <HostStayPreview\n                                key={Math.random()}\n                                stay={stay}\n                                onSelectedEditStay={onSelectedEditStay}\n                            />\n                        )\n                    })}\n                </div>\n            </div>\n        </section>\n    )\n}","import { HostStayList } from './HostStayList'\nimport {Loader} from '../app/Loader'\n\nexport function MyStays({ stays, onSelectedEditStay,  onSelectAction }) {\n\n    if (!stays) return <Loader/>\n    return (\n        <section className=\"host-stay-container\">\n            <HostStayList stays={stays} onSelectedEditStay={onSelectedEditStay} onSelectAction={onSelectAction} />\n        </section>\n    )\n}\n","\nexport function HostStaysMenu({ stays, updateSelectedStay }) {\n    return (\n        <section className=\"host-rate-card\">\n            {stays.map(stay => {\n                return (\n                    <label key={Math.random()} onClick={() => { updateSelectedStay(stay) }}>\n                        <img src={stay.imgUrls[0]} alt=\"stay-preview\" />\n                        <div>\n                            <h4>{stay.name}</h4>\n                            <h6>{`${stay.loc.address}`}</h6>\n                            <h6>{`${stay.capacity} Guests`}</h6>\n                        </div>\n                    </label>\n                )\n            })}\n        </section>\n    )\n}","import { Doughnut } from 'react-chartjs-2';\n\nexport function RatePieChart({ stay }) {\n\n    function getRateData() {\n        var chartData = stay.reviews.reduce((acc, review) => {\n            acc[Math.round(review.avgRate) - 1]++\n            return acc\n        }, [0, 0, 0, 0, 0])\n        return chartData;\n    }\n\n    const data = {\n        labels: ['1 Star', '2 Star', '3 Star', '4 Star', '5 Star'],\n        datasets: [\n            {\n                label: '# of Votes',\n                data: getRateData(),\n                backgroundColor: [\n                    'rgba(255, 61, 61, 0.5)',\n                    'rgba(255, 163, 59, 0.5)',\n                    'rgba(252, 255, 71, 0.5)',\n                    'rgba(184, 255, 103, 0.5)',\n                    'rgba(66, 245, 110, 0.5)'\n                ],\n                borderColor: [\n                    'rgba(255, 61, 61, 0.8)',\n                    'rgba(255, 163, 59, 0.8)',\n                    'rgba(252, 255, 71, 0.8)',\n                    'rgba(184, 255, 103, 0.5)',\n                    'rgba(66, 245, 110, 0.8)'\n                ],\n                borderWidth: 1,\n            },\n        ],\n        \n    };\n\n    return (\n        <div className=\"rate-chart\" >\n            <Doughnut data={data} />\n        </div>\n    )\n}","import { Component } from 'react'\nimport { HostStaysMenu } from './HostStaysMenu'\nimport { RatePieChart } from '../dashboard/RatePieChart'\n\nexport class RateStatistic extends Component {\n\n    state = {\n        stay: null\n    }\n\n    componentDidMount(){\n        this.setState({stay: this.props.stays[0]})\n    }\n\n    updateSelectedStay = (stay) => {\n        this.setState({ stay })\n    }\n\n    render() {\n        const { stays } = this.props\n        const { stay } = this.state\n        return (\n            <section className=\"dash-rate-statistics-container\">\n                <div className=\"dash-rate-statistics\">\n                    <HostStaysMenu stays={stays} updateSelectedStay={this.updateSelectedStay} />\n                    {stay && <div className=\"chart-container\">\n                        <h3>{stay.name}</h3>\n                        <RatePieChart stay={stay} />\n                    </div>}\n                </div>\n            </section>\n\n        )\n    }\n}\n","import { stayService } from '../../services/stay-service'\n\nexport function loadStays(trip = { guests: { adults: 1, kids: 0 }, loc: { address: '' }, time: { checkIn: '', checkOut: '' } }) {\n  return async dispatch => {\n    try {\n      const stays = await stayService.query(trip)\n      dispatch({ type: 'SET_STAYS', stays })\n    } catch (err) {\n      console.log('StayActions: err in loadStays', err)\n    }\n  }\n}\n\nexport function addStay(stay) {\n  return async dispatch => {\n    try {\n      const addedStay = await stayService.add(stay)\n      dispatch({ type: 'ADD_STAY', stay: addedStay })\n    } catch (err) {\n      console.log('StayActions: err in addStay', err)\n    }\n  }\n}\n\nexport function updateStay(stay) {\n  return async dispatch => {\n    try {\n      const updatedStay = await stayService.update(stay)\n      dispatch({ type: 'UPDATE_STAY', stay: updatedStay })\n    } catch (err) {\n      console.log('StayActions: err in update Stay', err)\n    }\n  }\n}\n\nexport function removeStay(stayId) {\n  return async dispatch => {\n    try {\n      await stayService.remove(stayId)\n      dispatch({ type: 'REMOVE_STAY', stayId })\n    } catch (err) {\n      console.log('StayActions: err in removeStay', err)\n    }\n  }\n}\n\nexport function loadHostStays(hostId) {\n  return async dispatch => {\n    try {\n      const stays = await stayService.getHostStays(hostId)\n      dispatch({ type: 'SET_HOST_STAYS', stays })\n    } catch (err) {\n      console.log('StayActions: err in loadHostStays', err)\n    }\n  }\n}\nexport function loadWishlist(user) {\n  return async dispatch => {\n    try {\n      const stays = await stayService.getUserWishlist(user)\n      dispatch({ type: 'SET_WISH_STAYS', stays })\n    } catch (err) {\n      console.log('StayActions: err in loadWishlist', err)\n    }\n  }\n}","// with this service we upload the imgas to cloudinary\nexport const cloudinaryService = {\n  uploadImg,\n};\n\nfunction uploadImg(ev) {\n  const CLOUD_NAME = \"home-to-go\";\n  const PRESET_NAME = \"aui0olgm\";\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`;\n\n  const formData = new FormData();\n  formData.append(\"file\", ev.target.files[0]);\n  formData.append(\"upload_preset\", PRESET_NAME);\n\n  return fetch(UPLOAD_URL, {\n    method: \"POST\",\n    body: formData,\n  })\n    .then((res) => res.json())\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.error(err));\n}\n","import { Component } from 'react'\nimport { cloudinaryService } from '../services/cloudinary-service'\n\nexport class Upload extends Component {\n  state = {\n    imgUrl: null,\n    height: 60,\n    width: 60,\n    isUploading: false\n  }\n\n  componentDidMount() {\n    const { userImgUrl } = this.props\n    if (userImgUrl) this.setState({ imgUrl: userImgUrl })\n  }\n\n  uploadImg = async (ev) => {\n    this.setState({ isUploading: true })\n    const { secure_url, height, width } = await cloudinaryService.uploadImg(ev)\n    this.setState({ isUploading: false, imgUrl: secure_url, height, width }, () => { this.props.onUploadImg(this.state,this.props.position) })\n  }\n  get uploadMsg() {\n    const { imgUrl, isUploading } = this.state\n    if (imgUrl) return 'Upload Another?'\n    return isUploading ? 'Uploading....' : 'Upload Image'\n  }\n  render() {\n    \n    const { imgUrl } = this.state\n    const previewStyle = {\n      backgroundImage: `url(${imgUrl})`,\n\n    }\n    return (\n      <div className=\"upload-preview\" style={previewStyle} >\n        <label className=\"img-upload-label\" htmlFor=\"imgUpload\">{this.uploadMsg}\n          <input type=\"file\" onChange={this.uploadImg} accept=\"img/*\" className=\"img-upload-btn\" id=\"imgUpload\" />\n        </label>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { stayService } from '../../services/stay-service';\nimport { addStay, updateStay } from '../../store/actions/stayActions';\nimport { Upload } from '../Upload';\n\nclass _StayEdit extends Component {\n\tstate = {\n\t\tstay: {\n\t\t\tname: '',\n\t\t\timgUrls: [],\n\t\t\tprice: '',\n\t\t\tdesc: '',\n\t\t\tcapacity: '',\n\t\t\tamenities: {\n\t\t\t\tTV: true,\n\t\t\t\tWifi: false,\n\t\t\t\t'Air conditioning': false,\n\t\t\t\t'Smoking allowed': false,\n\t\t\t\t'Pets allowed': false,\n\t\t\t\t'Cooking basics': false,\n\t\t\t},\n\t\t\tstayType: 'entire place',\n\t\t\tpropertyType: 'appartment',\n\t\t\thost: {\n\t\t\t\t_id: this.props.loggedInUser._id,\n\t\t\t\tfullname: this.props.loggedInUser.fullname,\n\t\t\t\timgUrl: this.props.loggedInUser.imgUrl,\n\t\t\t},\n\t\t\tloc: {\n\t\t\t\tcountry: '',\n\t\t\t\tcountryCode: '',\n\t\t\t\taddress: '',\n\t\t\t\tlat: 0,\n\t\t\t\tlng: 0,\n\t\t\t},\n\t\t\treviews: [],\n\t\t},\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.stayEdit) {\n\t\t\tconst currAmenities = {};\n\t\t\tthis.props.stayEdit.amenities.forEach((amenitie) => {\n\t\t\t\tcurrAmenities[amenitie] = true;\n\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\tstay: {\n\t\t\t\t\t...this.props.stayEdit,\n\t\t\t\t\tamenities: currAmenities,\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tthis.loadStay();\n\t\t}\n\t}\n\n\tloadStay() {\n\t\tif (!this.props.match || !this.props.match.params) return;\n\t\tconst { stayId } = this.props.match.params;\n\t\tif (stayId) {\n\t\t\tstayService.getById(stayId).then((stay) => {\n\t\t\t\tthis.setState({ stay });\n\t\t\t});\n\t\t}\n\t}\n\n\tonRemoveStays = async (ev, stayId) => {\n\t\tev.target.value = 'my Stays';\n\t\tawait this.props.removeStay(stayId)\n\t\tthis.props.toggleMsgModal(<span><i className=\"far fa-check-circle\"></i><h3>Your stay has been deleted</h3></span>)\n\t\tthis.props.onSelectAction(ev);\n\t}\n\n\tonUploadImg = (imgState, position) => {\n\t\tconst imgUrls = this.state.stay.imgUrls;\n\t\timgUrls[position] = imgState.imgUrl;\n\t\tthis.setState({ stay: { ...this.state.stay, imgUrls } });\n\t};\n\n\thandleChange = ({ target }) => {\n\t\tlet { name, value, id, checked } = target;\n\t\tvalue = name === 'price' || name === 'capacity' ? +value : value;\n\t\tif (name === 'amenities') {\n\t\t\tthis.setState({\n\t\t\t\tstay: {\n\t\t\t\t\t...this.state.stay,\n\t\t\t\t\tamenities: { ...this.state.stay.amenities, [id]: checked },\n\t\t\t\t},\n\t\t\t});\n\t\t} else if (name === 'address') {\n\t\t\tthis.setState({\n\t\t\t\tstay: {\n\t\t\t\t\t...this.state.stay,\n\t\t\t\t\tloc: { ...this.state.stay.loc, [name]: value },\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({ stay: { ...this.state.stay, [name]: value } });\n\t\t}\n\t};\n\n\tonSaveStay = (ev) => {\n\t\tev.preventDefault();\n\n\t\tev.target.value = 'my Stays';\n\t\tconst { stay } = this.state;\n\t\tconst { amenities } = stay;\n\t\tconst currAmenities = [];\n\t\tfor (const key in amenities) {\n\t\t\tif (amenities[key]) {\n\t\t\t\tcurrAmenities.push(key);\n\t\t\t}\n\t\t}\n\t\tstay.amenities = currAmenities\n\t\tif (stay._id) {\n\t\t\tthis.props.updateStay(stay);\n\t\t\tthis.props.toggleMsgModal(\n\t\t\t\t<span>\n\t\t\t\t\t<i className=\"far fa-check-circle\"></i>\n\t\t\t\t\t<h3>Your stay has been updated</h3>\n\t\t\t\t</span>\n\t\t\t);\n\t\t} else {\n\t\t\tthis.props.addStay(stay);\n\t\t\tthis.props.toggleMsgModal(\n\t\t\t\t<span>\n\t\t\t\t\t<i className=\"far fa-check-circle\"></i>\n\t\t\t\t\t<h3>Your stay has been added</h3>\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t\tthis.props.onSelectAction(ev);\n\n\t}\n\n\tgetTotalRate = () => {\n\t\tconst rates = this.state.stay.reviews.map((review) => review.avgRate)\n\t\tconst sum = rates.reduce((acc, rate) => {\n\t\t\tacc += rate\n\t\t\treturn acc\n\t\t}, 0);\n\t\tif (sum === 0) return 'new'\n\t\treturn (sum / rates.length).toFixed(2)\n\t}\n\n\trender() {\n\t\tconst { stay } = this.state;\n\t\tif (this.props.stayEdit && !stay.imgUrls[0]) return '';\n\t\tif (!stay) return ''; // LOADER\n\t\treturn (\n\t\t\t<section className=\"stay-edit-container\">\n\t\t\t\t<form className=\"stay-edit-form\" onSubmit={this.onSaveStay}>\n\t\t\t\t\t<section className=\"stay-edit-header\">\n\t\t\t\t\t\t<div className=\"stay-edit-header-name\">\n\t\t\t\t\t\t\t<h1>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalue={stay.name}\n\t\t\t\t\t\t\t\t\tplaceholder=\"stay name\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t{this.props.stayEdit && <button type=\"button\" className=\"remove-btn\" onClick={(event) => this.onRemoveStays(event, this.props.stayEdit._id)}><i className=\"far fa-trash-alt\"></i>Remove</button>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"stay-edit-short-info\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className=\"stay-rate-display\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-star\"></i>\n\t\t\t\t\t\t\t\t\t<span>{this.getTotalRate()}</span>\n\t\t\t\t\t\t\t\t\t<p> ( {stay.reviews.length} reviews )</p>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tAddress:\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"address\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\tvalue={stay.loc.address}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button type=\"button\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-external-link-alt\"></i>share\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"stay-save-btn\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-heart\"></i>save\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<div className=\"stay-gallery\">\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[0]}\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\n\t\t\t\t\t\t\tposition={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[1]}\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\n\t\t\t\t\t\t\tposition={1}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[2]}\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\n\t\t\t\t\t\t\tposition={2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[3]}\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\n\t\t\t\t\t\t\tposition={3}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[4]}\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\n\t\t\t\t\t\t\tposition={4}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<section className=\"stay-edit-info-container\">\n\t\t\t\t\t\t<div className=\"stay-edit-long-info\">\n\t\t\t\t\t\t\t<div className=\"stay-long-info-header\">\n\t\t\t\t\t\t\t\t<div className=\"stay-long-info-header-txt\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\tcapacity:\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"capacity\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"capacity\"\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.capacity}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t stayType:\n\t\t\t\t\t\t\t\t\t\t<select name=\"stayType\" onChange={this.handleChange}>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"entire place\">entire place</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"private room\">private room</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t propertyType:\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tname=\"propertyType\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.propertyType}>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"loft\">loft</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"room\">room</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"studio\">studio</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"villa\">villa</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"appartment\">appartment</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<img src={stay.host.imgUrl} alt=\"avatar\" />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"stay-feature-container\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-home\"></i>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h3>{stay.stayType}</h3>\n\t\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\t\t{stay.stayType === 'entire place'\n\t\t\t\t\t\t\t\t\t\t\t\t? \"You'll have the place to yourself.\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"You'll have a private room to yourself.\"}\n\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-book-open\"></i>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h3>House rules</h3>\n\t\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\t\tThis place isnt suitable for children under 12 and the\n\t\t\t\t\t\t\t\t\t\t\thost doesnt allow pets.\n\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-medal\"></i>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h3>{stay.host.fullname} is a Superhost</h3>\n\t\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\t\tSuperhosts are experienced, highly rated hosts who are\n\t\t\t\t\t\t\t\t\t\t\tcommitted to providing great stays for guests.\n\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-bookmark\"></i>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h3>Wifi</h3>\n\t\t\t\t\t\t\t\t\t\t<h4>Guests often search for this popular amenity</h4>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<span className=\"description\">\n\t\t\t\t\t\t\t\t<h2>description</h2>\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"desc\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalue={stay.desc}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div className=\"amenities-list\">\n\t\t\t\t\t\t\t\t<h2>Amenities</h2>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"TV\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities.TV}\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities.TV}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"TV\"> TV</label>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"Wifi\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities.Wifi}\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities.Wifi}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Wifi\">Wifi</label>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"Air conditioning\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Air conditioning']}\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Air conditioning']}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Air conditioning\">AC </label>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"Smoking allowed\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Smoking allowed']}\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Smoking allowed']}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Smoking_allowed\">Smoking allowed </label>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"Pets allowed\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Pets allowed']}\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Pets allowed']}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Pets allowed\">Pets allowed </label>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"Cooking basics\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Cooking basics']}\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Cooking basics']}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Cooking basics\">Cooking basics </label>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"order-form-container\">\n\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\tprice:{' '}\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalue={stay.price}\n\t\t\t\t\t\t\t\t/>{' '}\n\t\t\t\t\t\t\t\t/ night\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t<button type=\"submit\" className=\"stay-edit-save-btn\">Save</button>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tstays: state.stayModule.stays,\n\t};\n}\n\nconst mapDispatchToProps = {\n\taddStay,\n\tupdateStay,\n};\n\nexport const StayEdit = connect(mapStateToProps, mapDispatchToProps)(_StayEdit);\n","import React from \"react\";\n\nexport function OrdersPrview({ order, updateOrder }) {\n\n    function onUpdateOrder(status) {\n        order.status = status;\n        updateOrder(order)\n    }\n    return (\n        <div className=\"host-stay-preview\">\n            <span><img src={order.user.imgUrl} alt=\"user\" /></span>\n            <span>{order.user.fullname}</span>\n            <span>{order.startDate}</span>\n            <span>{order.endDate}</span>\n            <span>{order.status}</span>\n            <span>$ {order.totalPrice.toLocaleString(\"en-US\")}</span>\n            <span className=\"stay-actions\" >\n                {order.status === 'approved' && <button onClick={() => { onUpdateOrder('declined') }}><i className=\"fas fa-times\"></i>Decline</button> }\n                {order.status === 'declined' && <button onClick={() => { onUpdateOrder('approved') }}><i className=\"fas fa-check\"></i>Re-Approve</button> }\n                {order.status === 'wait for approval' && <button onClick={() => { onUpdateOrder('approved') }}><i className=\"fas fa-check\"></i>Approve</button>}\n                \n            </span>\n        </div>\n    )\n}\n\n\n","import { OrdersPrview } from './OrdersPrview'\n\nexport function OrderList({ orders ,updateOrder , onSelectAction}) {\n    return (\n        <section className=\"host-order-list\">\n            <div className=\"host-order-list-table\">\n                <div className=\"thead\">\n                    <div>\n                        <span>{''}</span>\n                        <span>Guest Name</span>\n                        <span>Check in</span>\n                        <span>Check out</span>\n                        <span>Status</span>\n                        <span>Price</span>\n                        <span className=\"stay-actions\">Actions</span>\n                    </div>\n                </div>\n                <div className=\"tbody\">\n\n                    {!orders.length && <h1 className=\"empty-msg\">No Orders to show yet, you can edit your stay pages to make it more appealing on the <button value=\"my Stays\" onClick={onSelectAction}>My Stays</button> tab</h1>}\n                    {orders.length > 0 && orders.map(order => {\n                        return (\n                            <OrdersPrview\n                                key={Math.random()}\n                                order={order}\n                                updateOrder={updateOrder} />\n                        )\n                    })}\n                </div>\n            </div>\n        </section>\n    )\n}","import { OrderList } from './OrderList'\n\nexport function HostOrders({orders,updateOrder, onSelectAction}) {\n    return (\n        <section className=\"host-order-container\">\n            <OrderList orders={orders} updateOrder={updateOrder} onSelectAction={onSelectAction}/>\n        </section>\n    )\n}","export default __webpack_public_path__ + \"static/media/user-cash.e1f91298.PNG\";","import { Component } from 'react';\nimport { DashSideNav } from '../cmps/dashboard/DashSideNav'\nimport { DashHeader } from '../cmps/dashboard/DashHeader'\nimport { MyStays } from '../cmps/dashboard/MyStays'\nimport { RateStatistic } from '../cmps/dashboard/RateStatistic'\nimport { StayEdit } from '../cmps/dashboard/SaveStay'\nimport { HostOrders } from '../cmps/dashboard/HostOrders'\nimport { connect } from 'react-redux';\nimport { loadHostStays, removeStay } from '../store/actions/stayActions'\nimport { utilService } from '../services/util-service.js'\nimport { Loader } from '../cmps/app/Loader'\nimport Cash from '../assets/img/user-cash.PNG'\n\nexport class _Dashboard extends Component {\n\n    state = {\n        action: '',\n        loggedInUser: null,\n        selsctedEditStay: null,\n        orderChangeStatus: 0\n    }\n\n    componentDidMount() {\n        this.setState({ loggedInUser: { ...this.props.loggedInUser, isHost: true } }, () => {\n            this.props.updateUser(this.state.loggedInUser)\n            this.loadHostStays()\n            this.props.loadOrders({ id: this.state.loggedInUser._id, type: 'host' })\n        })\n        this.props.setFooterDisplay(false)\n        this.props.setHomePage('dash')\n        this.setState({ orderChangeStatus: utilService.getRandomIntInclusive(0, 5) })\n    }\n\n    componentWillUnmount(prevProps, prevState) {\n        this.props.setFooterDisplay(true)\n    }\n\n    getRateChangStatus = () => {\n        return utilService.getRandomIntInclusive(0, 5)\n    }\n\n    loadHostStays = async () => {\n        await this.props.loadHostStays(this.state.loggedInUser._id);\n        if (this.props.stays.length === 0) {\n            this.setState({ action: 'add stay' })\n        }\n    }\n\n    onSelectAction = async (ev) => {\n        const action = ev.target.value;\n        this.setState({ action })\n    }\n\n    onSelectedEditStay = (stay) => {\n        this.setState({ selsctedEditStay: stay }, () => {\n            this.setState({ action: 'edit stay' })\n        })\n    }\n\n    render() {\n        const { action, loggedInUser, selsctedEditStay, orderChangeStatus } = this.state\n        const { removeStay, stays, toggleMsgModal, orders, updateOrder } = this.props\n        return (\n            <main className=\"main page\">\n                <section className=\"dashboard-container\">\n                    <section className=\"dash-nav-sticky-container\">\n                        <DashSideNav onSelectAction={this.onSelectAction} />\n                        <div className=\"host-info-container\">\n                            <img src={Cash} alt=\"cash\" />\n                            <h2>Make all payments through Home & go</h2>\n                            <p>Always pay and communicate through Home & go to ensure you're protected under our Terms of Service, Payments Terms of Service, cancellation, and other safeguards.</p>\n                        </div>\n                    </section>\n                    {!stays && <Loader />}\n                    {stays && <section className=\"dash-main-container\">\n                        <DashHeader stays={stays} orders={orders} orderChangeStatus={orderChangeStatus} />\n                        <section className=\"dash-info-container\">\n                            {(action === '' || action === 'my Stays') && <MyStays stays={stays} onSelectedEditStay={this.onSelectedEditStay} onSelectAction={this.onSelectAction} />}\n                            {action === 'rate stat' && <RateStatistic stays={stays} />}\n                            {action === 'edit stay' && <StayEdit stayEdit={selsctedEditStay} removeStay={removeStay} onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\n                            {action === 'add stay' && <StayEdit onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\n                            {action === 'orders' && <HostOrders loggedInUser={loggedInUser} orders={orders} updateOrder={updateOrder} onSelectAction={this.onSelectAction} />}\n                        </section>\n                    </section>}\n                </section>\n            </main>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        stays: state.stayModule.stays,\n    }\n}\n\nconst mapDispatchToProps = {\n    loadHostStays,\n    removeStay\n}\n\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)","import { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport class OrderPreview extends Component {\n\n    render() {\n        const { order, getCancelationStatus, onCancelOrder } = this.props\n        return (\n\n            <Link to={`/stay/${order.stay._id}`} className=\"order-preview\">\n                <div className=\"img-container\">\n                    <img src={order.stay.imgUrls[0]} alt=\"stay\" />\n                    <img src={order.stay.imgUrls[1]} alt=\"stay\" />\n                    <img src={order.stay.imgUrls[2]} alt=\"stay\" />\n                </div>\n                <div className=\"details-container\">\n                    <h3>\n                        {order.stay.name}\n                        <p>\n                            <span>{order.startDate}</span>\n                            <span>{order.endDate}</span>\n                        </p>\n                    </h3>\n                    <h4 className=\"order-price\">$ {order.totalPrice.toLocaleString(\"en-US\")}</h4>\n                    <h4 className={`order-status ${order.status === 'approved' && 'status-green'} ${order.status === 'declined' && 'status-red'}`}>{order.status}</h4>\n                    <div className=\"order-cancelation\">\n                        <h4>{getCancelationStatus(order)}</h4>\n                        {getCancelationStatus(order) !== 'Non-refundable' && <button onClick={() => onCancelOrder(order)}>Cancel order</button>}\n                        {getCancelationStatus(order) === 'Non-refundable' && <button className=\"cancel-disabled\" disabled onClick={() => onCancelOrder(order)}>Cancel order</button>}\n                    </div>\n                </div>\n            </Link>\n        )\n    }\n}","import { OrderPreview } from './OrderPreview'\nimport {Loader} from '../app/Loader'\n\nexport function OrderList({ orders, getCancelationStatus, onCancelOrder }) {\n\n    if (!orders || !orders.length) return <Loader/>\n\n    return (\n        <section className=\"order-list\">\n            {orders.map(order => <OrderPreview\n                key={Math.random()}\n                order={order}\n                getCancelationStatus={getCancelationStatus}\n                onCancelOrder={onCancelOrder}\n            />)}\n        </section>\n    )\n}","import { Component } from 'react';\nimport { OrderList } from '../cmps/orders/OrderList';\nimport { Loader } from '../cmps/app/Loader'\n\nexport class Orders extends Component {\n\n    state = {\n        sction: '',\n        loggedInUser: null,\n        orders: [],\n        filterBy: {\n            status: true,\n            price: true,\n            checkIn: true,\n            checkOut: true,\n            name: true\n        },\n        currPage: 'upcoming',\n    }\n\n    componentDidMount() {\n        this.setState({ loggedInUser: this.props.loggedInUser }, () => {\n            this.loadOrders();\n        })\n        this.props.setFooterDisplay(false)\n        this.props.setHomePage('orders')\n    }\n\n    componentWillUnmount() {\n        this.props.setFooterDisplay(true)\n    }\n\n    loadOrders = async () => {\n        await this.props.loadOrders({ id: this.state.loggedInUser._id, type: 'user' })\n        this.setState({ orders: this.props.orders })\n        this.showOrdersByTime()\n    }\n\n    onCancelOrder = async (stay) => {\n        var daysToTrip = this.getTimeBeforeTrip(stay.startDate);\n        if (daysToTrip >= 7) {\n            await this.props.removeOrder(stay._id)\n            this.setState({ orders: this.props.orders })\n            this.props.toggleMsgModal(<span><i className=\"far fa-check-circle\"></i><h3>Your order has been canceled</h3></span>)\n        }\n        else this.props.toggleMsgModal(<span><i className=\"far fa-times-circle\"></i><h3>You can't cancel this order</h3></span>)\n\n    }\n\n    toggleShowOrderTime = (currPage) => {\n        this.setState({ currPage }, () => { this.showOrdersByTime() })\n    }\n\n    showOrdersByTime = () => {\n        const orders = this.props.orders\n        var filteredOrders = [];\n        if (this.state.currPage === 'upcoming') {\n            orders.forEach(order => {\n                if (new Date(order.startDate) - new Date(Date.now()) > 0) filteredOrders.push(order)\n            })\n        } else {\n            orders.forEach(order => {\n                if (new Date(order.startDate) - new Date(Date.now()) < 0) filteredOrders.push(order)\n            })\n        }\n        this.setState({ orders: filteredOrders })\n    }\n\n    getCancelationStatus = (stay) => {\n        var daysToTrip = this.getTimeBeforeTrip(stay.startDate);\n        var daysToCancel = daysToTrip - 7;\n        if (daysToCancel > 0) return `Refundable in the next ${daysToCancel.toFixed(0)} days`\n        else return \"Non-refundable\"\n    }\n\n    getTimeBeforeTrip = (startDate) => {\n        const diff = new Date(startDate).getTime() - Date.now();\n        return diff / 1000 / 60 / 60 / 24\n    }\n\n    handleChange = (ev) => {\n        var { name } = ev.target\n        this.setState({ filterBy: { ...this.state.filterBy, [name]: !this.state.filterBy[name] } }, () => {\n        });\n    }\n\n    onSortOrders = (ev) => {\n        ev.preventDefault()\n        const orders = this.state.orders;\n        const sortBy = ev.target.name\n        var sortOrders = [];\n        switch (sortBy) {\n            case 'name':\n                sortOrders = _sortByName(orders);\n                break\n            case 'checkIn':\n                sortOrders = _sortByDate(orders, 'startDate');\n                console.log(sortOrders);\n                break\n            case 'checkOut':\n                sortOrders = _sortByDate(orders, 'endDate');\n                break\n            case 'price':\n                sortOrders = _sortByPrice(orders);\n                break\n            default:\n                break;\n        }\n\n        this.setState({ orders: sortOrders })\n    }\n\n    render() {\n        const { orders, filterBy, currPage } = this.state;\n        const { name, price, status, checkIn, checkOut } = filterBy\n        console.log(orders);\n        if (!orders) return <Loader />\n        \n        return (\n            <main className=\"user-order-container main page\">\n                <section className=\"user-order-list\">\n                    <h1>Trips</h1>\n                    <div className=\"order-header\">\n                        <div className=\"order-nav\">\n                            <button className={currPage === 'upcoming' && 'active'} onClick={() => { this.toggleShowOrderTime('upcoming') }}> Upcoming</button>\n                            <button className={currPage === 'past' && 'active'} onClick={() => { this.toggleShowOrderTime('past') }}>Past</button>\n                        </div>\n                        <div className=\"order-filter\">\n                            <button name=\"name\" value={name} onClick={this.onSortOrders} >Stay name</button>\n                            <button name=\"checkIn\" value={checkIn} onClick={this.onSortOrders}>Check in</button>\n                            <button name=\"checkOut\" value={checkOut} onClick={this.onSortOrders}>Check out</button>\n                            <button name=\"price\" value={price} onClick={this.onSortOrders}>Price</button>\n                            <button name=\"status\" value={status} >Status</button>\n                        </div>\n                    </div>\n                    <OrderList\n                        orders={orders}\n                        getCancelationStatus={this.getCancelationStatus}\n                        onCancelOrder={this.onCancelOrder}\n                    />\n                </section>\n            </main>\n        )\n    }\n}\n\nfunction _sortByName(orders) {\n    return orders.sort(function (orderA, orderB) {\n        var nameA = orderA.stay.name.toUpperCase(); \n        var nameB = orderB.stay.name.toUpperCase();\n        if (nameA < nameB) {\n            return -1;\n        }\n        if (nameA > nameB) {\n            return 1;\n        }\n        return 0;\n    });\n}\n\nfunction _sortByDate(orders, dateType) {\n    return orders.sort(function (orderA, orderB) {\n        return new Date(orderA[dateType]) - new Date(orderB[dateType]);\n    });\n}\n\nfunction _sortByPrice(orders) {\n    return orders.sort(function (orderA, orderB) {\n        return orderA.totalPrice - orderB.totalPrice\n    });\n}","export default __webpack_public_path__ + \"static/media/logo.b08875a0.png\";","import { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Logo from \"../assets/img/logo.png\"\n\nexport class BecomeHost extends Component {\n\n    componentDidMount() {\n        this.props.setFooterDisplay(false)\n    }\n\n    componentWillUnmount() {\n        this.props.setFooterDisplay(true)\n    }\n\n    render() {\n        const { loggedInUser } = this.props\n        return (\n            <main className=\"main\" >\n                <section className=\"full bocome-host-container\">\n                    <div className=\"hosting-img\">\n                        <Link className=\"a\" to=\"/\"><i className=\"fab fa-airbnb fa-3x logo-icon\"></i></Link>\n                        <img className=\"guests-img\" src=\"https://www.insidehook.com/wp-content/uploads/2021/03/good-airbnb-guest-2.jpg?fit=1200%2C800\" alt=\"\" />\n                    </div>\n                    <div className=\"hosting-info\">\n                        <h1>Hosting makes us</h1>\n                        <h1 className=\"logo\">Home<img src={Logo} alt=\"logo\" />Go</h1>\n                    </div>\n                    <button className=\"host-btn\"><Link to={(loggedInUser) ? `/host/${loggedInUser._id}` : \"/login\"}>Try hosting</Link></button>\n                </section>\n            </main>\n        )\n    }\n\n}","import { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { utilService } from '../services/util-service'\n\nexport class Notifications extends Component {\n\n  async componentDidMount() {\n    this.props.setFooterDisplay(false)\n    this.props.setHomePage('user')\n    this.props.setNotifStatus(false)\n  }\n\n  async componentWillUnmount() {\n    this.props.setFooterDisplay(true)\n  }\n\n  onClearNotif = () => {\n    const currUser = this.props.loggedInUser\n    currUser.notifications = []\n    this.props.updateUser(currUser)\n  }\n\n  render() {\n    const { notifications } = this.props.loggedInUser\n\n    return (\n      <main className=\"notifications main page\">\n        <section className=\"notif-list\">\n          <h1>Notifications</h1>\n          {notifications && notifications.map(msg => {\n            return (\n              <div key={Math.random()} className=\"notif-card\">\n                <img src={msg.imgUrl} alt=\"avatar\" />\n                <span>\n                  <h3>{msg.fullname}</h3>\n                  <h4>{utilService.getTimeFormat(msg.createdAt)}</h4>\n                </span>\n                <h4 className=\"notif-card-txt\">{msg.txt}</h4>\n                {msg.type === 'from' && <Link to={`/host/${this.props.loggedInUser._id}`}>Read More</Link>}\n                {msg.type === 'to' && <Link to={`/orders`}>Read More</Link>}\n              </div>\n            )\n          })}\n          <button onClick={this.onClearNotif}>Clear all</button>\n        </section>\n      </main>\n    );\n  }\n}\n","import React from \"react\";\nimport { Component } from \"react\";\n\nexport class DynamicModal extends Component {\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.modalType !== this.props.modalType && this.props.modalType !== '') {\n            this.props.openDynamicModal(this.props.modalType)\n        }\n    }\n\n    render() {\n        const { modalPosition } = this.props\n        if (!modalPosition || !modalPosition.top || !modalPosition.left) return ''\n\n        return (\n            <React.Fragment>\n                <div className=\"modal-bg\"></div>\n                <section className=\"dynamic-modal\" style={modalPosition}>\n                    {this.props.children}\n                </section>\n            </React.Fragment>\n        )\n    }\n}","import React from \"react\";\nimport { Component } from \"react\";\n\n\nexport class UserMsg extends Component {\n\n    render() {\n\n        return (\n            <section className=\"user-msg\" >\n                {this.props.children}\n            </section>\n        )\n    }\n}","import { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport { StayDetails } from './pages/StayDetails';\nimport { UserDetails } from './pages/UserDetails';\nimport { Explore } from './pages/Explore';\nimport { Wishlist } from './pages/Whislist';\nimport { LoginSignup } from './pages/LoginSignup';\nimport { Home } from './pages/Home';\nimport { Header } from './cmps/Header';\nimport { Footer } from './cmps/Footer';\nimport { Dashboard } from './pages/Dashboard';\nimport { Orders } from './pages/Orders';\nimport { BecomeHost } from './pages/BecomeHost';\nimport { Notifications } from './pages/Notifications';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { loadStays, removeStay, loadHostStays, loadWishlist, updateStay } from './store/actions/stayActions';\nimport { stayService } from './services/stay-service'\nimport { socketService } from './services/socketService'\nimport { userService } from './services/user-service'\nimport { loadOrders, removeOrder, updateOrder } from './store/actions/orderActions';\nimport { addTrip, loadTrip, removeTrip } from './store/actions/tripActions';\nimport { updateUser, loadUsers, logout, login } from './store/actions/userActions';\nimport { DynamicModal } from './cmps/app/DynamicModal';\nimport { UserMsg } from './cmps/app/UserMsg';\n\nclass _App extends Component {\n  state = {\n    userMsg: '',\n    isUserMsg: false,\n    modalType: '',\n    dynamicModal: {\n      modalContent: '',\n      modalPosition: { top: 0, left: 0, height: 0, width: 0 },\n    },\n    topRatedStays: [],\n    nearbayStays: [],\n    isFooterOn: true,\n    currPage: 'home',\n    isNewNotif: false\n  };\n\n  async componentDidMount() {\n    this.loadRated();\n    this.loadNearby();\n    await socketService.setup()\n    await socketService.on('ORDER_IN', this.onOrderIn)\n  }\n\n  onOrderIn = async (order) => {\n    const user = this.props.loggedInUser\n\n    if (user._id === order.host._id) {\n      const host = await userService.getById(order.host._id)\n      const txt = `${order.user.fullname} booked your stay`\n      const createdAt = new Date()\n      const imgUrl = order.user.imgUrl\n      const fullname = order.user.fullname\n      const type = 'from'\n      const msg = { txt, createdAt, imgUrl, fullname, type }\n      this.setNotifStatus(true)\n\n      if (host.notifications) {\n        host.notifications.unshift(msg)\n      } else {\n        host.notifications = []\n        host.notifications.unshift(msg)\n      }\n      this.props.updateUser(host)\n\n    } else if (user._id === order.user._id) {\n      const txt = `Your order has been sent to ${order.host.fullname}`\n      const createdAt = new Date()\n      const imgUrl = order.host.imgUrl\n      const fullname = order.host.fullname\n      const type = 'to'\n      const msg = { txt, createdAt, imgUrl, fullname, type }\n\n      this.setNotifStatus(true)\n\n      if (user.notifications) {\n        user.notifications.unshift(msg)\n      } else {\n        user.notifications = []\n        user.notifications.unshift(msg)\n      }\n      this.props.updateUser(user)\n    }\n  }\n\n  setNotifStatus = (isNewNotif) => {\n    this.setState({ isNewNotif })\n  }\n\n  async componentWillUnmount() {\n    await socketService.off('ORDER_IN', this.onOrderIn)\n    socketService.terminate()\n  }\n\n  loadRated = async () => {\n    const topRatedStays = await stayService.getTopRatedStays();\n    this.setState({ topRatedStays })\n  }\n\n  loadNearby = async () => {\n    const nearbayStays = await stayService.getNearbyStays('portugal');\n    this.setState({ nearbayStays })\n  }\n\n  onSearch = (trip) => {\n    this.props.addTrip(trip);\n    this.props.loadStays(trip);\n  };\n\n  toggleMsgModal = (msg) => {\n    this.setState({ userMsg: msg, isUserMsg: true });\n    setTimeout(() => {\n      this.setState({ isUserMsg: false });\n    }, 4000);\n    setTimeout(() => {\n      this.setState({ userMsg: '' });\n    }, 6000);\n  };\n\n  setModalContent = (dynamicModal, modalType) => {\n    this.setState({ dynamicModal, modalType });\n  };\n\n  closeDynamicModal = (ev) => {\n    if (ev.type === 'scroll') {\n      this.setState({ modalType: '' }, () => {\n        window.removeEventListener('click', this.closeDynamicModal, true);\n        window.removeEventListener('scroll', this.closeDynamicModal, true);\n      });\n      return;\n    }\n\n    if (ev.target.closest('.dynamic-modal')) return;\n    if (ev.target.nodeName === 'BUTTON') return;\n\n    this.setState({ modalType: '' }, () => {\n      window.removeEventListener('click', this.closeDynamicModal, true);\n      window.removeEventListener('scroll', this.closeDynamicModal, true);\n    });\n  };\n\n  openDynamicModal = (modalType, ev = null) => {\n    if (ev && ev.target.innerText === 'logout') {\n      this.setState({ modalType: '' })\n      return\n    }\n    this.setState({ modalType }, () => {\n      window.addEventListener('click', this.closeDynamicModal, true);\n      window.addEventListener('scroll', this.closeDynamicModal, true);\n    });\n  };\n\n  setFooterDisplay = (isFooterOn) => {\n    this.setState({ isFooterOn })\n  }\n\n  setHomePage = (page) => {\n    this.setState({ currPage: page })\n  }\n\n\n  render() {\n\n    const {\n      stays,\n      orders,\n      updateUser,\n      trip,\n      addTrip,\n      removeTrip,\n      loggedInUser,\n      logout,\n      loadStays,\n      loadOrders,\n      removeOrder,\n      loadWishlist,\n      updateStay,\n      login,\n      updateOrder\n    } = this.props;\n\n    const { userMsg,\n      isUserMsg,\n      modalType,\n      dynamicModal,\n      topRatedStays,\n      nearbayStays,\n      isFooterOn,\n      currPage,\n      isNewNotif\n    } = this.state;\n\n    return (\n      <Router>\n        <Header\n          trip={trip}\n          addTrip={addTrip}\n          removeTrip={removeTrip}\n          modalType={modalType}\n          onSearch={this.onSearch}\n          loggedInUser={loggedInUser}\n          logout={logout}\n          openDynamicModal={this.openDynamicModal}\n          closeDynamicModal={this.closeDynamicModal}\n          setModalContent={this.setModalContent}\n          currPage={currPage}\n          loadStays={loadStays}\n          isNewNotif={isNewNotif}\n        />\n        <Switch>\n          <Route path=\"/login\" render={(props) => (<LoginSignup {...props} setFooterDisplay={this.setFooterDisplay} />)} />\n          <Route\n            path=\"/orders\"\n            render={(props) => (\n              <Orders\n                {...props}\n                loadOrders={loadOrders}\n                orders={orders}\n                loggedInUser={loggedInUser}\n                removeOrder={removeOrder}\n                toggleMsgModal={this.toggleMsgModal}\n                setFooterDisplay={this.setFooterDisplay}\n                setHomePage={this.setHomePage}\n              />\n            )}\n          />\n          <Route\n            path=\"/host/:userId\"\n            render={(props) => (\n              <Dashboard\n                {...props}\n                loggedInUser={loggedInUser}\n                updateUser={updateUser}\n                toggleMsgModal={this.toggleMsgModal}\n                loadOrders={loadOrders} orders={orders}\n                setFooterDisplay={this.setFooterDisplay}\n                setHomePage={this.setHomePage}\n                updateOrder={updateOrder}\n              />\n            )}\n          />\n          <Route\n            path=\"/host\"\n            render={(props) => (\n              <BecomeHost\n                {...props}\n                loggedInUser={loggedInUser}\n                setFooterDisplay={this.setFooterDisplay}\n              />\n            )}\n          />\n          <Route\n            path=\"/wishlist\"\n            render={(props) => (\n              <Wishlist\n                {...props}\n                stays={stays}\n                loadWishlist={loadWishlist}\n                loggedInUser={loggedInUser}\n                toggleMsgModal={this.toggleMsgModal}\n                login={login}\n                setHomePage={this.setHomePage}\n                updateUser={updateUser}\n                trip={trip}\n                addTrip={addTrip}\n              />\n            )}\n          />\n          <Route\n            path=\"/stay/:stayId\"\n            render={(props) => (\n              <StayDetails\n                {...props}\n                onSearch={this.onSearch}\n                loggedInUser={loggedInUser}\n                toggleMsgModal={this.toggleMsgModal}\n                login={login}\n                openDynamicModal={this.openDynamicModal}\n                modalType={modalType}\n                updateStay={updateStay}\n                updateUser={updateUser}\n                setModalContent={this.setModalContent}\n                setHomePage={this.setHomePage}\n                setHostSocket={this.setHostSocket}\n              />\n            )}\n          />\n          <Route\n            path=\"/explore\"\n            render={(props) => (\n              <Explore\n                {...props}\n                trip={trip}\n                loadStays={loadStays}\n                stays={stays}\n                updateUser={updateUser}\n                loggedInUser={loggedInUser}\n                openDynamicModal={this.openDynamicModal}\n                closeDynamicModal={this.closeDynamicModal}\n                setModalContent={this.setModalContent}\n                setHomePage={this.setHomePage}\n                toggleMsgModal={this.toggleMsgModal}\n                login={login}\n                addTrip={addTrip}\n              />\n            )}\n          />\n          <Route\n            path=\"/user\"\n            render={(props) => (\n              <UserDetails {...props}\n                updateUser={updateUser}\n                setHomePage={this.setHomePage}\n                setFooterDisplay={this.setFooterDisplay}\n              />\n            )}\n          />\n          <Route\n            path=\"/notif\"\n            render={(props) => (\n              <Notifications {...props}\n                updateUser={updateUser}\n                loggedInUser={loggedInUser}\n                setHomePage={this.setHomePage}\n                setFooterDisplay={this.setFooterDisplay}\n                setNotifStatus={this.setNotifStatus}\n              />\n            )}\n          />\n          <Route\n            path=\"/\"\n            render={(props) => (\n              <Home\n                {...props}\n                onSearch={this.onSearch}\n                stays={stays}\n                loggedInUser={loggedInUser}\n                loadStays={loadStays}\n                topRatedStays={topRatedStays}\n                nearbayStays={nearbayStays}\n                setHomePage={this.setHomePage}\n                addTrip={addTrip}\n              />\n            )}\n          />\n        </Switch>\n        {isFooterOn && <Footer\n          onSearch={this.onSearch}\n          stays={stays}\n          topRatedStays={topRatedStays}\n          nearbayStays={nearbayStays}\n        />}\n\n        <DynamicModal\n          openDynamicModal={this.openDynamicModal}\n          modalPosition={dynamicModal.modalPosition}\n          modalType={modalType}\n        >\n          {dynamicModal.modalContent}\n        </DynamicModal>\n\n        <UserMsg>\n          <section className={`user-msg ${isUserMsg && 'on'} `}>\n            {userMsg}\n          </section>\n        </UserMsg>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    stays: state.stayModule.stays,\n    orders: state.orderModule.orders,\n    trip: state.tripModule.trip,\n    users: state.userModule.users,\n    loggedInUser: state.userModule.loggedInUser,\n  };\n};\n\nconst mapDispatchToProps = {\n  loadStays,\n  addTrip,\n  updateUser,\n  loadUsers,\n  loadTrip,\n  removeTrip,\n  logout,\n  removeStay,\n  loadHostStays,\n  loadOrders,\n  removeOrder,\n  loadWishlist,\n  updateStay,\n  login,\n  updateOrder\n};\n\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App);\n","import { tripService } from '../../services/trip-service'\n\nexport function loadTrip() {\n  return dispatch => {\n    const trip = tripService.query()\n    dispatch({ type: 'SET_TRIP', trip })\n  }\n}\n\nexport function addTrip(trip) {\n  return dispatch => {\n    const addedTrip = tripService.add(trip)\n    dispatch({ type: 'SET_TRIP', trip: addedTrip })\n  }\n}\n\nexport function removeTrip() {\n  return dispatch => {\n    tripService.remove()\n    dispatch({ type: 'REMOVE_TRIP' })\n  }\n}\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\n  stays: []\n}\n\nexport function stayReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_HOST_STAYS':\n      return { ...state, stays: action.stays }\n    case 'SET_WISH_STAYS':\n      return { ...state, stays: action.stays }\n    case 'SET_STAYS':\n      return { ...state, stays: action.stays }\n    case 'ADD_STAY':\n      return { ...state, stays: [...state.stays, action.stay] }\n    case 'REMOVE_STAY':\n      return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\n    case 'UPDATE_STAY':\n      return {\n        ...state,\n        stays: state.stays.map(stay =>\n          stay._id === action.stay._id ? action.stay : stay\n        )\n      }\n    default:\n      return state\n  }\n}\n","let localLoggedinUser = null\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\n\nconst initialState = {\n  loggedInUser: localLoggedinUser,\n  users: []\n}\n\nexport function userReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_USER':\n      return { ...state, loggedInUser: action.user }\n    case 'REMOVE_USER':\n      return {\n        ...state,\n        users: state.users.filter(user => user._id !== action.userId)\n      }\n    case 'SET_USERS':\n      return { ...state, users: action.users }\n    case 'UPDATE_USER':\n      return {\n        loggedInUser: { ...action.user, notifications: [...action.user.notifications] },\n        users: state.users.map(user =>\n          user._id === action.user._id ? action.user : user\n        )\n      }\n    default:\n      return state\n  }\n}\n","const initialState = {\n  orders: [],\n}\n\nexport function orderReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_ORDERS':\n      return { ...state, orders: action.orders }\n    case 'ADD_ORDER':\n      return { ...state, orders: [...state.orders, action.order] }\n    case 'REMOVE_ORDER':\n      return { ...state, orders: state.orders.filter(order => order._id !== action.orderId) }\n    case 'UPDATE_ORDER':\n      return {\n        ...state,\n        orders: state.orders.map(order =>\n          order._id === action.order._id ? action.order : order\n        )\n      }\n    default:\n      return state\n  }\n}\n","let localInitialState = { guests: { adults: 1, kids: 0, baby: 0 }, loc: { address: '' }, time: { checkIn: '', checkOut: '' } }\nif (localStorage.trip) localInitialState = JSON.parse(localStorage.trip)\n\nconst initialState = {\n  trip: localInitialState\n}\n\nexport function tripReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_TRIP':\n      return { trip: action.trip }\n    case 'ADD_TRIP':\n      return { ...state, stays: [...state.stays, action.stay] }\n    case 'REMOVE_TRIP':\n      return { trip: null }\n    default:\n      return state\n  }\n}\n","const initialState = {\n  isLoading: false\n};\n\nexport function systemReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'LOADING_START':\n      return { ...state, isLoading: true }\n    case 'LOADING_DONE':\n      return { ...state, isLoading: false }\n    default: return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport { stayReducer } from './stayReducer'\nimport { userReducer } from './userReducer'\nimport { orderReducer } from './orderReducer'\nimport { tripReducer } from './tripReducer'\nimport { systemReducer } from './systemReducer'\n\nexport const rootReducer = combineReducers({\n  systemModule: systemReducer,\n  orderModule: orderReducer,\n  stayModule: stayReducer,\n  userModule: userReducer,\n  tripModule: tripReducer\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport { rootReducer } from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/styles.scss';\nimport {App} from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux'\nimport { store } from './store/store.js'\n\nimport 'react-date-range/dist/styles.css'; // main style file\nimport 'react-date-range/dist/theme/default.css'; // theme css file\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}