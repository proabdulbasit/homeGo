{"version":3,"sources":["services/http.service.js","services/stay-service.js","services/util-service.js","cmps/stay-details/ReviewPreview.jsx","cmps/stay-details/ReviewList.jsx","assets/img/avatar.png","cmps/stay-details/AddReview.jsx","cmps/app/Dates.jsx","services/trip-service.js","services/order-service.js","services/user-service.js","store/actions/userActions.js","services/socketService.js","cmps/stay-details/BookStay.jsx","store/actions/orderActions.js","cmps/stay-details/GoogleMap.jsx","cmps/app/Loader.jsx","pages/StayDetails.jsx","assets/img/user-lock.PNG","assets/img/user-card.PNG","pages/UserDetails.jsx","cmps/explore/StayGallery.jsx","cmps/explore/StayPreview.jsx","cmps/explore/StayList.jsx","cmps/explore/StayFilter.jsx","pages/Explore.jsx","pages/Whislist.jsx","pages/LoginSignup.jsx","cmps/home/FilterGallery.jsx","cmps/home/Banner.jsx","cmps/home/Hero.jsx","cmps/home/FilterCities.jsx","pages/Home.jsx","cmps/app/MainFilter.jsx","cmps/app/NavMenu.jsx","cmps/Header.jsx","cmps/app/FooterLinks.jsx","cmps/Footer.jsx","cmps/dashboard/DashSideNav.jsx","cmps/dashboard/DashHeader.jsx","cmps/dashboard/HostStayPreview.jsx","cmps/dashboard/HostStayList.jsx","cmps/dashboard/MyStays.jsx","cmps/dashboard/HostStaysMenu.jsx","cmps/dashboard/RatePieChart.jsx","cmps/dashboard/RateStatistic.jsx","store/actions/stayActions.js","services/cloudinary-service.js","cmps/Upload.jsx","cmps/dashboard/SaveStay.jsx","cmps/dashboard/OrdersPrview.jsx","cmps/dashboard/OrderList.jsx","cmps/dashboard/HostOrders.jsx","assets/img/user-cash.PNG","pages/Dashboard.jsx","cmps/orders/OrderPreview.jsx","cmps/orders/OrderList.jsx","pages/Orders.jsx","assets/img/logo.png","pages/BecomeHost.jsx","pages/Notifications.jsx","cmps/app/DynamicModal.jsx","cmps/app/UserMsg.jsx","App.jsx","store/actions/tripActions.js","reportWebVitals.js","store/reducers/stayReducer.js","store/reducers/userReducer.js","store/reducers/orderReducer.js","store/reducers/tripReducer.js","store/reducers/systemReducer.js","store/reducers/index.js","store/store.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","window","location","assign","stayService","query","trip","getById","stayId","remove","update","add","getTopRatedStays","getNearbyStays","getHostStays","getUserWishlist","stay","_id","loc","address","guests","adults","kids","type","userId","user","utilService","makeId","length","txt","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","getTimeFormat","time","day","Date","getDay","month","getMonth","year","getFullYear","_getTimeStr","ReviewPreview","review","className","src","imgUrl","alt","fullname","ReviewList","reviews","map","AddReview","state","avgRate","categories","Cleanliness","Accuracy","Communication","Location","Accessibility","Avatar","now","clearForm","setState","handleRateChange","rate","key","handleChange","value","target","saveReview","avg","loggedInUser","props","addReview","this","username","prevProps","htmlFor","count","onChange","isHalf","activeColor","id","classNames","name","autoComplete","placeholder","onClick","Component","PickDates","startDate","endDate","handleSelect","ranges","selection","handleDates","editableDateInputs","moveRangeOnFirstSelection","tripService","val","localStorage","getItem","JSON","parse","load","STORAGE_KEY","save","getTopCities","city","stringify","orderService","orderId","getHostOrders","getUserOrders","filterBy","num","orders","order","createdAt","checkOut","checkIn","host","totalPrice","filter","userService","login","logout","signup","getLoggedinUser","userCred","_saveLocalUser","gender","sessionStorage","clear","updatedUser","setItem","loadUsers","dispatch","getUsers","users","userCreds","socketService","socket","setup","io","reconnection","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","_BookStay","isAvailable","dynamicModal","modalContent","modalPosition","onSetModal","event","modalKey","clickPos","x","pageX","y","pageY","openModal","inti","toDateString","endi","top","left","height","width","setModalContent","ev","timeStamp","preventDefault","sumGuest","isLess","capacity","toggleAvailability","toggleMsgModal","onSearch","onReserveTrip","to","password","price","getTripTime","addOrder","getTime","getCells","cells","push","modalType","getTotalRate","toLocaleString","defaultValue","mapDispatchToProps","addedOrder","BookStay","connect","userModule","tripModule","_GoogleMap","lat","lng","pos","google","zoom","initialCenter","center","position","visible","GoogleMap","GoogleApiWrapper","apiKey","override","css","Loader","useState","loading","color","StayDetails","toggleWish","scrollUp","scroll","behavior","setWishList","wishlist","findIndex","wishId","loadStay","match","onAddToWishList","find","wish","idx","wishidx","splice","updateUser","rates","sum","reduce","acc","toFixed","getStayReviewStatistics","reviewCtgMap","ctg","forEach","elReviews","edit","updateStay","setHomePage","amenity","openDynamicModal","desc","amenities","stayType","propertyType","imgUrls","getAmenityIcon","elCtgRate","UserDetails","isEditMode","loadUser","sessionUser","onUpdateUser","toggleEditMode","setFooterDisplay","currUser","email","Lock","Card","StayGallery","dots","infinite","arrows","speed","slidesToShow","slidesToScroll","StayPreview","addTrip","loadWishlist","updatedTrip","substring","indexOf","StayList","stays","StayFilter","getBoundingClientRect","resetFilter","stayFilterBy","placeType","TV","Wifi","onfilterStays","isAmenities","Explore","filterStays","scrollTo","closeDynamicModal","filteredStays","_isTypePlace","_isPropertyType","_isPrice","_isAmenities","unshift","Wishlist","_LoginSignup","msg","loginCred","signupCred","formType","loginHandleChange","prevState","signupHandleChange","doLogin","history","go","doSignup","signupCreds","removeUser","toggleFormType","nextForm","signupSection","onSubmit","loginSection","alert","isAdmin","isLoading","LoginSignup","systemModule","FilterGallery","onSelectStay","Banner","btnTxt","title","subtitle","Hero","loadStays","FilterCities","onSelectTopCity","Home","explorAll","topRatedStays","nearbayStays","MainFilter","loadTrip","loadRated","topRated","handle","isFullHeader","openFullHeader","NavMenu","toggleUserMenu","isNewNotif","style","isHost","Header","isWindowTop","isHomePage","isNarrow","isDetailsHeader","openDetailsHeader","scrollY","closeFullHeader","closest","removeEventListener","addEventListener","getScrollPos","getAvgRate","setCurrPage","currPage","toggleFullHeader","React","FooterLinks","topCities","Footer","DashSideNav","onSelectAction","DashHeader","orderChangeStatus","getSumByOrderStatus","getActiveGuests","activeUsers","totalRate","stayAvgRate","b","getTotalAvgRate","totalEarning","currMonth","currYear","orderMonth","orderYear","getMonthlyEarning","HostStayPreview","onSelectedEditStay","HostStayList","MyStays","HostStaysMenu","updateSelectedStay","RatePieChart","labels","datasets","label","round","backgroundColor","borderColor","borderWidth","RateStatistic","updatedStay","removeStay","loadHostStays","hostId","cloudinaryService","uploadImg","UPLOAD_URL","formData","FormData","append","files","fetch","body","then","json","catch","err","error","Upload","isUploading","secure_url","onUploadImg","userImgUrl","previewStyle","backgroundImage","uploadMsg","accept","_StayEdit","country","countryCode","onRemoveStays","imgState","checked","onSaveStay","currAmenities","addStay","stayEdit","amenitie","required","addedStay","StayEdit","stayModule","OrdersPrview","updateOrder","onUpdateOrder","OrderList","HostOrders","_Dashboard","action","selsctedEditStay","getRateChangStatus","loadOrders","Cash","Dashboard","OrderPreview","getCancelationStatus","onCancelOrder","disabled","Orders","sction","showOrdersByTime","getTimeBeforeTrip","removeOrder","toggleShowOrderTime","filteredOrders","daysToCancel","onSortOrders","sortOrders","_sortByName","_sortByDate","_sortByPrice","sort","orderA","orderB","nameA","toUpperCase","nameB","dateType","BecomeHost","Logo","Notifications","onClearNotif","notifications","setNotifStatus","DynamicModal","Fragment","children","UserMsg","_App","userMsg","isUserMsg","isFooterOn","onOrderIn","loadNearby","setTimeout","nodeName","innerText","page","removeTrip","path","render","setHostSocket","updatedOrder","App","orderModule","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","localLoggedinUser","loggedinUser","localInitialState","baby","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1f973c20.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = (process.env.NODE_ENV === 'production')\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from './http.service'\r\n\r\nexport const stayService = {\r\n\tquery,\r\n\tgetById,\r\n\tremove,\r\n\tupdate,\r\n\tadd,\r\n\tgetTopRatedStays,\r\n\tgetNearbyStays,\r\n\tgetHostStays,\r\n\tgetUserWishlist\r\n};\r\n\r\nwindow.stayService = stayService;\r\n\r\nfunction query(trip) {\r\n\treturn httpService.get(`stay`, trip)\r\n}\r\n\r\nfunction getById(stayId) {\r\n\treturn httpService.get(`stay/${stayId}`)\r\n}\r\n\r\nfunction remove(stayId) {\r\n\treturn httpService.delete(`stay/${stayId}`)\r\n}\r\n\r\nasync function update(stay) {\r\n\treturn await httpService.put(`stay/${stay._id}`, stay)\r\n}\r\n\r\nasync function add(stay) {\r\n\treturn await httpService.post(`stay`, stay)\r\n}\r\n\r\nasync function getTopRatedStays(trip = { loc: { address: '' }, guests: { adults: 1, kids: 0 }, type: 'top rated' }) {\r\n\treturn await httpService.get(`stay`, trip)\r\n}\r\n\r\nasync function getNearbyStays(location) {\r\n\treturn await httpService.get(`stay`, { loc: { address: '' }, guests: { adults: 1, kids: 0 }, type: 'nearby', data: location })\r\n}\r\n\r\nasync function getHostStays(userId) {\r\n\treturn await httpService.get(`stay`, { loc: { address: '' }, guests: { adults: 1, kids: 0 }, type: 'host', data: userId })\r\n}\r\n\r\nasync function getUserWishlist(user) {\r\n\treturn httpService.get(`stay`, { loc: { address: '' }, guests: { adults: 1, kids: 0 }, type: 'wishlist', data: user })\r\n}\r\n\r\n\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    getTimeFormat\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction getTimeFormat(time) {\r\n    time = new Date(time)\r\n    var day = time.getDay() + 1;\r\n    var month = time.getMonth() + 1;\r\n    var year = time.getFullYear();\r\n    return `${_getTimeStr(day)} / ${_getTimeStr(month)} / ${year}`\r\n}\r\n\r\nfunction _getTimeStr(time) {\r\n    if (time < 10) return `0${time}`\r\n    else return time\r\n}","import { utilService } from '../../services/util-service.js'\r\n\r\nexport function ReviewPreview({ review }) {\r\n    return (\r\n        <section className=\"review-preview\">\r\n            <div className=\"review-header\">\r\n                <img src={review.user.imgUrl} alt=\"user\" />\r\n                <div>\r\n                    <h3>{review.user.fullname}</h3>\r\n                    <h4>{utilService.getTimeFormat(review.user.time)}</h4>\r\n                </div>\r\n            </div>\r\n            <div className=\"review-body\">\r\n                <h2>{review.txt}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import {ReviewPreview} from '../stay-details/ReviewPreview'\r\n\r\nexport function ReviewList ({ reviews }) {\r\n    return (\r\n        <section className=\"review-list\">\r\n            {reviews.map(review => <ReviewPreview key={Math.random()} review={review} />)}\r\n        </section>\r\n\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/avatar.e582e4ba.png\";","import ReactStars from 'react-rating-stars-component';\r\nimport { utilService } from '../../services/util-service';\r\nimport { Component } from 'react';\r\nimport Avatar from '../../assets/img/avatar.png';\r\n\r\nexport class AddReview extends Component {\r\n\tstate = {\r\n\t\treview: {\r\n\t\t\ttxt: '',\r\n\t\t\tavgRate: 0,\r\n\t\t\tcategories: {\r\n\t\t\t\tCleanliness: 0,\r\n\t\t\t\tAccuracy: 0,\r\n\t\t\t\tCommunication: 0,\r\n\t\t\t\tLocation: 0,\r\n\t\t\t\t'Check-in': 0,\r\n\t\t\t\tAccessibility: 0,\r\n\t\t\t},\r\n\t\t\tuser: {\r\n\t\t\t\t_id: '123456789',\r\n\t\t\t\tfullname: 'Guest',\r\n\t\t\t\timgUrl: Avatar,\r\n\t\t\t\ttime: Date.now(),\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst loggedInUser = this.props.loggedInUser;\r\n\t\tif (loggedInUser) {\r\n\t\t\tthis.setState({\r\n\t\t\t\treview: {\r\n\t\t\t\t\t...this.state.review,\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t_id: loggedInUser._id,\r\n\t\t\t\t\t\tfullname: loggedInUser.username,\r\n\t\t\t\t\t\timgUrl: loggedInUser.imgUrl,\r\n\t\t\t\t\t\ttime: Date.now(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.loggedInUser && prevProps.loggedInUser !== this.props.loggedInUser) {\r\n\t\t\tthis.setState({\r\n\t\t\t\treview: {\r\n\t\t\t\t\t...this.state.review,\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t_id: this.props.loggedInUser._id,\r\n\t\t\t\t\t\tfullname: this.props.loggedInUser.username,\r\n\t\t\t\t\t\timgUrl: this.props.loggedInUser.imgUrl,\r\n\t\t\t\t\t\ttime: Date.now(),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tclearForm = () => {\r\n\t\tthis.setState({\r\n\t\t\treview: {\r\n\t\t\t\t...this.state.review,\r\n\t\t\t\ttxt: '',\r\n\t\t\t\tavgRate: 0,\r\n\t\t\t\tcategories: {\r\n\t\t\t\t\tCleanliness: 0,\r\n\t\t\t\t\tAccuracy: 0,\r\n\t\t\t\t\tCommunication: 0,\r\n\t\t\t\t\tLocation: 0,\r\n\t\t\t\t\t'Check-in': 0,\r\n\t\t\t\t\tAccessibility: 0,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\thandleRateChange = (rate, key) => {\r\n\t\tthis.setState({\r\n\t\t\treview: {\r\n\t\t\t\t...this.state.review,\r\n\t\t\t\tcategories: { ...this.state.review.categories, [key]: rate },\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\thandleChange = ({ target }) => {\r\n\t\tconst { value } = target;\r\n\t\tthis.setState({ review: { ...this.state.review, txt: value } });\r\n\t};\r\n\r\n\tsaveReview = () => {\r\n\t\tconst { review } = this.state;\r\n\t\tconst { categories } = review;\r\n\r\n\t\tlet avg = 0;\r\n\t\tfor (const key in categories) {\r\n\t\t\tavg += categories[key];\r\n\t\t}\r\n\t\tconst loggedInUser = this.props.loggedInUser;\r\n\t\tif (loggedInUser) {\r\n\t\t\treview.user.imgUrl = loggedInUser.imgUrl;\r\n\t\t\treview.user.fullname = loggedInUser.fullname;\r\n\t\t\treview.user._id = loggedInUser._id;\r\n\t\t\treview.user.time = Date.now();\r\n\t\t}\r\n\t\treview.avgRate = avg / 6;\r\n\t\treview._id = utilService.makeId();\r\n\t\tthis.props.addReview(review);\r\n\t\tthis.clearForm();\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { loggedInUser } = this.props\r\n\t\tconst imgUrl = (loggedInUser) ? loggedInUser.imgUrl : Avatar\r\n\t\tconst fullname = (loggedInUser) ? loggedInUser.fullname : 'Guest'\r\n\t\treturn (\r\n\t\t\t<section className=\"stay-add-review\">\r\n\t\t\t\t<h2>Add review</h2>\r\n\t\t\t\t<div className=\"add-review-header\">\r\n\t\t\t\t\t<img src={imgUrl} alt=\"avater\" />\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3>{fullname}</h3>\r\n\t\t\t\t\t\t<h4>{utilService.getTimeFormat(Date.now())}</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"stay-add-review-ctgs\">\r\n\t\t\t\t\t<div className=\"ctg-statistics\">\r\n\t\t\t\t\t\t<label htmlFor=\"\">Location</label>\r\n\t\t\t\t\t\t<ReactStars\r\n\t\t\t\t\t\t\tcount={5}\r\n\t\t\t\t\t\t\tonChange={(rate) => {\r\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Location');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tisHalf={true}\r\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ctg-statistics\">\r\n\t\t\t\t\t\t<label htmlFor=\"\">Check-in</label>\r\n\t\t\t\t\t\t<ReactStars\r\n\t\t\t\t\t\t\tcount={5}\r\n\t\t\t\t\t\t\tonChange={(rate) => {\r\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Check-in');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tisHalf={true}\r\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ctg-statistics\">\r\n\t\t\t\t\t\t<label htmlFor=\"\">Accessibility</label>\r\n\t\t\t\t\t\t<ReactStars\r\n\t\t\t\t\t\t\tcount={5}\r\n\t\t\t\t\t\t\tonChange={(rate) => {\r\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Accessibility');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tisHalf={true}\r\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ctg-statistics\">\r\n\t\t\t\t\t\t<label htmlFor=\"\">Communication</label>\r\n\t\t\t\t\t\t<ReactStars\r\n\t\t\t\t\t\t\tcount={5}\r\n\t\t\t\t\t\t\tonChange={(rate) => {\r\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Communication');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tisHalf={true}\r\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ctg-statistics\">\r\n\t\t\t\t\t\t<label htmlFor=\"\">Accuracy</label>\r\n\t\t\t\t\t\t<ReactStars\r\n\t\t\t\t\t\t\tcount={5}\r\n\t\t\t\t\t\t\tonChange={(rate) => {\r\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Accuracy');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tisHalf={true}\r\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ctg-statistics\">\r\n\t\t\t\t\t\t<label htmlFor=\"\">Cleanliness-in</label>\r\n\t\t\t\t\t\t<ReactStars\r\n\t\t\t\t\t\t\tid=\"clean\"\r\n\t\t\t\t\t\t\tclassNames=\"rate-clean\"\r\n\t\t\t\t\t\t\tcount={5}\r\n\t\t\t\t\t\t\tonChange={(rate) => {\r\n\t\t\t\t\t\t\t\tthis.handleRateChange(rate, 'Cleanliness');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tisHalf={true}\r\n\t\t\t\t\t\t\tactiveColor=\"#ff385c\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"add-review-txt\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"txt\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvalue={this.state.review.txt}\r\n\t\t\t\t\t\tplaceholder=\"Write your opinion about this stay...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button onClick={this.saveReview}> send </button>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t);\r\n\t}\r\n}\r\n","\r\nimport { Component } from 'react'\r\nimport { DateRange } from 'react-date-range';\r\n\r\nexport class PickDates extends Component {\r\n\r\n  state = {\r\n    startDate: new Date(),\r\n    endDate: new Date(),\r\n    key: 'selection',\r\n\r\n  }\r\n\r\n  handleSelect = (ranges) => {\r\n    this.setState({\r\n      startDate: ranges.selection.startDate,\r\n      endDate: ranges.selection.endDate,\r\n      key: 'selection'\r\n    }, () => { this.props.handleDates(this.state) })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <DateRange\r\n        editableDateInputs={true}\r\n        ranges={[this.state]}\r\n        moveRangeOnFirstSelection={false}\r\n        onChange={this.handleSelect}\r\n      />\r\n    )\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export const tripService = {\r\n    query,\r\n    remove,\r\n    add,\r\n    getTopCities\r\n}\r\n\r\nconst STORAGE_KEY = 'trip'\r\nwindow.tripService = tripService\r\n\r\nfunction query() {\r\n    return load(STORAGE_KEY)\r\n}\r\n\r\nfunction remove() {\r\n    return save(STORAGE_KEY, null)\r\n}\r\n\r\nfunction add(trip) {\r\n    return save(STORAGE_KEY, trip)\r\n}\r\n\r\nfunction getTopCities() {\r\n    const topCities = [\r\n        { city: 'Hong Kong', state: 'China', imgUrl: 'https://a0.muscache.com/im/pictures/be4d3ba5-08d7-4afe-95a7-f2da6453886a.jpg?im_q=medq&im_w=240' },\r\n        { city: 'Bangkok', state: 'Thailand', imgUrl: 'https://a0.muscache.com/im/pictures/7253e011-7c22-48fd-b75d-d0da35372397.jpg?im_q=medq&im_w=240' },\r\n        { city: 'London', state: 'England', imgUrl: 'https://a0.muscache.com/im/pictures/52e8083e-2de2-446d-a860-534eab250541.jpg?im_q=medq&im_w=240' },\r\n        { city: 'Paris', state: 'France', imgUrl: 'https://a0.muscache.com/im/pictures/20e74de0-0eb8-4fca-afb8-b111875acdf5.jpg?im_q=medq&im_w=240' },\r\n        { city: 'Dubai', state: 'United Arab Emirates', imgUrl: 'https://a0.muscache.com/im/pictures/e639b7ab-aee3-48ee-9743-216684a51319.jpg?im_q=medq&im_w=240' },\r\n        { city: 'New York', state: 'United States', imgUrl: 'https://a0.muscache.com/im/pictures/ca3737ef-0faf-46ba-b055-b4a2d99e2cea.jpg?im_q=medq&im_w=240' },\r\n        { city: 'Amsterdam', state: 'Netherlands', imgUrl: 'https://a0.muscache.com/im/pictures/585d1e53-e2e1-4baf-a34e-36301dd1e2da.jpg?im_q=medq&im_w=240' },\r\n        { city: 'Tel Aviv', state: 'Israel', imgUrl: 'https://a0.muscache.com/im/pictures/7c309a70-bc93-4603-8d3b-9d4cd9bf75b2.jpg?im_q=medq&im_w=240' }\r\n    ]\r\n    return topCities\r\n}\r\n\r\n\r\n// storage service\r\n\r\nfunction load(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val) ? JSON.parse(val) : null;\r\n}\r\n\r\nfunction save(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n    return val\r\n}\r\n","import { tripService } from '../services/trip-service'\r\nimport { httpService } from './http.service'\r\n\r\nexport const orderService = {\r\n    query,\r\n    remove,\r\n    add,\r\n    update,\r\n    getHostOrders,\r\n    getUserOrders\r\n}\r\n\r\nwindow.orderService = orderService\r\n\r\nasync function query(user = { id: null, type: 'all', filterBy: { num: 1, name: '' } }) {\r\n    const orders = await httpService.get(`order`, user)\r\n    return orders;\r\n}\r\n\r\nasync function add(trip, stay, loggedInUser) {\r\n    const order = {\r\n        createdAt: Date.now(),\r\n        endDate: trip.time.checkOut,\r\n        startDate: trip.time.checkIn,\r\n        guests: trip.guests,\r\n        host: stay.host,\r\n        status: 'wait for approval',\r\n        totalPrice: trip.totalPrice,\r\n        user: loggedInUser,\r\n        stay\r\n    }\r\n    tripService.remove()\r\n    return await httpService.post(`order`, order)\r\n}\r\n\r\nasync function getHostOrders(userId) {\r\n    var orders = query('order', { id: userId, type: 'host' })\r\n    orders = orders.filter(order => {\r\n        return order.host._id === userId\r\n    })\r\n    return orders\r\n}\r\n\r\nasync function getUserOrders(userId) {\r\n    var orders = query('order', { id: userId, type: 'user' })\r\n    orders = orders.filter(order => {\r\n        return order.host._id === userId\r\n    })\r\n    return orders\r\n}\r\n\r\nfunction remove(orderId) {\r\n    return httpService.delete(`order/${orderId}`)\r\n}\r\n\r\nasync function update(order) {\r\n    return await httpService.put(`order/${order._id}`, order)\r\n}\r\n","import { utilService } from './util-service';\r\nimport { httpService } from './http.service.js';\r\n\r\nexport const userService = {\r\n\tlogin,\r\n\tlogout,\r\n\tsignup,\r\n\tgetById,\r\n\tupdate,\r\n\tgetLoggedinUser\r\n};\r\n\r\nwindow.userService = userService;\r\n\r\nasync function login(userCred) {\r\n\tconst user = await httpService.post('auth/login', userCred)\r\n\tif (user) return _saveLocalUser(user)\r\n}\r\n\r\nasync function signup(userCred) {\r\n\tconst gender = Math.random() > 0.5 ? 'men' : 'women';\r\n\tuserCred.imgUrl = `https://randomuser.me/api/portraits/${gender}/${utilService.getRandomIntInclusive(0, 100)}.jpg`\r\n\tconst user = await httpService.post('auth/signup', userCred)\r\n\treturn _saveLocalUser(user);\r\n}\r\n\r\nasync function logout() {\r\n\tsessionStorage.clear();\r\n\treturn await httpService.post('auth/logout')\r\n}\r\n\r\nasync function update(user) {\r\n\tconst updatedUser = await httpService.put(`user/${user._id}`, user)\r\n\tif (getLoggedinUser()._id === updatedUser._id) _saveLocalUser(updatedUser)\r\n\treturn updatedUser\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n\treturn JSON.parse(sessionStorage.getItem('loggedinUser') || 'null')\r\n}\r\n\r\nfunction getById(userId) {\r\n\tconsole.log('getById: ', userId);\r\n\treturn httpService.get(`user/${userId}`)\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n\tsessionStorage.setItem('loggedinUser', JSON.stringify(user));\r\n\treturn user;\r\n}\r\n","import { userService } from '../../services/user-service'\r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateUser(user) {\r\n  return async dispatch => {\r\n    try {\r\n      const updatedUser = await userService.update(user)\r\n      dispatch({ type: 'UPDATE_USER', user: updatedUser })\r\n    } catch (err) {\r\n      console.log('UserActions: err in updateUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}\r\n","import io from 'socket.io-client'\r\nimport { httpService } from '../services/http.service.js'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nvar socketIsReady = false;\r\nsocketService.setup()\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n\r\n  const socketService = {\r\n    async setup() {\r\n      if (socket) return\r\n      await httpService.get('setup-session')\r\n      socket = io(baseUrl, { reconnection: false })\r\n      socketIsReady = true;\r\n    },\r\n    async on(eventName, cb) {\r\n      if (!socket) await socketService.setup()\r\n      socket.on(eventName, cb)\r\n    },\r\n    async off(eventName, cb = null) {\r\n      if (!socket) await socketService.setup()\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    async emit(eventName, data) {\r\n      if (!socket) await socketService.setup()\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n      socketIsReady = false\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n","import { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PickDates } from '../app/Dates'\r\nimport { addOrder } from '../../store/actions/orderActions'\r\nimport { login } from '../../store/actions/userActions'\r\nimport { socketService } from '../../services/socketService.js'\r\n\r\nclass _BookStay extends Component {\r\n\r\n    state = {\r\n        trip: {\r\n            guests: { adults: 0, kids: 0 },\r\n            loc: { address: '' },\r\n            time: { checkIn: '', checkOut: '' }\r\n        },\r\n        isAvailable: false,\r\n        dynamicModal: {\r\n            modalContent: '',\r\n            modalPosition: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const trip = this.props.trip || {\r\n            guests: { adults: 0, kids: 0 },\r\n            loc: { address: '' },\r\n            time: { checkIn: '', checkOut: '' }\r\n        }\r\n        this.setState({ trip, isAvailable: false })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.modalType !== this.props.modalType) {\r\n            this.openModal(this.props.modalType)\r\n        }\r\n    }\r\n\r\n    onSetModal = (event, modalKey) => {\r\n        const clickPos = { x: event.pageX, y: event.pageY }\r\n        this.setState({\r\n            dynamicModal: {\r\n                ...this.state.dynamicModal,\r\n                modalPosition: clickPos\r\n            }\r\n        }, () => { this.openModal(modalKey) })\r\n    }\r\n\r\n    handleDates = (time) => {\r\n        var inti = time.startDate.toDateString()\r\n        var endi = time.endDate.toDateString()\r\n        this.setState({ trip: { ...this.state.trip, time: { checkIn: inti, checkOut: endi } } });\r\n    }\r\n\r\n    openModal = (modalKey) => {\r\n        const dynamicModal = {}\r\n        const { x, y } = this.state.dynamicModal.modalPosition\r\n        switch (modalKey) {\r\n            case 'date':\r\n                dynamicModal.modalContent = (\r\n                    <section className=\"dynamic-modal-child book-date-modal\">\r\n                        <PickDates handleDates={this.handleDates} />\r\n                    </section>)\r\n                dynamicModal.modalPosition = { top: y + 20, left: x }\r\n                break\r\n\r\n            case 'book-guests':\r\n                const { kids, adults } = this.state.trip.guests\r\n                dynamicModal.modalContent = (\r\n                    <section className=\"book-guest-modal\">\r\n                        <div className=\"modal-label\">\r\n                            <div>\r\n                                <span>Adults</span>\r\n                                <span>Ages 13 or above</span>\r\n                            </div>\r\n                            <div>\r\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"adults\",\r\n                                            type: \"number\",\r\n                                            value: (adults - 1)\r\n                                        }\r\n                                    })\r\n                                }}>-</button>\r\n                                <span>{adults}</span>\r\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"adults\",\r\n                                            type: \"number\",\r\n                                            value: (adults + 1)\r\n                                        }\r\n                                    })\r\n                                }}>+</button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"modal-label\">\r\n                            <div>\r\n                                <span>Kids</span>\r\n                                <span>Ages 2–12</span>\r\n                            </div>\r\n                            <div>\r\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"kids\",\r\n                                            type: \"number\",\r\n                                            value: (kids - 1)\r\n                                        }\r\n                                    })\r\n                                }}>-</button>\r\n                                <span>{kids}</span>\r\n                                <button className=\"modal-btn\" type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"kids\",\r\n                                            type: \"number\",\r\n                                            value: (kids + 1)\r\n                                        }\r\n                                    })\r\n                                }}>+</button>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                )\r\n                dynamicModal.modalPosition = { top: y, left: x }\r\n                break\r\n\r\n            case '':\r\n                dynamicModal.modalContent = ''\r\n                dynamicModal.modalPosition = { top: 0, left: 0, height: 0, width: 0 }\r\n                break\r\n\r\n            default:\r\n                break\r\n        }\r\n\r\n        this.props.setModalContent(dynamicModal, modalKey)\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        if (ev.timeStamp) ev.preventDefault()\r\n        const { name, value, type } = ev.target\r\n\r\n        if (type === 'date') {\r\n            this.setState({ trip: { ...this.state.trip, time: { ...this.state.trip.time, [name]: value } } });\r\n        } else if (type === 'number') {\r\n            if (value < 0) return\r\n            const sumGuest = this.state.trip.guests.adults + this.state.trip.guests.kids;\r\n            const isLess = (this.state.trip.guests[name] < value) ? true : false\r\n            if (sumGuest === this.props.stay.capacity && isLess) return\r\n            this.setState({ trip: { ...this.state.trip, guests: { ...this.state.trip.guests, [name]: +value } } },\r\n                () => { this.openModal('book-guests') }\r\n            )\r\n        } else this.setState({ trip: { ...this.state.trip, loc: { ...this.state.trip.loc, [name]: value } } });\r\n    }\r\n\r\n    toggleAvailability = () => {\r\n        const { guests, time } = this.state.trip\r\n        if (guests.adults + guests.kids < 1) {\r\n            this.props.toggleMsgModal(<span><i className=\"fas fa-exclamation\"></i><h2>Please enter guest number</h2></span>)\r\n            return\r\n        }\r\n        if (!time.checkIn || !time.checkOut) {\r\n            this.props.toggleMsgModal(<span><i className=\"fas fa-exclamation\"></i><h2>Please enter trip dates</h2></span>)\r\n            return\r\n        }\r\n        this.setState({ isAvailable: !this.state.isAvailable }, () => { this.props.onSearch(this.state.trip) })\r\n    }\r\n\r\n    onReserveTrip = async () => {\r\n        const { trip } = this.state\r\n        const { stay, loggedInUser, login } = this.props\r\n\r\n        if (!loggedInUser) {\r\n            this.props.toggleMsgModal(\r\n                <span>\r\n                    <h2>You must log in frist</h2>\r\n                    <Link to='/login'>Login</Link>\r\n                    <button className=\"demo-user-btn\" onClick={() => { login({ username: 'mor', password: '1111' }) }}>Demo User</button>\r\n                </span>\r\n            )\r\n            return\r\n        }\r\n\r\n        trip.totalPrice = ((trip.guests.kids + trip.guests.adults) * stay.price) * this.getTripTime()\r\n        const order = await this.props.addOrder(trip, stay, loggedInUser)\r\n        socketService.emit('ORDER_OUT', order)\r\n\r\n        this.setState({\r\n            trip: {\r\n                guests: { adults: 0, kids: 0 },\r\n                loc: { address: '' },\r\n                time: { checkIn: '', checkOut: '' },\r\n            },\r\n            isAvailable: false\r\n        })\r\n        this.props.toggleMsgModal(<span><i className=\"far fa-check-circle\"></i><h3>Your order has sent to the host</h3></span>)\r\n    }\r\n\r\n    getTripTime = () => {\r\n        const diff = new Date(this.state.trip.time.checkOut).getTime() - new Date(this.state.trip.time.checkIn).getTime()\r\n        return diff / 1000 / 60 / 60 / 24\r\n    }\r\n\r\n    getCells = () => {\r\n        const cells = []\r\n        for (var i = 0; i < 100; i++) {\r\n            cells.push(<div key={Math.random()} className=\"cell\"></div>)\r\n        }\r\n        return cells\r\n    }\r\n\r\n    render() {\r\n        const { stay, getTotalRate } = this.props\r\n        const { trip, isAvailable } = this.state\r\n        const { time } = trip\r\n        const { checkIn, checkOut } = time;\r\n        const { reviews, price } = stay\r\n\r\n        return (\r\n            <section className=\"order-form-container\">\r\n                <div className=\"order-form-sticky\">\r\n                    <div className=\"order-form\">\r\n                        <div className=\"order-form-header\">\r\n                            <p><span className=\"order-price\">${(trip.guests.kids + trip.guests.adults === 0) ? price : ((trip.guests.kids + trip.guests.adults) * price).toLocaleString(\"en-US\")}</span> / night</p>\r\n                            <span className=\"stay-rate-display\"><i className=\"fas fa-star\"></i>{getTotalRate()}<p> ({reviews.length} reviews) </p></span>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"order-form-date-picker\">\r\n                                <label htmlFor=\"check-in\" className=\"check-in\">\r\n                                    <span>Check in</span>\r\n                                    <input defaultValue={checkIn} id=\"check-in\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')} />\r\n                                </label>\r\n                                <label htmlFor=\"check-out\" className=\"check-out\">\r\n                                    <span>Check out</span>\r\n                                    <input defaultValue={checkOut} id=\"check-out\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')} />\r\n                                </label>\r\n                            </div>\r\n                            <label className=\"guests-lable\" >\r\n                                <span>Guests</span>\r\n                                <input onClick={(event) => { this.onSetModal(event, 'book-guests') }} name=\"guests\" value={trip.guests.kids + trip.guests.adults} type=\"text\" placeholder=\"Add guests\" onChange={this.handleChange} />\r\n                            </label>\r\n                            <div className=\"book-stay-btn book-stay-btn-container\" onClick={!isAvailable ? this.toggleAvailability : this.onReserveTrip}>\r\n                                {this.getCells()}\r\n                                <div className=\"content\">\r\n                                    <button className=\"action-btn\">\r\n                                        <span>{!isAvailable ? 'Check availability' : 'Reserve'}</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            {isAvailable && <div className=\"book-info\">\r\n                                <h4>You won't be charged yet</h4>\r\n                                <h3><span>${price.toLocaleString(\"en-US\")} X {this.getTripTime()} night{this.getTripTime() > 1 && 's'}</span> <span>${(((trip.guests.kids + trip.guests.adults) * price) * this.getTripTime()).toLocaleString(\"en-US\")}</span></h3>\r\n                                <h3><span>Cleaning fee</span> <span>${(6 * this.getTripTime())}</span></h3>\r\n                                <h3><span>Service fee</span> <span>${(17 * this.getTripTime())}</span></h3>\r\n                                <h5><span>Total</span><span>${((this.getTripTime() * 6 * 17) + (((trip.guests.kids + trip.guests.adults) * price) * this.getTripTime())).toLocaleString('en-US')}</span></h5>\r\n                            </div>}\r\n                        </form>\r\n                    </div>\r\n                    <span className=\"report-listing-btn\"><i className=\"fab fa-font-awesome-flag\"></i><p>Report this listing</p></span>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        trip: state.tripModule.trip\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addOrder,\r\n    login\r\n}\r\n\r\nexport const BookStay = connect(mapStateToProps, mapDispatchToProps)(_BookStay)","import { orderService } from '../../services/order-service'\r\n\r\nexport function loadOrders(user) {\r\n  return async dispatch => {\r\n    try {\r\n      const orders = await orderService.query(user)\r\n      dispatch({ type: 'SET_ORDERS', orders })\r\n    } catch (err) {\r\n      console.log('OrderActions: err in loadOrders', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function addOrder(trip, stay, loggedInUser) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedOrder = await orderService.add(trip, stay, loggedInUser)\r\n      dispatch({ type: 'ADD_ORDER', order: addedOrder })\r\n      return addedOrder\r\n    } catch (err) {\r\n      console.log('OrderActions: err in addOrder', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateOrder(order) {\r\n  return async dispatch => {\r\n    try {\r\n      const updatedOrder = await orderService.update(order)\r\n      dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n    } catch (err) {\r\n      console.log('StayActions: err in update Stay', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeOrder(orderId) {\r\n  return async dispatch => {\r\n    try {\r\n      await orderService.remove(orderId)\r\n      dispatch({ type: 'REMOVE_ORDER', orderId })\r\n    } catch (err) {\r\n      console.log('OrderActions: err in removeOrder', err)\r\n    }\r\n  }\r\n}\r\n","import { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\nimport { Component } from 'react';\r\n\r\nclass _GoogleMap extends Component {\r\n\r\n    state = {\r\n        lat: -8.61308,\r\n        lng: 41.1413\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ lat: this.props.pos.lat, lng: this.props.pos.lng })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"google-map\">\r\n                <Map\r\n                    className=\"map\"\r\n                    google={this.props.google}\r\n                    zoom={14}\r\n                    initialCenter={{\r\n                        lat: this.state.lat,\r\n                        lng: this.state.lng\r\n                    }}\r\n                    center={this.state}\r\n                >\r\n                    <Marker\r\n                        position={this.state}\r\n                        name={'Current location'} />\r\n\r\n                    <InfoWindow\r\n                        visible={true}\r\n                        position={this.state}\r\n                    >\r\n                        <div>\r\n                            <h1>Your next trip is here!</h1>\r\n                        </div>\r\n                    </InfoWindow>\r\n                </Map>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport const GoogleMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyCUEnEL-D59JCymx_6jmOZ6FkBaCKTYTTI')\r\n})(_GoogleMap)","import { useState } from \"react\";\r\nimport { css } from \"@emotion/react\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  border-color: red;\r\n`;\r\n\r\nexport function Loader() {\r\n  let [loading ] = useState(true);\r\n  let [color ] = useState(\"#FF385C\");\r\n\r\n  return (\r\n    <div className=\"BeatLoader main-loader page main\">\r\n      <BeatLoader color={color} loading={loading} css={override} size={20} />\r\n    </div>\r\n  );\r\n}\r\n","import { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { stayService } from '../services/stay-service'\r\nimport { ReviewList } from '../cmps/stay-details/ReviewList'\r\nimport { AddReview } from '../cmps/stay-details/AddReview'\r\nimport { BookStay } from '../cmps/stay-details/BookStay'\r\nimport { GoogleMap } from '../cmps/stay-details/GoogleMap'\r\nimport ReactStars from 'react-rating-stars-component'\r\nimport { Loader } from '../cmps/app/Loader'\r\n\r\nexport class StayDetails extends Component {\r\n\tstate = {\r\n\t\tstay: null,\r\n\t\ttoggleWish: '',\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tthis.scrollUp();\r\n\t\tawait this.loadStay();\r\n\t\tthis.props.setHomePage('stay')\r\n\t}\r\n\r\n\tscrollUp = () => {\r\n\t\twindow.scroll({\r\n\t\t\ttop: 0,\r\n\t\t\tbehavior: 'smooth',\r\n\t\t})\r\n\t}\r\n\r\n\tsetWishList = () => {\r\n\t\tconst user = this.props.loggedInUser;\r\n\t\tif (!user.wishlist) return;\r\n\t\tconst match = user.wishlist.findIndex(\r\n\t\t\t(wishId) => wishId === this.state.stay._id\r\n\t\t)\r\n\t\tif (match !== -1) {\r\n\t\t\tthis.setState({ ...this.state, toggleWish: true });\r\n\t\t}\r\n\t}\r\n\r\n\tloadStay = async () => {\r\n\t\tconst { stayId } = this.props.match.params\r\n\t\tconst stay = await stayService.getById(stayId)\r\n\t\tthis.setState({ stay })\r\n\t\tif (this.props.loggedInUser) {\r\n\t\t\tthis.setWishList()\r\n\t\t}\r\n\t}\r\n\r\n\tsetWishList = () => {\r\n\t\tconst user = this.props.loggedInUser\r\n\t\tif (!user.wishlist) return\r\n\t\tconst match = user.wishlist.findIndex((wishId) => wishId === this.state.stay._id)\r\n\t\tif (match !== -1) {\r\n\t\t\tthis.setState({ ...this.state, toggleWish: true })\r\n\t\t}\r\n\t}\r\n\r\n\tonAddToWishList = () => {\r\n\t\tconst user = this.props.loggedInUser\r\n\t\tif (!user) {\r\n\t\t\tthis.props.toggleMsgModal(\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<h2>You must log in frist</h2>\r\n\t\t\t\t\t<Link to='/login'>Login</Link>\r\n\t\t\t\t\t<button className=\"demo-user-btn\" onClick={() => { this.props.login({ username: 'mor', password: '1111' }) }}>Demo User</button>\r\n\t\t\t\t</span>\r\n\t\t\t)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (user.wishlist) {\r\n\t\t\tconst wishId = user.wishlist.find((wish) => wish === this.state.stay._id)\r\n\t\t\tif (!wishId) {\r\n\t\t\t\tthis.setState({ ...this.state, toggleWish: true })\r\n\t\t\t\tuser.wishlist.push(this.state.stay._id)\r\n\t\t\t} else {\r\n\t\t\t\tlet idx = user.wishlist.findIndex((wishidx) => wishidx === wishId)\r\n\t\t\t\tthis.setState({ ...this.state, toggleWish: false })\r\n\t\t\t\tuser.wishlist.splice(idx, 1)\r\n\t\t\t}\r\n\t\t} else user.wishlist = [this.state.stay._id]\r\n\t\tthis.props.updateUser(user)\r\n\t}\r\n\r\n\tgetTotalRate = () => {\r\n\t\tconst rates = this.state.stay.reviews.map((review) => review.avgRate)\r\n\t\tconst sum = rates.reduce((acc, rate) => {\r\n\t\t\tacc += rate\r\n\t\t\treturn acc\r\n\t\t}, 0);\r\n\t\tif (sum === 0) return 'new'\r\n\t\treturn (sum / rates.length).toFixed(2)\r\n\t}\r\n\r\n\tgetStayReviewStatistics = () => {\r\n\t\tconst { reviews } = this.state.stay\r\n\t\tconst num = reviews.length\r\n\r\n\t\tif (!reviews) return\r\n\t\tconst reviewCtgMap = {\r\n\t\t\tCleanliness: 0,\r\n\t\t\tAccuracy: 0,\r\n\t\t\tCommunication: 0,\r\n\t\t\tLocation: 0,\r\n\t\t\t'Check-in': 0,\r\n\t\t\tAccessibility: 0,\r\n\t\t}\r\n\r\n\t\treviews.forEach((review) => {\r\n\t\t\tfor (const key in review.categories) {\r\n\t\t\t\treviewCtgMap[key] += review.categories[key]\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tfor (const ctg in reviewCtgMap) {\r\n\t\t\treviewCtgMap[ctg] = +(reviewCtgMap[ctg] / num).toFixed(2)\r\n\t\t}\r\n\r\n\t\tconst elReviews = []\r\n\t\tfor (const ctg in reviewCtgMap) {\r\n\t\t\telReviews.push(\r\n\t\t\t\t<div key={Math.random()} className=\"ctg-statistics\">\r\n\t\t\t\t\t<h3>{ctg}</h3>\r\n\t\t\t\t\t<ReactStars\r\n\t\t\t\t\t\tcount={5}\r\n\t\t\t\t\t\tvalue={reviewCtgMap[ctg]}\r\n\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\tisHalf={true}\r\n\t\t\t\t\t\tedit={false}\r\n\t\t\t\t\t\tactiveColor=\"#ff385c\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn elReviews\r\n\t}\r\n\r\n\tgetAmenityIcon(amenity) {\r\n\t\tswitch (amenity) {\r\n\t\t\tcase 'TV':\r\n\t\t\t\treturn <i className=\"fas fa-tv\"></i>\r\n\t\t\tcase 'Wifi':\r\n\t\t\t\treturn <i className=\"fas fa-wifi\"></i>\r\n\t\t\tcase 'Air conditioning':\r\n\t\t\t\treturn <i className=\"fas fa-fan\"></i>\r\n\t\t\tcase 'Smoking allowed':\r\n\t\t\t\treturn <i className=\"fas fa-smoking\"></i>\r\n\t\t\tcase 'Pets allowed':\r\n\t\t\t\treturn <i className=\"fas fa-paw\"></i>\r\n\t\t\tcase 'Cooking basics':\r\n\t\t\t\treturn <i className=\"fas fa-blender\"></i>\r\n\t\t\tdefault:\r\n\t\t\t\treturn <i className=\"fab fa-airbnb\"></i>\r\n\t\t}\r\n\t}\r\n\r\n\taddReview = (review) => {\r\n\t\tconst { stay } = this.state\r\n\t\tstay.reviews.push(review)\r\n\t\tthis.props.updateStay(stay)\r\n\t\tthis.props.toggleMsgModal(\r\n\t\t\t<span>\r\n\t\t\t\t<i className=\"far fa-check-circle\"></i>\r\n\t\t\t\t<h3>Your review has been saved</h3>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { stay } = this.state;\r\n\t\tif (!stay) return <Loader />\r\n\r\n\t\tconst {\r\n\t\t\tloggedInUser,\r\n\t\t\ttoggleMsgModal,\r\n\t\t\tonSearch,\r\n\t\t\topenDynamicModal,\r\n\t\t\tmodalType,\r\n\t\t\tsetModalContent\r\n\t\t} = this.props\r\n\r\n\t\tconst { toggleWish } = this.state\r\n\t\tconst {\r\n\t\t\tloc,\r\n\t\t\tcapacity,\r\n\t\t\tdesc,\r\n\t\t\tamenities,\r\n\t\t\tstayType,\r\n\t\t\tpropertyType,\r\n\t\t\treviews,\r\n\t\t\tname,\r\n\t\t\thost,\r\n\t\t} = stay\r\n\r\n\t\treturn (\r\n\t\t\t<main className=\"stay-details-container narrow\">\r\n\t\t\t\t<section className=\"stay-details-header\">\r\n\t\t\t\t\t<h1>{name}</h1>\r\n\t\t\t\t\t<div className=\"stay-short-info\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span className=\"stay-rate-display\">\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-star\"></i>\r\n\t\t\t\t\t\t\t\t<span>{this.getTotalRate()}</span>\r\n\t\t\t\t\t\t\t\t<p> ( {reviews.length} reviews )</p>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span>•</span>\r\n\t\t\t\t\t\t\t<p>{loc.address}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"action-btn-container\">\r\n\t\t\t\t\t\t\t<button>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-external-link-alt\"></i>share\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button onClick={this.onAddToWishList} className=\"stay-save-btn\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<i className={toggleWish ? 'fas fa-heart' : 'far fa-heart'}\t></i>\r\n\t\t\t\t\t\t\t\t\tsave\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t\t<div id=\"stay-gallery\" className=\"stay-gallery\">\r\n\t\t\t\t\t{stay.imgUrls.map((imgUrl, idx) => {\r\n\t\t\t\t\t\tif (idx < 5) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<img src={imgUrl} alt=\"stay-gallery-preview-img\" key={Math.random()} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse return ''\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<section className=\"stay-info-container\">\r\n\t\t\t\t\t<div className=\"stay-long-info\">\r\n\r\n\t\t\t\t\t\t<div className=\"stay-long-info-header\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>{`${propertyType} hosted by ${host.fullname}`}</h2>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{capacity} guests • {stayType} • {propertyType}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img src={host.imgUrl} alt=\"avatar\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"stay-feature-container\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-home\"></i>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h3>{stayType}</h3>\r\n\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\t{stayType === 'entire place'\r\n\t\t\t\t\t\t\t\t\t\t\t? \"You'll have the place to yourself.\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"You'll have a private room to yourself.\"}\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-book-open\"></i>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h3>House rules</h3>\r\n\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\tThis place isn’t suitable for children under 12 and the host\r\n\t\t\t\t\t\t\t\t\t\tdoesn’t allow pets.\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-medal\"></i>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h3>{host.fullname} is a Superhost</h3>\r\n\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\tSuperhosts are experienced, highly rated hosts who are\r\n\t\t\t\t\t\t\t\t\t\tcommitted to providing great stays for guests.\r\n\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-bookmark\"></i>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h3>Wifi</h3>\r\n\t\t\t\t\t\t\t\t\t<h4>Guests often search for this popular amenity</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"description\">\r\n\t\t\t\t\t\t\t<h2>Description</h2>\r\n\t\t\t\t\t\t\t<span>{desc}</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div id=\"amenities\" className=\"amenities-list\">\r\n\t\t\t\t\t\t\t<h2>Amenities</h2>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t{amenities.map((amenity) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<li key={Math.random()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{this.getAmenityIcon(amenity)}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{amenity}</span>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<BookStay\r\n\t\t\t\t\t\tstay={stay}\r\n\t\t\t\t\t\tgetTotalRate={this.getTotalRate}\r\n\t\t\t\t\t\tonSearch={onSearch}\r\n\t\t\t\t\t\tloggedInUser={loggedInUser}\r\n\t\t\t\t\t\ttoggleMsgModal={toggleMsgModal}\r\n\t\t\t\t\t\topenDynamicModal={openDynamicModal}\r\n\t\t\t\t\t\tmodalType={modalType}\r\n\t\t\t\t\t\tsetModalContent={setModalContent}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"stay-review-container\">\r\n\t\t\t\t\t<div className=\"stay-review-header\">\r\n\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t<span className=\"stay-rate-display\">\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-star\"></i>\r\n\t\t\t\t\t\t\t\t{this.getTotalRate()} <p> ({reviews.length} reviews)</p>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<div className=\"stay-review-ststistics\">\r\n\t\t\t\t\t\t\t{this.getStayReviewStatistics().map((elCtgRate) => elCtgRate)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ReviewList reviews={reviews} />\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"stay-review\">\r\n\t\t\t\t\t<AddReview loggedInUser={loggedInUser} addReview={this.addReview} />\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"stay-details-map\">\r\n\t\t\t\t\t<h2>Location</h2>\r\n\t\t\t\t\t<h3>{loc.address}</h3>\r\n\t\t\t\t\t<GoogleMap pos={loc} />\r\n\t\t\t\t</section>\r\n\t\t\t</main>\r\n\t\t)\r\n\t}\r\n}\r\n","export default __webpack_public_path__ + \"static/media/user-lock.b5a4d298.PNG\";","export default __webpack_public_path__ + \"static/media/user-card.45d2a01a.PNG\";","import { Component } from \"react\";\r\nimport { userService } from \"../services/user-service\";\r\nimport Lock from '../assets/img/user-lock.PNG'\r\nimport Card from '../assets/img/user-card.PNG'\r\n\r\n\r\nexport class UserDetails extends Component {\r\n\r\n  state = {\r\n    user: \"\",\r\n    isEditMode: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadUser()\r\n    this.props.setFooterDisplay(false)\r\n    this.props.setHomePage('user')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setFooterDisplay(true)\r\n  }\r\n\r\n  loadUser = async () => {\r\n    let sessionUser = sessionStorage.getItem('loggedinUser')\r\n    sessionUser = JSON.parse(sessionUser)\r\n    const user = await userService.getById(sessionUser._id)\r\n    this.setState({ user })\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name } = target\r\n    const { value } = target\r\n    this.setState({ user: { ...this.state.user, [name]: value } })\r\n  }\r\n\r\n  onUpdateUser = () => {\r\n    this.props.updateUser(this.state.user)\r\n    this.toggleEditMode()\r\n  }\r\n\r\n  toggleEditMode = () => {\r\n    this.setState({ isEditMode: !this.state.isEditMode })\r\n  }\r\n\r\n  render() {\r\n    const currUser = this.state.user\r\n\r\n    if (!currUser) return <h1>loading...</h1>\r\n    const { fullname, username, email, imgUrl } = currUser\r\n    const isEditMode = this.state.isEditMode\r\n\r\n    return (\r\n\r\n      <main className=\"user-details main page\">\r\n        <h1>Personal info</h1>\r\n\r\n        <section className=\"main-user-details\">\r\n          {!isEditMode &&\r\n            <div className=\"user-details-info\">\r\n              <div className=\"user-info-header\">\r\n                <img src={imgUrl} alt=\"avatar\" />\r\n                <span>\r\n                  <h4>{'Hello ' + fullname}</h4>\r\n                  <p>It's nice to have you with us</p>\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <h4>full name</h4>\r\n                <p> {fullname}</p>\r\n              </div>\r\n              <div>\r\n                <h4>username</h4>\r\n                <p>{username}</p>\r\n              </div>\r\n              <div>\r\n                <h4>email</h4>\r\n                <p>{email}</p>\r\n              </div>\r\n              <button onClick={this.toggleEditMode}>Edit</button>\r\n            </div>}\r\n\r\n          {isEditMode &&\r\n            <div className=\"user-details-info user-edit\" >\r\n\r\n              <div className=\"user-info-header\">\r\n                <img src={imgUrl} alt=\"avatar\" />\r\n                <span>\r\n                  <h4>{'Hello ' + fullname}</h4>\r\n                  <p>It's nice to have you with us</p>\r\n                </span>\r\n              </div>\r\n\r\n              <div>\r\n                <h4>full name</h4>\r\n                <p><input type=\"text\" name=\"fullname\" autoComplete=\"off\" onChange={this.handleChange} value={fullname} /></p>\r\n              </div>\r\n\r\n              <div>\r\n                <h4>username</h4>\r\n                <p><input type=\"text\" name=\"username\" autoComplete=\"off\" onChange={this.handleChange} value={username} /></p>\r\n              </div>\r\n\r\n              <div>\r\n                <h4>email</h4>\r\n                <p><input type=\"text\" name=\"email\" autoComplete=\"off\" onChange={this.handleChange} value={email} /></p>\r\n              </div>\r\n              <button onClick={this.onUpdateUser}>save</button>\r\n            </div>}\r\n\r\n          <section className=\"general-info-container\">\r\n            <div>\r\n              <img src={Lock} alt=\"lock\" />\r\n              <h3>Which details can be edited?</h3>\r\n              <p>Details Airbnb uses to verify your identity can’t be changed. Contact info and some personal details can be edited, but we may ask you verify your identity the next time you book or create a listing.</p>\r\n            </div>\r\n            <div>\r\n              <img src={Card} alt=\"card\" />\r\n              <h3>What info is shared with others?</h3>\r\n              <p>Airbnb only releases contact information for hosts and guests after a reservation is confirmed.</p>\r\n            </div>\r\n          </section>\r\n        </section>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Slider from \"react-slick\";\r\n\r\nexport function StayGallery({ stay }) {\r\n    var settings = {\r\n        dots: false,\r\n        infinite: true,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n    };\r\n    return (\r\n        <Slider {...settings} className=\"stay-preview-slider\">\r\n            <div>\r\n                <img src={stay.imgUrls[0]} alt=\"\" />\r\n            </div>\r\n            <div>\r\n                <img src={stay.imgUrls[1]} alt=\"\" />\r\n            </div>\r\n            <div>\r\n                <img src={stay.imgUrls[2]} alt=\"\" />\r\n            </div>\r\n            <div>\r\n                <img src={stay.imgUrls[3]} alt=\"\" />\r\n            </div>\r\n        </Slider>\r\n    );\r\n}\r\n\r\n\r\n","import { Link } from 'react-router-dom'\r\nimport { StayGallery } from '../explore/StayGallery'\r\n\r\nexport function StayPreview({ stay, loggedInUser, updateUser, toggleMsgModal, login, trip, addTrip, stayType, loadWishlist }) {\r\n\r\n    const getTotalRate = () => {\r\n        const rates = stay.reviews.map(review => review.avgRate)\r\n        const sum = rates.reduce((acc, rate) => {\r\n            acc += rate\r\n            return acc\r\n        }, 0)\r\n        if (sum === 0) return 'new'\r\n        return (sum / rates.length).toFixed(1)\r\n    }\r\n\r\n    function toggleWish(stayId) {\r\n        if (!loggedInUser) {\r\n            toggleMsgModal(<span><h2>You must log in frist</h2><Link to='/login'>Login</Link><button className=\"demo-user-btn\" onClick={() => { login({ username: 'mor', password: '1111' }) }}>Demo User</button></span>)\r\n            return false\r\n        }\r\n        if (!loggedInUser.wishlist) loggedInUser.wishlist = [stayId]\r\n        else {\r\n            let match = loggedInUser.wishlist.findIndex((wishId) => wishId === stayId)\r\n            if (match !== -1) {\r\n                loggedInUser.wishlist.splice(match, 1)\r\n            }\r\n            else loggedInUser.wishlist.push(stayId)\r\n        }\r\n        updateUser(loggedInUser)\r\n        if (stayType === 'wish') loadWishlist(loggedInUser)\r\n    }\r\n\r\n    function checkIsWish(stayId) {\r\n        if (!loggedInUser || !loggedInUser.wishlist) return false\r\n        const match = loggedInUser.wishlist.find((wishId) => wishId === stayId)\r\n        if (match) return true\r\n        return false\r\n    }\r\n\r\n    function onSelectStay() {\r\n        var updatedTrip = trip\r\n        updatedTrip.stay = stay\r\n        addTrip(updatedTrip)\r\n    }\r\n\r\n    return (\r\n        <section className=\"stay-preview-container\" >\r\n            <Link to={`/stay/${stay._id}`} onClick={onSelectStay} className=\"stay-preview-link\">\r\n                <StayGallery stay={stay} />\r\n                <div className=\"stay-preview-info\">\r\n                    <span className=\"stay-preview-rate\">\r\n                        <i className=\"fas fa-star\"></i>\r\n                        <p>{getTotalRate()}</p>\r\n                        <p>( {stay.reviews.length} )</p>\r\n                    </span>\r\n                    <h3>\r\n                        <span>{stay.propertyType}</span>\r\n                                     •\r\n                        <span>{stay.loc.address.substring(0, stay.loc.address.indexOf(','))}</span>\r\n                    </h3>\r\n                    <h3>{stay.name}</h3>\r\n                    <h3 className=\"stay-price\"><span >${stay.price}</span> / night</h3>\r\n                </div>\r\n            </Link>\r\n            <button className=\"stay-preview-save-btn\" onClick={() => { toggleWish(stay._id) }} >\r\n                {!checkIsWish(stay._id) ? <i className=\"fas fa-heart off\"></i> : <i className=\"fas fa-heart\"></i>}\r\n            </button>\r\n        </section>\r\n    )\r\n}","import { StayPreview } from '../explore/StayPreview'\r\n\r\nexport function StayList({ stays, loggedInUser, updateUser, toggleMsgModal, login, trip,addTrip ,loadWishlist ,stayType}) {\r\n\r\n    return (\r\n        <section className=\"stay-list\">\r\n            {stays.map(stay => <StayPreview key={Math.random()} updateUser={updateUser} loggedInUser={loggedInUser} stay={stay} toggleMsgModal={toggleMsgModal} stayType={stayType} login={login} trip={trip} addTrip={addTrip} loadWishlist={loadWishlist}/>)}\r\n        </section>\r\n    )\r\n}","import { Component } from \"react\";\r\n\r\nexport class StayFilter extends Component {\r\n\r\n    state = {\r\n\r\n        dynamicModal: {\r\n            modalContent: '',\r\n            modalPosition: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.resetFilter()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.modalType !== this.props.modalType) {\r\n            this.openModal(this.props.modalType)\r\n        }\r\n    }\r\n\r\n    onSetModal = (event, modalKey) => {\r\n        const { x, y } = event.target.getBoundingClientRect()\r\n        const clickPos = { x, y: y+30 }\r\n        this.setState({\r\n            dynamicModal: {\r\n                ...this.state.dynamicModal,\r\n                modalPosition: clickPos\r\n            }\r\n        }, () => { this.openModal(modalKey) })\r\n    }\r\n\r\n    resetFilter = () => {\r\n        this.setState({\r\n            stayFilterBy: {\r\n                placeType: '',\r\n                propertyType: '',\r\n                price: 250,\r\n                amenities: {\r\n                    TV: false,\r\n                    Wifi: false,\r\n                    \"Air conditioning\": false,\r\n                    \"Smoking allowed\": false,\r\n                    \"Pets allowed\": false,\r\n                    \"Cooking basics\": false\r\n                }\r\n            }\r\n        }, () => { this.props.onfilterStays(this.state.stayFilterBy) })\r\n    }\r\n\r\n    handleChange = (key, val, isAmenities = false) => {\r\n        if (isAmenities) {\r\n            this.setState({ stayFilterBy: { ...this.state.stayFilterBy, amenities: { ...this.state.stayFilterBy.amenities, [key]: val } } }, () => {\r\n                this.openModal('amenities')\r\n                this.props.onfilterStays(this.state.stayFilterBy)\r\n            })\r\n\r\n        } else {\r\n            this.setState({ stayFilterBy: { ...this.state.stayFilterBy, [key]: val } }, () => {\r\n                if (key === 'price') this.openModal('price')\r\n                this.props.onfilterStays(this.state.stayFilterBy)\r\n            })\r\n        }\r\n    }\r\n\r\n    openModal = (modalKey) => {\r\n        const { price, amenities } = this.state.stayFilterBy\r\n        const dynamicModal = {}\r\n        const { x, y } = this.state.dynamicModal.modalPosition\r\n\r\n        switch (modalKey) {\r\n            case 'placeType':\r\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\r\n                    <div className=\"modal-label\">\r\n                        <div onClick={() => this.handleChange('placeType', 'entire place')}>\r\n                            <h4>Entire place</h4>\r\n                            <h5>You'll have the place to yourself</h5>\r\n                        </div>\r\n                        <div onClick={() => this.handleChange('placeType', 'private room')}>\r\n                            <h4>Private room</h4>\r\n                            <h5>You'll have a private room to yourself</h5>\r\n                        </div>\r\n                    </div>\r\n                </section>)\r\n                dynamicModal.modalPosition = { top: y, left: x }\r\n                break;\r\n            case 'propertyType':\r\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\r\n                    <div className=\"modal-label\">\r\n                        <div onClick={() => this.handleChange('propertyType', 'loft')}>\r\n                            <span>Loft</span>\r\n                        </div>\r\n                        <div onClick={() => this.handleChange('propertyType', 'studio')}>\r\n                            <span>Studio</span>\r\n                        </div>\r\n                        <div onClick={() => this.handleChange('propertyType', 'penthouse')}>\r\n                            <span>Penthouse</span>\r\n                        </div>\r\n                        <div onClick={() => this.handleChange('propertyType', 'appartment')}>\r\n                            <span>Appartment</span>\r\n                        </div>\r\n                        <div onClick={() => this.handleChange('propertyType', 'hotel')}>\r\n                            <span>Hotel</span>\r\n                        </div>\r\n                        <div onClick={() => this.handleChange('propertyType', 'villa')}>\r\n                            <span>villa</span>\r\n                        </div>\r\n                    </div>\r\n                </section>)\r\n                dynamicModal.modalPosition = { top: y, left: x }\r\n                break;\r\n            case 'price':\r\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\r\n                    <div className=\"modal-label\">\r\n                        <div className=\"price\">\r\n                            <button className=\"modal-btn\" type={\"button\"} onClick={() => { this.handleChange('price', (price - 10)) }}>-</button>\r\n                            <span>{price}</span>\r\n                            <button className=\"modal-btn\" type={\"button\"} onClick={() => { this.handleChange('price', (price + 10)) }}>+</button>\r\n                        </div>\r\n                    </div>\r\n                </section >)\r\n                dynamicModal.modalPosition = { top: y, left: x }\r\n                break;\r\n\r\n            case 'amenities':\r\n                dynamicModal.modalContent = (<section className=\"stay-filter-modal\">\r\n                    <div className=\"modal-label amenities\">\r\n                        <div className={amenities.TV ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('TV', !amenities.TV, true)} >\r\n                            <span >TV</span>\r\n                        </div>\r\n                        <div className={amenities.Wifi ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Wifi', !amenities.Wifi, true)}>\r\n                            <span>Wifi</span>\r\n                        </div>\r\n                        <div className={amenities[\"Air conditioning\"] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Air conditioning', !amenities[\"Air conditioning\"], true)}>\r\n                            <span>AC</span>\r\n                        </div >\r\n                        <div className={amenities['Smoking allowed'] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Smoking allowed', !amenities['Smoking allowed'], true)}>\r\n                            <span>Smoking allowed</span>\r\n                        </div>\r\n                        <div className={amenities['Pets allowed'] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Pets allowed', !amenities['Pets allowed'], true)}>\r\n                            <span>Pets allowed</span>\r\n                        </div>\r\n                        <div className={amenities['Cooking basics'] ? 'clicked' : 'unclicked'} onClick={() => this.handleChange('Cooking basics', !amenities['Cooking basics'], true)}>\r\n                            <span>Cooking basics</span>\r\n                        </div>\r\n                    </div>\r\n                </section>)\r\n                dynamicModal.modalPosition = { top: y, left: x }\r\n                break;\r\n            case '':\r\n                dynamicModal.modalContent = ''\r\n                dynamicModal.modalPosition = { top: 0, left: 0, height: 0, width: 0 }\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        this.props.setModalContent(dynamicModal, modalKey)\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <section className=\"stay-filter\">\r\n                <button onClick={(event) => { this.onSetModal(event, 'placeType') }} >Type of place</button>\r\n                <button onClick={(event) => { this.onSetModal(event, 'propertyType') }} >Property type</button>\r\n                <button onClick={(event) => { this.onSetModal(event, 'price') }}>Price</button>\r\n                <button onClick={(event) => { this.onSetModal(event, 'amenities') }} >Amenities</button>\r\n                <button onClick={this.resetFilter} >Clear</button>\r\n            </section>\r\n        )\r\n    }\r\n}","import { StayList } from '../cmps/explore/StayList'\r\nimport { StayFilter } from '../cmps/explore/StayFilter'\r\nimport { Component } from 'react'\r\nimport { Loader } from '../cmps/app/Loader'\r\n\r\nexport class Explore extends Component {\r\n\r\n  state = {\r\n    stays: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ stays: this.props.stays })\r\n    this.props.setHomePage('explore')\r\n    this.scrollUp()\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.stays !== this.props.stays) {\r\n      this.setState({ stays: this.props.stays });\r\n    }\r\n  }\r\n\r\n  onfilterStays = (filterBy) => {\r\n    var stays = filterStays(this.props.stays, filterBy)\r\n    this.setState({ stays })\r\n  }\r\n\r\n  scrollUp = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { trip, loggedInUser, updateUser, openDynamicModal, closeDynamicModal, setModalContent, toggleMsgModal, login, addTrip } = this.props\r\n    const { stays } = this.state\r\n    if (!stays) return <Loader />\r\n    return (\r\n      <main className=\"explore-container main page\">\r\n        <span>{stays.length} stays</span>\r\n        {trip.loc.address === \"\" && <h1>Find place to stay {trip && trip.loc && trip.loc.address && `in ${trip.loc.address}`}</h1>}\r\n        {trip.loc.address !== \"\" && <h1>Stays {trip && trip.loc && trip.loc.address && `in ${trip.loc.address}`}</h1>}\r\n        <StayFilter openDynamicModal={openDynamicModal} closeDynamicModal={closeDynamicModal} setModalContent={setModalContent} onfilterStays={this.onfilterStays} />\r\n        <StayList stays={stays} stayType={'explor'} updateUser={updateUser} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} login={login} trip={trip} addTrip={addTrip} />\r\n      </main>\r\n    )\r\n  }\r\n}\r\n\r\nfunction filterStays(stays, filterBy) {\r\n  let filteredStays = [];\r\n  stays.forEach(stay => {\r\n    if (_isTypePlace(stay, filterBy.placeType) && _isPropertyType(stay, filterBy.propertyType)\r\n      && _isPrice(stay, filterBy.price) && _isAmenities(stay, filterBy.amenities)) {\r\n      (Math.random() < 0.5) ? filteredStays.unshift(stay) : filteredStays.push(stay);\r\n    }\r\n  })\r\n  return filteredStays\r\n}\r\n\r\nfunction _isTypePlace(stay, filter) {\r\n  return (filter === '' || stay.stayType === filter) ? true : false\r\n}\r\nfunction _isPropertyType(stay, filter) {\r\n  return (filter === '' || stay.propertyType === filter) ? true : false\r\n}\r\nfunction _isPrice(stay, filter) {\r\n  return (stay.price <= filter) ? true : false\r\n}\r\nfunction _isAmenities(stay, filter) {\r\n  var _isAmenities = true;\r\n  for (const key in filter) {\r\n    if (filter[key] === true && !stay.amenities.find(amenity => amenity === key)) _isAmenities = false\r\n  }\r\n  return _isAmenities\r\n}","import { StayList } from '../cmps/explore/StayList'\r\nimport { Component } from 'react'\r\n\r\nexport class Wishlist extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.loadWishlist(this.props.loggedInUser)\r\n    this.props.setHomePage('wishlist')\r\n  }\r\n\r\n  scrollUp = () => {\r\n    window.scroll({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { stays, loggedInUser, toggleMsgModal, login, updateUser, trip, addTrip, loadWishlist } = this.props\r\n    this.scrollUp()\r\n\r\n    return (\r\n      <main className=\"explore-container wishlist main page\">\r\n        <span>{stays.length} stays</span>\r\n        <h1>Wishlist</h1>\r\n        <StayList stays={stays} stayType={'wish'} updateUser={updateUser} toggleMsgModal={toggleMsgModal} loggedInUser={loggedInUser} login={login} trip={trip} addTrip={addTrip} loadWishlist={loadWishlist} />\r\n\r\n      </main>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Loader } from '../cmps/app/Loader';\r\nimport { socketService } from '../services/socketService.js'\r\n\r\nimport {\r\n\tloadUsers,\r\n\tremoveUser,\r\n\tlogin,\r\n\tlogout,\r\n\tsignup,\r\n} from '../store/actions/userActions';\r\n\r\nclass _LoginSignup extends Component {\r\n\tstate = {\r\n\t\tmsg: '',\r\n\t\tloginCred: {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t},\r\n\t\tsignupCred: {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tfullname: '',\r\n\t\t\temail: '',\r\n\t\t},\r\n\t\tformType: 'login',\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.setFooterDisplay(false)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.setFooterDisplay(true)\r\n\t}\r\n\r\n\tloginHandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\tloginCred: {\r\n\t\t\t\t...prevState.loginCred,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t}));\r\n\t};\r\n\r\n\tsignupHandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\tsignupCred: {\r\n\t\t\t\t...prevState.signupCred,\r\n\t\t\t\t[name]: value,\r\n\t\t\t},\r\n\t\t}));\r\n\t};\r\n\r\n\tdoLogin = async (ev) => {\r\n\t\tev.preventDefault();\r\n\t\tconst { username, password } = this.state.loginCred;\r\n\t\tif (!username) {\r\n\t\t\treturn this.setState({ msg: 'Please enter user/password' });\r\n\t\t}\r\n\t\tconst userCreds = { username, password };\r\n\t\ttry {\r\n\t\t\tawait this.props.login(userCreds);\r\n\t\t\tif (this.props.loggedInUser) {\r\n\t\t\t\tsocketService.emit('LOGIN', this.props.loggedInUser)\r\n\t\t\t}\r\n\t\t\tthis.setState({ loginCred: { username: '', password: '' } }, this.props.history.go(-1)\r\n\t\t\t)\r\n\t\t} catch (err) {\r\n\t\t\tthis.setState({ msg: 'Login failed, try again.' });\r\n\t\t}\r\n\t};\r\n\r\n\tdoSignup = async (ev) => {\r\n\t\tev.preventDefault();\r\n\t\tconst { username, password, fullname, email } = this.state.signupCred;\r\n\t\tif (!username || !password || !fullname || !email) {\r\n\t\t\treturn this.setState({ msg: 'All inputs are required' });\r\n\t\t}\r\n\t\tconst signupCreds = { username, password, fullname, email };\r\n\t\tawait this.props.signup(signupCreds);\r\n\t\tif (this.props.loggedInUser) {\r\n\t\t\tsocketService.emit('LOGIN', this.props.loggedInUser)\r\n\t\t}\r\n\t\tthis.setState(\r\n\t\t\t{ signupCred: { username: '', password: '', fullname: '', email: '' } },\r\n\t\t\tthis.props.history.go(-1)\r\n\t\t);\r\n\t};\r\n\r\n\tremoveUser = (userId) => {\r\n\t\tthis.props.removeUser(userId);\r\n\t};\r\n\r\n\ttoggleFormType = () => {\r\n\t\tconst currForm = this.state.formType;\r\n\t\tconst nextForm = currForm === 'login' ? 'signup' : 'login';\r\n\t\tthis.setState({ formType: nextForm });\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet signupSection = (\r\n\t\t\t<form className=\"login-form\" onSubmit={this.doSignup}>\r\n\t\t\t\t<div className=\"login-form-header\">\r\n\t\t\t\t\t<h2>Sign Up</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"login-form-body\">\r\n\t\t\t\t\t<h1>Welcome to Home and go</h1>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"fullname\"\r\n\t\t\t\t\t\tvalue={this.state.signupCred.fullname}\r\n\t\t\t\t\t\tonChange={this.signupHandleChange}\r\n\t\t\t\t\t\tplaceholder=\"Full name\"\r\n\t\t\t\t\t\tautoComplete=\"fullname\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={this.state.signupCred.password}\r\n\t\t\t\t\t\tonChange={this.signupHandleChange}\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tvalue={this.state.signupCred.username}\r\n\t\t\t\t\t\tonChange={this.signupHandleChange}\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\tautoComplete=\"username\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={this.state.signupCred.email}\r\n\t\t\t\t\t\tonChange={this.signupHandleChange}\r\n\t\t\t\t\t\tplaceholder=\"email\"\r\n\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button className=\"login-btn\" type=\"submit\">\r\n\t\t\t\t\t\tsign up\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div className=\"login-actions-btn\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"toggle-form-btn\"\r\n\t\t\t\t\t\t\tonClick={this.toggleFormType}>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\tI already have an account\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t)\r\n\t\tlet loginSection = (\r\n\t\t\t<form className=\"login-form\" onSubmit={this.doLogin}>\r\n\t\t\t\t<div className=\"login-form-header\">\r\n\r\n\t\t\t\t\t<h2>Log in</h2>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"login-form-body\">\r\n\r\n\t\t\t\t\t<h1>Welcome back </h1>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tvalue={this.state.loginCred.username}\r\n\t\t\t\t\t\tonChange={this.loginHandleChange}\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tvalue={this.state.loginCred.password}\r\n\t\t\t\t\t\tonChange={this.loginHandleChange}\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"submit\" className=\"login-btn\">\r\n\t\t\t\t\t\tsubmit\r\n\t\t\t\t</button>\r\n\t\t\t\t\t<div className=\"login-actions-btn\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"toggle-form-btn\"\r\n\t\t\t\t\t\t\tonClick={this.toggleFormType}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tNew user?\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"forgot-password-btn\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\talert('Tough Luck');\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tForgot Password?\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t)\r\n\r\n\t\tconst { loggedInUser } = this.props;\r\n\t\tconst { formType } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<main className=\"login-container main page\">\r\n\t\t\t\t<p>{this.state.msg}</p>\r\n\t\t\t\t{loggedInUser && <button onClick={this.props.logout}>logged out</button>}\r\n\r\n\t\t\t\t<section className=\"login-forms-container\">\r\n\t\t\t\t\t{!loggedInUser && formType === 'login' && loginSection}\r\n\t\t\t\t\t{!loggedInUser && formType === 'signup' && signupSection}\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t{loggedInUser && loggedInUser.isAdmin && (\r\n\t\t\t\t\t<section className=\"admin\">\r\n\t\t\t\t\t\t<details>\r\n\t\t\t\t\t\t\t<summary>Admin</summary>\r\n\t\t\t\t\t\t\t<button onClick={this.props.loadUsers}>Refresh Users</button>\r\n\t\t\t\t\t\t\t{this.props.isLoading && <Loader />}\r\n\t\t\t\t\t\t\t{this.props.users && (\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t{this.props.users.map((user) => (\r\n\t\t\t\t\t\t\t\t\t\t<li key={Math.random()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(user, null, 2)}</pre>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.removeUser(user._id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRemove {user.username}\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</details>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t)}\r\n\t\t\t</main>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: state.userModule.users,\r\n\t\tloggedInUser: state.userModule.loggedInUser,\r\n\t\tisLoading: state.systemModule.isLoading,\r\n\t};\r\n};\r\nconst mapDispatchToProps = {\r\n\tlogin,\r\n\tlogout,\r\n\tsignup,\r\n\tremoveUser,\r\n\tloadUsers,\r\n};\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup);\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport function FilterGallery({ stays ,addTrip}) {\r\n\r\n    function onSelectStay(stay) {\r\n        addTrip({ guests: { adults: 1, kids: 0 }, loc: { address: '' }, time: { checkIn: '', checkOut: '' }, stay })\r\n    }\r\n    \r\n    return (\r\n        <section className=\"filter-gallery\">\r\n            {stays.map((stay, idx) => {\r\n                if (idx < 4) {\r\n                    return (\r\n                        <Link to={`/stay/${stay._id}`} key={Math.random()} onClick={() => onSelectStay(stay)}>\r\n                            <div className=\"gallery-preview-img\">\r\n                                <img src={`${stay.imgUrls[0]}`} alt={stay.name} />\r\n                            </div>\r\n                            <h3>{stay.name}</h3>\r\n                        </Link>\r\n                    )\r\n                }\r\n                else return ''\r\n            })}\r\n        </section>\r\n    )\r\n}\r\n","import { Link } from 'react-router-dom'\r\n\r\nexport function Banner({ name, btnTxt, title, subtitle,loggedInUser }) {\r\n\r\n    return (\r\n        <section className={\"banner \" + name}>\r\n            <div>\r\n                <h1>{title}</h1>\r\n                <h2>{subtitle}</h2>\r\n                {title ==='Become a host' && <button><Link to={(loggedInUser)? `/host/${loggedInUser._id}`:\"/host\"}>{btnTxt}</Link></button>}\r\n                {title !=='Become a host' && <button>{btnTxt}</button>}\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { Link } from \"react-router-dom\";\r\n\r\n\r\nexport function Hero({ loadStays,addTrip }) {\r\n\r\n    async function explorAll() {\r\n        const trip = {\r\n            guests: { adults: 1, kids: 0 },\r\n            loc: { address: '' },\r\n            time: { checkIn: '', checkOut: '' }\r\n        }\r\n        await addTrip(trip)\r\n        loadStays()\r\n    }\r\n\r\n    return (\r\n        <section className=\"main-hero full\">\r\n            <div>\r\n                <h1>Discover stays to live, work, or just relax.</h1>\r\n                <button onClick={explorAll}><Link to=\"/explore\">Explore now</Link></button>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\n\r\nexport function FilterCities({ onSearch }) {\r\n\r\n    function onSelectTopCity(city) {\r\n        const trip = {\r\n            guests: { adults: 1, kids: 0 },\r\n            loc: { address: city },\r\n            time: { checkIn: '', checkOut: '' }\r\n        }\r\n        onSearch(trip)\r\n    }\r\n\r\n    return (\r\n        <main className=\"top-cities-gallery\">\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Hong Kong') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/be4d3ba5-08d7-4afe-95a7-f2da6453886a.jpg?im_q=medq&im_w=240\" alt=\"TopCities\" />\r\n                <div className=\"city-details-container\">\r\n                    <h3>Hong Kong</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>China</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Bangkok') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/7253e011-7c22-48fd-b75d-d0da35372397.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\r\n                <div className=\"city-details-container\">\r\n                    <h3>Bangkok</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>Thailand</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('London') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/52e8083e-2de2-446d-a860-534eab250541.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\r\n                <div className=\"city-details-container\">\r\n                    <h3>London</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>England</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Paris') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/20e74de0-0eb8-4fca-afb8-b111875acdf5.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\r\n                <div className=\"city-details-container\">\r\n                    <h3>Paris</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>France</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Dubai') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/e639b7ab-aee3-48ee-9743-216684a51319.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\r\n                <div className=\"city-details-container\">\r\n                    <h3>Dubai</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>United Arab Emirates</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('New York') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/ca3737ef-0faf-46ba-b055-b4a2d99e2cea.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\r\n                <div className=\"city-details-container\">\r\n                    <h3>New York</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>United States</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Amsterdam') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/585d1e53-e2e1-4baf-a34e-36301dd1e2da.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\r\n                <div className=\"city-details-container\">\r\n                    <h3>Amsterdam</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>Netherlands</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/explore\" onClick={() => { onSelectTopCity('Tel Aviv') }} className=\"top-cities-card\">\r\n                <img src=\"https://a0.muscache.com/im/pictures/7c309a70-bc93-4603-8d3b-9d4cd9bf75b2.jpg?im_q=medq&im_w=240\" alt=\"TopCities\"/>\r\n                <div className=\"city-details-container\">\r\n                    <h3>Tel Aviv</h3>\r\n                    <div className=\"city-details\">\r\n                        <h4>Israel</h4>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </main>\r\n    )\r\n}","import { FilterGallery } from '../cmps/home/FilterGallery'\r\nimport { Banner } from '../cmps/home/Banner'\r\nimport { Hero } from '../cmps/home/Hero'\r\nimport { FilterCities } from '../cmps/home/FilterCities'\r\nimport { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport class Home extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.setHomePage('home')\r\n    this.scrollUp()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setHomePage('')\r\n  }\r\n\r\n  scrollUp = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    })\r\n  }\r\n\r\n  explorAll = async () => {\r\n    const trip = {\r\n      guests: { adults: 1, kids: 0 },\r\n      loc: { address: '' },\r\n      time: { checkIn: '', checkOut: '' }\r\n    }\r\n    await this.props.addTrip(trip)\r\n    this.props.loadStays()\r\n  }\r\n\r\n  render() {\r\n    const { loggedInUser, onSearch, topRatedStays, nearbayStays, loadStays, addTrip } = this.props\r\n\r\n    return (\r\n      <main className=\"home-page main\">\r\n        <Hero loadStays={loadStays} addTrip={addTrip} />\r\n        <h1>Popular destinations</h1>\r\n        <FilterCities onSearch={onSearch} />\r\n        <div className=\"filter-gallery-header\">\r\n          <h1>Explore nearby</h1>\r\n          <Link to=\"/explore\" onClick={this.explorAll}>Show more</Link>\r\n        </div>\r\n        <FilterGallery stays={nearbayStays} addTrip={addTrip} />\r\n        <Banner name={'banner-top'} btnTxt={'Get inspired'} title={'The Gearest Outdoors'} subtitle={'Wishlists curated by Airbnb.'} />\r\n        <div className=\"filter-gallery-header\">\r\n          <h1>Top Rated</h1>\r\n          <Link to=\"/explore\" onClick={this.explorAll}>Show more</Link>\r\n        </div>\r\n        <FilterGallery stays={topRatedStays} addTrip={addTrip} />\r\n        <Banner name={'banner-bottom'} btnTxt={'Learn more'} title={'Become a host'} subtitle={'earn extra income and unlock new opportunities by sharing your space.'} loggedInUser={loggedInUser} />\r\n      </main>\r\n    )\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\nimport { Link } from 'react-router-dom'\r\nimport { stayService } from '../../services/stay-service'\r\nimport { tripService } from '../../services/trip-service'\r\nimport { PickDates } from './Dates'\r\n\r\n\r\nexport class MainFilter extends Component {\r\n\r\n    state = {\r\n        trip: {\r\n            guests: { adults: 1, kids: 0 },\r\n            loc: { address: '', stay: null },\r\n            time: { checkIn: '', checkOut: '' }\r\n        },\r\n        topRatedStays: [],\r\n        dynamicModal: {\r\n            modalContent: '',\r\n            modalPosition: { top: 0, left: 0, height: 0 }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadRated()\r\n        this.loadTrip()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.trip !== this.props.trip) {\r\n            this.loadTrip()\r\n        }\r\n\r\n        if (prevProps.modalType !== this.props.modalType) {\r\n            this.openModal(this.props.modalType)\r\n        }\r\n    }\r\n\r\n    onSetModal = (event, modalKey) => {\r\n        const clickPos = { x: event.pageX, y: event.pageY }\r\n        this.setState({\r\n            dynamicModal: {\r\n                ...this.state.dynamicModal,\r\n                modalPosition: clickPos\r\n            }\r\n        }, () => { this.openModal(modalKey) })\r\n    }\r\n\r\n    handleDates = (time) => {\r\n        var inti = time.startDate.toDateString()\r\n        var endi = time.endDate.toDateString()\r\n        this.setState({ trip: { ...this.state.trip, time: { checkIn: inti, checkOut: endi } } });\r\n    }\r\n\r\n    openModal = (modalKey) => {\r\n        const dynamicModal = {}\r\n        const { x, y } = this.state.dynamicModal.modalPosition\r\n\r\n\r\n        switch (modalKey) {\r\n            case 'date':\r\n                dynamicModal.modalContent = (\r\n                    <section className=\"dynamic-modal-child book-date-modal\">\r\n                        <PickDates handleDates={this.handleDates} />\r\n                    </section>)\r\n                dynamicModal.modalPosition = { top: y + 35, left: x }\r\n                break;\r\n\r\n            case 'loc':\r\n                dynamicModal.modalContent = (\r\n                    <section className=\"dynamic-modal-child filter-loc-modal\">\r\n                        {tripService.getTopCities().map(city => {\r\n                            return (\r\n                                <div onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"address\",\r\n                                            type: \"search\",\r\n                                            value: `${city.city}`\r\n                                        }\r\n                                    })\r\n                                }} key={Math.random()} className=\"modal-label\">\r\n                                    <img src={city.imgUrl} alt=\"city\" />\r\n                                    <div>\r\n                                        <span>{city.city}</span>\r\n                                        <span>{city.state}</span>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </section>)\r\n                dynamicModal.modalPosition = { top: y + 35, left: x }\r\n                break;\r\n\r\n            case 'guests':\r\n                const { kids, adults } = this.state.trip.guests;\r\n                dynamicModal.modalContent = (\r\n                    <section className=\"dynamic-modal-child filter-guest-modal\">\r\n                        <div className=\"modal-label\">\r\n                            <div>\r\n                                <span>Adults</span>\r\n                                <span>Ages 13 or above</span>\r\n                            </div>\r\n                            <div>\r\n                                <button type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"adults\",\r\n                                            type: \"number\",\r\n                                            value: (adults - 1)\r\n                                        }\r\n                                    })\r\n                                }}>-\r\n                                </button>\r\n                                <span>{adults}</span>\r\n                                <button type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"adults\",\r\n                                            type: \"number\",\r\n                                            value: (adults + 1)\r\n                                        }\r\n                                    })\r\n                                }}>+\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"modal-label\">\r\n                            <div>\r\n                                <span>Kids</span>\r\n                                <span>Ages 2–12</span>\r\n                            </div>\r\n                            <div>\r\n                                <button type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"kids\",\r\n                                            type: \"number\",\r\n                                            value: (kids - 1)\r\n                                        }\r\n                                    })\r\n                                }}>-\r\n                                </button>\r\n                                <span>{kids}</span>\r\n                                <button type={\"button\"} onClick={() => {\r\n                                    this.handleChange({\r\n                                        target: {\r\n                                            name: \"kids\",\r\n                                            type: \"number\",\r\n                                            value: (kids + 1)\r\n                                        }\r\n                                    })\r\n                                }}>+\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </section>)\r\n                dynamicModal.modalPosition = { top: y + 35, left: x }\r\n                break;\r\n\r\n            case '':\r\n                dynamicModal.modalContent = ''\r\n                dynamicModal.modalPosition = { top: 0, left: 0, height: 0 }\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        this.props.setModalContent(dynamicModal, modalKey)\r\n    }\r\n\r\n    loadTrip = () => {\r\n        var trip = this.props.trip\r\n        if (!trip) trip = {\r\n            guests: { adults: 1, kids: 0 },\r\n            loc: { address: '', stay: null },\r\n            time: { checkIn: '', checkOut: '' }\r\n        }\r\n        this.setState({ trip })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        if (ev.timeStamp) ev.preventDefault()\r\n        const { name, value, type } = ev.target\r\n\r\n        if (type === 'date') {\r\n            this.setState({ trip: { ...this.state.trip, time: { ...this.state.trip.time, [name]: value } } });\r\n        }\r\n\r\n        else if (type === 'number') {\r\n            if (value < 0) return\r\n            this.setState({ trip: { ...this.state.trip, guests: { ...this.state.trip.guests, [name]: +value } } }, () => { this.openModal('guests') });\r\n        }\r\n\r\n        else this.setState({ trip: { ...this.state.trip, loc: { ...this.state.trip.loc, [name]: value } } });\r\n    }\r\n\r\n    onSearch = (ev) => {\r\n        ev.preventDefault();\r\n        this.props.onSearch(this.state.trip)\r\n        this.onSetModal(ev, '')\r\n    }\r\n\r\n    loadRated = async () => {\r\n        const topRated = await stayService.getTopRatedStays();\r\n        this.setState({ topRatedStays: topRated })\r\n    }\r\n\r\n    handle=() => {\r\n        return\r\n    }\r\n\r\n    render() {\r\n        const { isFullHeader, openFullHeader } = this.props\r\n        const { loc, time, guests } = this.state.trip\r\n        const { address } = loc;\r\n        const { checkIn, checkOut } = time;\r\n        const { kids, adults } = guests;\r\n\r\n\r\n        return (\r\n            <section className=\"main-filter-container\">\r\n                <form className={isFullHeader ? \"max-filter\" : \"filter-close\"}>\r\n\r\n                    <label>\r\n                        <span>Location</span>\r\n                        <input onClick={(event) => this.onSetModal(event, 'loc')} name=\"address\" value={address} autoComplete=\"off\" id=\"location\" type=\"search\" placeholder=\"Where are you going?\" onChange={this.handleChange} />\r\n                    </label>\r\n                    <label htmlFor=\"check-in\">\r\n                        <span>Check in</span>\r\n                        <input value={checkIn} id=\"check-in\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')}  onChange={this.handle}/>\r\n                    </label>\r\n                    <label htmlFor=\"check-out\">\r\n                        <span>Check out</span>\r\n                        <input value={checkOut} id=\"check-out\" autoComplete=\"off\" placeholder=\"Add dates\" onClick={(event) => this.onSetModal(event, 'date')} onChange={this.handle} />\r\n                    </label>\r\n                    <label className=\"guests\" htmlFor=\"guests\">\r\n                        <div>\r\n                            <span>Guests</span>\r\n                            <input onClick={(event) => { this.onSetModal(event, 'guests') }} value={kids + adults + '  guests'} id=\"guests\" name=\"guests\" placeholder=\"Add guests\" onChange={this.handle} />\r\n                        </div>\r\n                    </label>\r\n\r\n                    <button onClick={this.onSearch}>\r\n                        <Link to=\"/explore\"><i className=\"fas fa-search\"></i></Link>\r\n                    </button>\r\n\r\n                </form>\r\n                <form className={!isFullHeader ? \"min-filter\" : \"filter-close\"} onClick={openFullHeader} >\r\n                    <span>{address ? address : 'Start your search'}</span>\r\n                    <button onClick={this.onSearch}>\r\n                        <Link to=\"/explore\"><i className=\"fas fa-search\"></i> </Link>\r\n                    </button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}","import { Link } from 'react-router-dom';\r\n\r\nexport function NavMenu({ logout, toggleUserMenu, loggedInUser, modalPosition , isNewNotif}) {\r\n\r\n        return (\r\n                <section className=\"user-menu\" style={{ top: modalPosition.y + 40, left: modalPosition.x }} onClick={toggleUserMenu}>\r\n\r\n                        {!loggedInUser && <div>\r\n\r\n                                <div>\r\n                                        <Link to=\"/login\">log in</Link>\r\n                                </div>\r\n\r\n                                <div>\r\n                                        <Link to=\"/host\">Host your home</Link>\r\n                                        <Link to=\"/about\">about</Link>\r\n                                        <Link to=\"/help\">help</Link>\r\n                                </div>\r\n                        </div>}\r\n\r\n                        {loggedInUser && <div>\r\n\r\n                                <div>\r\n                                        <Link to=\"/\">Messages</Link>\r\n                                        {!isNewNotif && <Link className=\"notif\" to=\"/notif\">Notifications</Link>}\r\n                                        {isNewNotif && <Link className=\"notif\" to=\"/notif\"><p>Notifications</p><div className=\"notif-circle\"></div></Link>}\r\n                                        <Link to=\"/orders\">Trips</Link>\r\n                                        <Link to=\"/wishlist\">wish list</Link>\r\n                                        {loggedInUser.isHost && <Link to={`/host/${loggedInUser._id}`}>Dashboard</Link>}\r\n                                        {!loggedInUser.isHost && <Link to=\"/host\">Host your home</Link>}\r\n                                </div>\r\n\r\n                                <div>\r\n                                        <Link to=\"/user\">account</Link>\r\n                                        <Link to=\"/help\">help</Link>\r\n                                        <Link to=\"/\"> <button onClick={() => { logout() }}>logout</button> </Link>\r\n                                </div>\r\n                        </div>}\r\n                </section>\r\n        )\r\n}\r\n","import React from 'react'\r\nimport { NavLink, Link } from 'react-router-dom'\r\nimport { MainFilter } from './app/MainFilter'\r\nimport Avatar from \"../assets/img/avatar.png\"\r\nimport { NavMenu } from './app/NavMenu'\r\n\r\n\r\n\r\nexport class Header extends React.Component {\r\n\r\n    state = {\r\n        isFullHeader: true,\r\n        isWindowTop: true,\r\n        isHomePage: false,\r\n        modalPosition: { x: 0, y: 0 },\r\n        isNarrow: false,\r\n        isDetailsHeader: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setCurrPage()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.currPage !== this.props.currPage) this.setCurrPage()\r\n    }\r\n\r\n    setCurrPage() {\r\n        if (this.props.currPage === 'home') {\r\n            window.addEventListener('scroll', this.getScrollPos, true)\r\n            window.removeEventListener('scroll', this.openDetailsHeader, true)\r\n            this.setState({ isHomePage: true, isFullHeader: true, isWindowTop: true, isNarrow: false, isDetailsHeader: false })\r\n        }\r\n        else if (this.props.currPage === 'stay') {\r\n            window.addEventListener('scroll', this.openDetailsHeader, true)\r\n            window.removeEventListener('scroll', this.getScrollPos, true)\r\n            this.setState({ isHomePage: false, isFullHeader: false, isWindowTop: false, isNarrow: true })\r\n        }\r\n        else {\r\n            window.removeEventListener('scroll', this.getScrollPos, true)\r\n            window.removeEventListener('scroll', this.openDetailsHeader, true)\r\n            this.setState({ isHomePage: false, isFullHeader: false, isWindowTop: false, isNarrow: false, isDetailsHeader: false })\r\n        }\r\n    }\r\n\r\n    openDetailsHeader = () => {\r\n        const detailsHeaderPos = (window.scrollY)\r\n        if (detailsHeaderPos > 1500) {\r\n            this.setState({ isDetailsHeader: true })\r\n        } else {\r\n            this.setState({ isDetailsHeader: false })\r\n        }\r\n    }\r\n\r\n    explorAll = async () => {\r\n        const trip = {\r\n            guests: { adults: 1, kids: 0 },\r\n            loc: { address: '' },\r\n            time: { checkIn: '', checkOut: '' }\r\n        }\r\n        await this.props.addTrip(trip)\r\n        this.props.loadStays()\r\n    }\r\n\r\n    toggleUserMenu = (event) => {\r\n        const clickPos = event.target.getBoundingClientRect()\r\n        this.setState({ modalPosition: clickPos })\r\n        this.props.openDynamicModal('user-menu', event)\r\n    }\r\n\r\n    closeFullHeader = (ev) => {\r\n        if (ev.target.closest(\".main-filter-container\")) return\r\n        if (ev.target.closest(\".dynamic-modal-child\")) return\r\n        this.setState({ isFullHeader: false }, () => { window.removeEventListener('click', this.closeFullHeader, true) })\r\n    }\r\n\r\n    openFullHeader = () => {\r\n        this.setState({ isFullHeader: true }, () => { window.addEventListener('click', this.closeFullHeader, true) })\r\n    }\r\n\r\n    getScrollPos = () => {\r\n        const isWindowTop = (window.scrollY)\r\n        if (isWindowTop < 100) {\r\n            this.setState({ isWindowTop: true, isFullHeader: true })\r\n        } else {\r\n            this.setState({ isWindowTop: false, isFullHeader: false })\r\n        }\r\n    }\r\n\r\n    scrollTo = (top) => {\r\n        window.scrollTo({ top, left: 0, behavior: 'smooth' })\r\n    }\r\n\r\n    getAvgRate = (stay) => {\r\n        const rates = stay.reviews.map((review) => review.avgRate);\r\n        const sum = rates.reduce((acc, rate) => {\r\n            acc += rate;\r\n            return acc;\r\n        }, 0);\r\n        if (sum === 0) return 'new';\r\n        return (sum / rates.length).toFixed(1);\r\n    };\r\n\r\n    render() {\r\n        const { onSearch, loggedInUser, logout, trip, openDynamicModal, modalType, setModalContent, isNewNotif } = this.props\r\n        const { isFullHeader, isWindowTop, modalPosition, isNarrow, isDetailsHeader } = this.state\r\n        const imgUrl = (loggedInUser) ? loggedInUser.imgUrl : Avatar\r\n\r\n        return (\r\n            <header className={`main-header ${isFullHeader && 'full-header'} ${isWindowTop && 'full-header top'} ${isNarrow ? 'narrow-header' : 'wide-header'} ${isDetailsHeader && 'details-header'}`}>\r\n                <section className=\"details-header-nav\">\r\n                    <div className=\"details-nav\">\r\n                        <span onClick={() => { this.scrollTo(0) }}>Photos</span>\r\n                        <span onClick={() => { this.scrollTo(1210) }}>Amenities</span>\r\n                        <span onClick={() => { this.scrollTo(1580) }}>Reviews</span>\r\n                        <span onClick={() => { this.scrollTo(2100) }}>Location</span>\r\n                    </div>\r\n\r\n                    <div className=\"book-stay-mini\">\r\n                        <div>\r\n                            <h3><span>$ {(trip && trip.stay && trip.stay.price) ? trip.stay.price.toLocaleString(\"en-US\") : 0}</span> / night</h3>\r\n                            <h4><i className=\"fas fa-star\"></i>{(trip && trip.stay && trip.stay.reviews) ? this.getAvgRate(trip.stay) : ''} <span>( {(trip && trip.stay && trip.stay.reviews) ? trip.stay.reviews.length + ' reviews' : 'new'} )</span></h4>\r\n                        </div>\r\n                         <section className=\"book-stay-btn-container\" onClick={() => { this.scrollTo(650) }}>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"cell\"></div>\r\n                                <div className=\"content\">\r\n                                    <button className=\"square\">\r\n                                        <p>Check availability</p>\r\n                                    </button>\r\n                                </div>\r\n                            </section>\r\n                    </div>\r\n                </section>\r\n                <section >\r\n                    <NavLink className=\"logo-link\" to=\"/\"><h1 className=\"logo\">Home<i className=\"fab fa-airbnb\"></i>Go</h1></NavLink>\r\n                    <NavLink className=\"mini-logo-link\" to=\"/\"><i className=\"fab fa-airbnb\" /></NavLink>\r\n                    <nav>\r\n                        <Link to={(loggedInUser) ? `/host/${loggedInUser._id}` : \"/host\"}>Become a host</Link>\r\n                        <NavLink to=\"/explore\" onClick={this.explorAll}>Explore</NavLink>\r\n                        <button onClick={this.toggleUserMenu} className=\"user-menu-btn\">\r\n                            <span><i className=\"fas fa-bars\"></i></span>\r\n                            <img src={imgUrl} alt=\"avatar\" />\r\n                            {isNewNotif && <div className=\"notif-circle\"></div>}\r\n                        </button>\r\n                    </nav>\r\n                    {modalType === 'user-menu' && <NavMenu logout={logout} loggedInUser={loggedInUser} toggleUserMenu={this.toggleUserMenu} modalPosition={modalPosition} isNewNotif={isNewNotif}/>}\r\n                </section>\r\n                <MainFilter trip={trip} modalType={modalType} onSearch={onSearch} openDynamicModal={openDynamicModal} isFullHeader={isFullHeader} openFullHeader={this.openFullHeader} toggleFullHeader={this.toggleFullHeader} setModalContent={setModalContent} />\r\n            </header>\r\n        )\r\n    }\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport { tripService } from '../../services/trip-service'\r\n\r\nexport function FooterLinks({ onSearch, topRatedStays, nearbayStays }) {\r\n\r\n    function onSelectLink(address) {\r\n        const trip = {\r\n            guests: { adults: 1, kids: 0 },\r\n            loc: { address },\r\n            time: { checkIn: '', checkOut: '' }\r\n        }\r\n        onSearch(trip)\r\n        window.scroll({\r\n            top: 0\r\n        })\r\n    }\r\n\r\n    const topCities = tripService.getTopCities()\r\n\r\n    return (\r\n        <section className=\"footer-links-container\">\r\n            <h3>Inspiration for future getaways</h3>\r\n            <div>\r\n                <div>\r\n                    <h4>Top Rated</h4>\r\n                    {topRatedStays.map((stay) => {\r\n                        return <Link key={Math.random()} to={`/stay/${stay._id}`} ><span>{stay.name}</span><span>{stay.loc.address}</span></Link>\r\n                    })}\r\n                </div>\r\n                <div>\r\n                    <h4>Nearby</h4>\r\n                    {nearbayStays.map((stay) => {\r\n                        return <Link key={Math.random()} to={`/stay/${stay._id}`} ><span>{stay.name}</span><span>{stay.loc.address}</span></Link>\r\n                    })}\r\n                </div>\r\n                <div>\r\n                    <h4>Cities</h4>\r\n                    {topCities.map((city) => {\r\n                        return <Link key={Math.random()} to=\"/explore\" onClick={() => { onSelectLink(`${city.city}`) }}><span>{city.city}</span><span>{city.state}</span></Link>\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n    )\r\n}","import { Link } from \"react-router-dom\";\r\nimport { FooterLinks } from './app/FooterLinks'\r\n\r\nexport function Footer({ onSearch, topRatedStays, nearbayStays }) {\r\n    return (\r\n        <footer className=\"main-footer full\">\r\n\r\n            <section>\r\n                <FooterLinks onSearch={onSearch} topRatedStays={topRatedStays} nearbayStays={nearbayStays} />\r\n\r\n                <section className=\"footer-nav-container\">\r\n                    <div >\r\n                        <p>© 2021 Home & Go, <span>Inc.</span></p>\r\n                        <span>·</span>\r\n                        <Link to=\"/about\">About</Link>\r\n                        <span>·</span>\r\n                        <Link to=\"/login\">Login</Link>\r\n                        <span>·</span>\r\n                        <Link to=\"/host\">Become a host</Link>\r\n                    </div>\r\n                    <div>\r\n                        <p>\r\n                            <i className=\"fas fa-globe\"></i>\r\n                            <span>English (US)</span>\r\n                            <span>$ US</span>\r\n                        </p>\r\n                        <p>\r\n                            <i className=\"fab fa-facebook-f\"></i>\r\n                            <i className=\"fab fa-twitter\"></i>\r\n                            <i className=\"fab fa-instagram\"></i>\r\n                        </p>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n        </footer>\r\n    )\r\n}","\r\nexport function DashSideNav ({onSelectAction}){\r\n\r\n    return (\r\n        <div className=\"dash-nav-container\">\r\n            <button className=\"add-stay-btn\" value=\"add stay\" onClick={onSelectAction}><i className=\"fas fa-plus\"></i>Add Stay</button>\r\n            <button value=\"my Stays\" onClick={onSelectAction}><i className=\"fas fa-house-user\"></i>My Stays</button>\r\n            <button value=\"orders\" onClick={onSelectAction}><i className=\"fas fa-clipboard-list\"></i>Orders</button>\r\n            <button value=\"rate stat\" onClick={onSelectAction}><i className=\"fas fa-star\"></i>Rates</button>\r\n        </div>\r\n    )\r\n}","\r\nexport function DashHeader({ stays, orders, orderChangeStatus }) {\r\n\r\n    function getTotalAvgRate() {\r\n        var totalRate = 0;\r\n        stays.forEach(stay => {\r\n            const rates = stay.reviews.map((review) => review.avgRate);\r\n            var stayAvgRate = rates.reduce((a, b) => a + b, 0)\r\n            totalRate += (stayAvgRate / rates.length)\r\n        })\r\n        var RateToDisplay = (totalRate / stays.length) ? (totalRate / stays.length).toFixed(1) : 0\r\n    \r\n        return RateToDisplay\r\n    };\r\n\r\n    function getSumByOrderStatus(status) {\r\n        var sum = 0;\r\n        orders.forEach(order => {\r\n            if (order.status === status) sum++\r\n        })\r\n        return sum\r\n    }\r\n\r\n    function getActiveGuests() {\r\n        const activeUsers = []\r\n        const now = new Date(Date.now())\r\n        orders.forEach(order => {\r\n            const checkIn = new Date(order.startDate)\r\n            const checkOut = new Date(order.endDate)\r\n            if (checkIn < now && checkOut > now) activeUsers.push(order)\r\n        })\r\n        return activeUsers\r\n    }\r\n\r\n    function getMonthlyEarning() {\r\n        var totalEarning = 0;\r\n        const currMonth = new Date(Date.now()).getMonth() + 1\r\n        const currYear = new Date(Date.now()).getFullYear()\r\n\r\n        orders.forEach(order => {\r\n            const orderMonth = new Date(order.startDate).getMonth() + 1\r\n            const orderYear = new Date(order.startDate).getFullYear()\r\n            if (currMonth === orderMonth && currYear === orderYear) {\r\n                totalEarning += order.totalPrice\r\n            }\r\n        })\r\n        return totalEarning.toLocaleString('en-US')\r\n    }\r\n\r\n    return (\r\n        <section className=\"dash-header\">\r\n            <div>\r\n                <h3>Total Rate</h3>\r\n                <div>\r\n                    <span><i className=\"fas fa-star\"></i>{getTotalAvgRate()}</span>\r\n                    <p>{orderChangeStatus}%<i className=\"fas fa-long-arrow-alt-up\"></i></p>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <h3>monthly earning</h3>\r\n                <div>\r\n                    <span>$ {getMonthlyEarning()}</span>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <h3>Orders</h3>\r\n                <div>\r\n                    <span>{orders.length}</span>\r\n                    <div className=\"circle-container\">\r\n                        <div>\r\n                            <span title=\"pending\" className=\"circle circle-yellow\"></span>\r\n                            <p>{getSumByOrderStatus('wait for approval')}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span title=\"approved\" className=\"circle circle-green\"></span>\r\n                            <p>{getSumByOrderStatus('approved')}</p>\r\n                        </div>\r\n                        <div>\r\n                            <span title=\"decline\" className=\"circle circle-red\"></span>\r\n                            <p>{getSumByOrderStatus('declined')}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <h3>Active Guests</h3>\r\n                    <span>{getActiveGuests().length}</span>\r\n                </div>\r\n                <div>\r\n                    {getActiveGuests().map(order => {\r\n                        return (<img src={order.user.imgUrl} alt=\"guest\" key={Math.random()}/>)\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\n\r\nexport function HostStayPreview({ stay, onSelectedEditStay }) {\r\n\r\n    return (\r\n        <div className=\"host-stay-preview\">\r\n            <span><img src={stay.imgUrls[0]} alt=\"stay\" /></span>\r\n            <span><Link to={`/stay/${stay._id}`}>{stay.name}</Link></span>\r\n            <span><Link to={`/stay/${stay._id}`}>{stay.loc.address}</Link></span>\r\n            <span><Link to={`/stay/${stay._id}`}>$ {stay.price}</Link></span>\r\n            <span className=\"stay-actions\">\r\n                <button onClick={() => onSelectedEditStay(stay)} ><i className=\"far fa-edit\"></i>Edit</button>\r\n            </span>\r\n        </div>\r\n    )\r\n}","\r\nimport { HostStayPreview } from './HostStayPreview'\r\n\r\nexport function HostStayList({ stays, onSelectedEditStay, onSelectAction }) {\r\n    return (\r\n        <section className=\"host-stay-list\">\r\n            <div className=\"host-stay-list-table\">\r\n                <div className=\"thead\">\r\n                    <div>\r\n                        <span>{''}</span>\r\n                        <span>Name</span>\r\n                        <span>Address</span>\r\n                        <span>Price</span>\r\n                        <span className=\"stay-actions\" >Actions</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"tbody\">\r\n                {!stays.length && <h1 className=\"empty-msg\">No Stays to show yet, you can add new stay on the <button value='add stay' onClick={onSelectAction}>Add Stay </button> tab</h1>}\r\n                  {(stays.length > 0) && stays.map(stay => {\r\n                        return (\r\n                            <HostStayPreview\r\n                                key={Math.random()}\r\n                                stay={stay}\r\n                                onSelectedEditStay={onSelectedEditStay}\r\n                            />\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { HostStayList } from './HostStayList'\r\nimport {Loader} from '../app/Loader'\r\n\r\nexport function MyStays({ stays, onSelectedEditStay,  onSelectAction }) {\r\n\r\n    if (!stays) return <Loader/>\r\n    return (\r\n        <section className=\"host-stay-container\">\r\n            <HostStayList stays={stays} onSelectedEditStay={onSelectedEditStay} onSelectAction={onSelectAction} />\r\n        </section>\r\n    )\r\n}\r\n","\r\nexport function HostStaysMenu({ stays, updateSelectedStay }) {\r\n    return (\r\n        <section className=\"host-rate-card\">\r\n            {stays.map(stay => {\r\n                return (\r\n                    <label key={Math.random()} onClick={() => { updateSelectedStay(stay) }}>\r\n                        <img src={stay.imgUrls[0]} alt=\"stay-preview\" />\r\n                        <div>\r\n                            <h4>{stay.name}</h4>\r\n                            <h6>{`${stay.loc.address}`}</h6>\r\n                            <h6>{`${stay.capacity} Guests`}</h6>\r\n                        </div>\r\n                    </label>\r\n                )\r\n            })}\r\n        </section>\r\n    )\r\n}","import { Doughnut } from 'react-chartjs-2';\r\n\r\nexport function RatePieChart({ stay }) {\r\n\r\n    function getRateData() {\r\n        var chartData = stay.reviews.reduce((acc, review) => {\r\n            acc[Math.round(review.avgRate) - 1]++\r\n            return acc\r\n        }, [0, 0, 0, 0, 0])\r\n        return chartData;\r\n    }\r\n\r\n    const data = {\r\n        labels: ['1 Star', '2 Star', '3 Star', '4 Star', '5 Star'],\r\n        datasets: [\r\n            {\r\n                label: '# of Votes',\r\n                data: getRateData(),\r\n                backgroundColor: [\r\n                    'rgba(255, 61, 61, 0.5)',\r\n                    'rgba(255, 163, 59, 0.5)',\r\n                    'rgba(252, 255, 71, 0.5)',\r\n                    'rgba(184, 255, 103, 0.5)',\r\n                    'rgba(66, 245, 110, 0.5)'\r\n                ],\r\n                borderColor: [\r\n                    'rgba(255, 61, 61, 0.8)',\r\n                    'rgba(255, 163, 59, 0.8)',\r\n                    'rgba(252, 255, 71, 0.8)',\r\n                    'rgba(184, 255, 103, 0.5)',\r\n                    'rgba(66, 245, 110, 0.8)'\r\n                ],\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n        \r\n    };\r\n\r\n    return (\r\n        <div className=\"rate-chart\" >\r\n            <Doughnut data={data} />\r\n        </div>\r\n    )\r\n}","import { Component } from 'react'\r\nimport { HostStaysMenu } from './HostStaysMenu'\r\nimport { RatePieChart } from '../dashboard/RatePieChart'\r\n\r\nexport class RateStatistic extends Component {\r\n\r\n    state = {\r\n        stay: null\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setState({stay: this.props.stays[0]})\r\n    }\r\n\r\n    updateSelectedStay = (stay) => {\r\n        this.setState({ stay })\r\n    }\r\n\r\n    render() {\r\n        const { stays } = this.props\r\n        const { stay } = this.state\r\n        return (\r\n            <section className=\"dash-rate-statistics-container\">\r\n                <div className=\"dash-rate-statistics\">\r\n                    <HostStaysMenu stays={stays} updateSelectedStay={this.updateSelectedStay} />\r\n                    {stay && <div className=\"chart-container\">\r\n                        <h3>{stay.name}</h3>\r\n                        <RatePieChart stay={stay} />\r\n                    </div>}\r\n                </div>\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n","import { stayService } from '../../services/stay-service'\r\n\r\nexport function loadStays(trip = { guests: { adults: 1, kids: 0 }, loc: { address: '' }, time: { checkIn: '', checkOut: '' } }) {\r\n  return async dispatch => {\r\n    try {\r\n      const stays = await stayService.query(trip)\r\n      dispatch({ type: 'SET_STAYS', stays })\r\n    } catch (err) {\r\n      console.log('StayActions: err in loadStays', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function addStay(stay) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedStay = await stayService.add(stay)\r\n      dispatch({ type: 'ADD_STAY', stay: addedStay })\r\n    } catch (err) {\r\n      console.log('StayActions: err in addStay', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateStay(stay) {\r\n  return async dispatch => {\r\n    try {\r\n      const updatedStay = await stayService.update(stay)\r\n      dispatch({ type: 'UPDATE_STAY', stay: updatedStay })\r\n    } catch (err) {\r\n      console.log('StayActions: err in update Stay', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeStay(stayId) {\r\n  return async dispatch => {\r\n    try {\r\n      await stayService.remove(stayId)\r\n      dispatch({ type: 'REMOVE_STAY', stayId })\r\n    } catch (err) {\r\n      console.log('StayActions: err in removeStay', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function loadHostStays(hostId) {\r\n  return async dispatch => {\r\n    try {\r\n      const stays = await stayService.getHostStays(hostId)\r\n      dispatch({ type: 'SET_HOST_STAYS', stays })\r\n    } catch (err) {\r\n      console.log('StayActions: err in loadHostStays', err)\r\n    }\r\n  }\r\n}\r\nexport function loadWishlist(user) {\r\n  return async dispatch => {\r\n    try {\r\n      const stays = await stayService.getUserWishlist(user)\r\n      dispatch({ type: 'SET_WISH_STAYS', stays })\r\n    } catch (err) {\r\n      console.log('StayActions: err in loadWishlist', err)\r\n    }\r\n  }\r\n}","export const cloudinaryService = {\r\n  uploadImg\r\n}\r\n\r\nfunction uploadImg(ev) {\r\n  const CLOUD_NAME = 'home-to-go'\r\n  const PRESET_NAME = 'aui0olgm'\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n  const formData = new FormData();\r\n  formData.append('file', ev.target.files[0])\r\n  formData.append('upload_preset', PRESET_NAME);\r\n\r\n  return fetch(UPLOAD_URL, {\r\n    method: 'POST',\r\n    body: formData\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      return res\r\n    })\r\n    .catch(err => console.error(err))\r\n}\r\n","import { Component } from 'react'\r\nimport { cloudinaryService } from '../services/cloudinary-service'\r\n\r\nexport class Upload extends Component {\r\n  state = {\r\n    imgUrl: null,\r\n    height: 60,\r\n    width: 60,\r\n    isUploading: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { userImgUrl } = this.props\r\n    if (userImgUrl) this.setState({ imgUrl: userImgUrl })\r\n  }\r\n\r\n  uploadImg = async (ev) => {\r\n    this.setState({ isUploading: true })\r\n    const { secure_url, height, width } = await cloudinaryService.uploadImg(ev)\r\n    this.setState({ isUploading: false, imgUrl: secure_url, height, width }, () => { this.props.onUploadImg(this.state,this.props.position) })\r\n  }\r\n  get uploadMsg() {\r\n    const { imgUrl, isUploading } = this.state\r\n    if (imgUrl) return 'Upload Another?'\r\n    return isUploading ? 'Uploading....' : 'Upload Image'\r\n  }\r\n  render() {\r\n    \r\n    const { imgUrl } = this.state\r\n    const previewStyle = {\r\n      backgroundImage: `url(${imgUrl})`,\r\n\r\n    }\r\n    return (\r\n      <div className=\"upload-preview\" style={previewStyle} >\r\n        <label className=\"img-upload-label\" htmlFor=\"imgUpload\">{this.uploadMsg}\r\n          <input type=\"file\" onChange={this.uploadImg} accept=\"img/*\" className=\"img-upload-btn\" id=\"imgUpload\" />\r\n        </label>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { stayService } from '../../services/stay-service';\r\nimport { addStay, updateStay } from '../../store/actions/stayActions';\r\nimport { Upload } from '../Upload';\r\n\r\nclass _StayEdit extends Component {\r\n\tstate = {\r\n\t\tstay: {\r\n\t\t\tname: '',\r\n\t\t\timgUrls: [],\r\n\t\t\tprice: '',\r\n\t\t\tdesc: '',\r\n\t\t\tcapacity: '',\r\n\t\t\tamenities: {\r\n\t\t\t\tTV: true,\r\n\t\t\t\tWifi: false,\r\n\t\t\t\t'Air conditioning': false,\r\n\t\t\t\t'Smoking allowed': false,\r\n\t\t\t\t'Pets allowed': false,\r\n\t\t\t\t'Cooking basics': false,\r\n\t\t\t},\r\n\t\t\tstayType: 'entire place',\r\n\t\t\tpropertyType: 'appartment',\r\n\t\t\thost: {\r\n\t\t\t\t_id: this.props.loggedInUser._id,\r\n\t\t\t\tfullname: this.props.loggedInUser.fullname,\r\n\t\t\t\timgUrl: this.props.loggedInUser.imgUrl,\r\n\t\t\t},\r\n\t\t\tloc: {\r\n\t\t\t\tcountry: '',\r\n\t\t\t\tcountryCode: '',\r\n\t\t\t\taddress: '',\r\n\t\t\t\tlat: 0,\r\n\t\t\t\tlng: 0,\r\n\t\t\t},\r\n\t\t\treviews: [],\r\n\t\t},\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.stayEdit) {\r\n\t\t\tconst currAmenities = {};\r\n\t\t\tthis.props.stayEdit.amenities.forEach((amenitie) => {\r\n\t\t\t\tcurrAmenities[amenitie] = true;\r\n\t\t\t});\r\n\t\t\tthis.setState({\r\n\t\t\t\tstay: {\r\n\t\t\t\t\t...this.props.stayEdit,\r\n\t\t\t\t\tamenities: currAmenities,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.loadStay();\r\n\t\t}\r\n\t}\r\n\r\n\tloadStay() {\r\n\t\tif (!this.props.match || !this.props.match.params) return;\r\n\t\tconst { stayId } = this.props.match.params;\r\n\t\tif (stayId) {\r\n\t\t\tstayService.getById(stayId).then((stay) => {\r\n\t\t\t\tthis.setState({ stay });\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonRemoveStays = async (ev, stayId) => {\r\n\t\tev.target.value = 'my Stays';\r\n\t\tawait this.props.removeStay(stayId)\r\n\t\tthis.props.toggleMsgModal(<span><i className=\"far fa-check-circle\"></i><h3>Your stay has been deleted</h3></span>)\r\n\t\tthis.props.onSelectAction(ev);\r\n\t}\r\n\r\n\tonUploadImg = (imgState, position) => {\r\n\t\tconst imgUrls = this.state.stay.imgUrls;\r\n\t\timgUrls[position] = imgState.imgUrl;\r\n\t\tthis.setState({ stay: { ...this.state.stay, imgUrls } });\r\n\t};\r\n\r\n\thandleChange = ({ target }) => {\r\n\t\tlet { name, value, id, checked } = target;\r\n\t\tvalue = name === 'price' || name === 'capacity' ? +value : value;\r\n\t\tif (name === 'amenities') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstay: {\r\n\t\t\t\t\t...this.state.stay,\r\n\t\t\t\t\tamenities: { ...this.state.stay.amenities, [id]: checked },\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else if (name === 'address') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstay: {\r\n\t\t\t\t\t...this.state.stay,\r\n\t\t\t\t\tloc: { ...this.state.stay.loc, [name]: value },\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({ stay: { ...this.state.stay, [name]: value } });\r\n\t\t}\r\n\t};\r\n\r\n\tonSaveStay = (ev) => {\r\n\t\tev.preventDefault();\r\n\r\n\t\tev.target.value = 'my Stays';\r\n\t\tconst { stay } = this.state;\r\n\t\tconst { amenities } = stay;\r\n\t\tconst currAmenities = [];\r\n\t\tfor (const key in amenities) {\r\n\t\t\tif (amenities[key]) {\r\n\t\t\t\tcurrAmenities.push(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\tstay.amenities = currAmenities\r\n\t\tif (stay._id) {\r\n\t\t\tthis.props.updateStay(stay);\r\n\t\t\tthis.props.toggleMsgModal(\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<i className=\"far fa-check-circle\"></i>\r\n\t\t\t\t\t<h3>Your stay has been updated</h3>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.props.addStay(stay);\r\n\t\t\tthis.props.toggleMsgModal(\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<i className=\"far fa-check-circle\"></i>\r\n\t\t\t\t\t<h3>Your stay has been added</h3>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.props.onSelectAction(ev);\r\n\r\n\t}\r\n\r\n\tgetTotalRate = () => {\r\n\t\tconst rates = this.state.stay.reviews.map((review) => review.avgRate)\r\n\t\tconst sum = rates.reduce((acc, rate) => {\r\n\t\t\tacc += rate\r\n\t\t\treturn acc\r\n\t\t}, 0);\r\n\t\tif (sum === 0) return 'new'\r\n\t\treturn (sum / rates.length).toFixed(2)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { stay } = this.state;\r\n\t\tif (this.props.stayEdit && !stay.imgUrls[0]) return '';\r\n\t\tif (!stay) return ''; // LOADER\r\n\t\treturn (\r\n\t\t\t<section className=\"stay-edit-container\">\r\n\t\t\t\t<form className=\"stay-edit-form\" onSubmit={this.onSaveStay}>\r\n\t\t\t\t\t<section className=\"stay-edit-header\">\r\n\t\t\t\t\t\t<div className=\"stay-edit-header-name\">\r\n\t\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalue={stay.name}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"stay name\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t{this.props.stayEdit && <button type=\"button\" className=\"remove-btn\" onClick={(event) => this.onRemoveStays(event, this.props.stayEdit._id)}><i className=\"far fa-trash-alt\"></i>Remove</button>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"stay-edit-short-info\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className=\"stay-rate-display\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-star\"></i>\r\n\t\t\t\t\t\t\t\t\t<span>{this.getTotalRate()}</span>\r\n\t\t\t\t\t\t\t\t\t<p> ( {stay.reviews.length} reviews )</p>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span>•</span>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tAddress:\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\tvalue={stay.loc.address}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<button type=\"button\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-external-link-alt\"></i>share\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"stay-save-btn\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-heart\"></i>save\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<div className=\"stay-gallery\">\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[0]}\r\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\r\n\t\t\t\t\t\t\tposition={0}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[1]}\r\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\r\n\t\t\t\t\t\t\tposition={1}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[2]}\r\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\r\n\t\t\t\t\t\t\tposition={2}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[3]}\r\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\r\n\t\t\t\t\t\t\tposition={3}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tuserImgUrl={stay.imgUrls[4]}\r\n\t\t\t\t\t\t\tonUploadImg={this.onUploadImg}\r\n\t\t\t\t\t\t\tposition={4}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<section className=\"stay-edit-info-container\">\r\n\t\t\t\t\t\t<div className=\"stay-edit-long-info\">\r\n\t\t\t\t\t\t\t<div className=\"stay-long-info-header\">\r\n\t\t\t\t\t\t\t\t<div className=\"stay-long-info-header-txt\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\tcapacity:\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"capacity\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"capacity\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.capacity}\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t• stayType:\r\n\t\t\t\t\t\t\t\t\t\t<select name=\"stayType\" onChange={this.handleChange}>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"entire place\">entire place</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"private room\">private room</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t• propertyType:\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"propertyType\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.propertyType}>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"loft\">loft</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"room\">room</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"studio\">studio</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"villa\">villa</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"appartment\">appartment</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img src={stay.host.imgUrl} alt=\"avatar\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"stay-feature-container\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-home\"></i>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3>{stay.stayType}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\t\t{stay.stayType === 'entire place'\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"You'll have the place to yourself.\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"You'll have a private room to yourself.\"}\r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-book-open\"></i>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3>House rules</h3>\r\n\t\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\t\tThis place isn’t suitable for children under 12 and the\r\n\t\t\t\t\t\t\t\t\t\t\thost doesn’t allow pets.\r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-medal\"></i>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3>{stay.host.fullname} is a Superhost</h3>\r\n\t\t\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t\t\tSuperhosts are experienced, highly rated hosts who are\r\n\t\t\t\t\t\t\t\t\t\t\tcommitted to providing great stays for guests.\r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-bookmark\"></i>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3>Wifi</h3>\r\n\t\t\t\t\t\t\t\t\t\t<h4>Guests often search for this popular amenity</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<span className=\"description\">\r\n\t\t\t\t\t\t\t\t<h2>description</h2>\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"desc\"\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalue={stay.desc}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<div className=\"amenities-list\">\r\n\t\t\t\t\t\t\t\t<h2>Amenities</h2>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"TV\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities.TV}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities.TV}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"TV\"> TV</label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"Wifi\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities.Wifi}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities.Wifi}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Wifi\">Wifi</label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"Air conditioning\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Air conditioning']}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Air conditioning']}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Air conditioning\">AC </label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"Smoking allowed\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Smoking allowed']}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Smoking allowed']}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Smoking_allowed\">Smoking allowed </label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"Pets allowed\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Pets allowed']}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Pets allowed']}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Pets allowed\">Pets allowed </label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"Cooking basics\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"amenities\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={stay.amenities['Cooking basics']}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={stay.amenities['Cooking basics']}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"Cooking basics\">Cooking basics </label>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"order-form-container\">\r\n\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\tprice:{' '}\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalue={stay.price}\r\n\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t/ night\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<button type=\"submit\" className=\"stay-edit-save-btn\">Save</button>\r\n\t\t\t\t</form>\r\n\t\t\t</section>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tstays: state.stayModule.stays,\r\n\t};\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\taddStay,\r\n\tupdateStay,\r\n};\r\n\r\nexport const StayEdit = connect(mapStateToProps, mapDispatchToProps)(_StayEdit);\r\n","import React from \"react\";\r\n\r\nexport function OrdersPrview({ order, updateOrder }) {\r\n\r\n    function onUpdateOrder(status) {\r\n        order.status = status;\r\n        updateOrder(order)\r\n    }\r\n    return (\r\n        <div className=\"host-stay-preview\">\r\n            <span><img src={order.user.imgUrl} alt=\"user\" /></span>\r\n            <span>{order.user.fullname}</span>\r\n            <span>{order.startDate}</span>\r\n            <span>{order.endDate}</span>\r\n            <span>{order.status}</span>\r\n            <span>$ {order.totalPrice.toLocaleString(\"en-US\")}</span>\r\n            <span className=\"stay-actions\" >\r\n                {order.status === 'approved' && <button onClick={() => { onUpdateOrder('declined') }}><i className=\"fas fa-times\"></i>Decline</button> }\r\n                {order.status === 'declined' && <button onClick={() => { onUpdateOrder('approved') }}><i className=\"fas fa-check\"></i>Re-Approve</button> }\r\n                {order.status === 'wait for approval' && <button onClick={() => { onUpdateOrder('approved') }}><i className=\"fas fa-check\"></i>Approve</button>}\r\n                \r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import { OrdersPrview } from './OrdersPrview'\r\n\r\nexport function OrderList({ orders ,updateOrder , onSelectAction}) {\r\n    return (\r\n        <section className=\"host-order-list\">\r\n            <div className=\"host-order-list-table\">\r\n                <div className=\"thead\">\r\n                    <div>\r\n                        <span>{''}</span>\r\n                        <span>Guest Name</span>\r\n                        <span>Check in</span>\r\n                        <span>Check out</span>\r\n                        <span>Status</span>\r\n                        <span>Price</span>\r\n                        <span className=\"stay-actions\">Actions</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"tbody\">\r\n\r\n                    {!orders.length && <h1 className=\"empty-msg\">No Orders to show yet, you can edit your stay pages to make it more appealing on the <button value=\"my Stays\" onClick={onSelectAction}>My Stays</button> tab</h1>}\r\n                    {orders.length > 0 && orders.map(order => {\r\n                        return (\r\n                            <OrdersPrview\r\n                                key={Math.random()}\r\n                                order={order}\r\n                                updateOrder={updateOrder} />\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { OrderList } from './OrderList'\r\n\r\nexport function HostOrders({orders,updateOrder, onSelectAction}) {\r\n    return (\r\n        <section className=\"host-order-container\">\r\n            <OrderList orders={orders} updateOrder={updateOrder} onSelectAction={onSelectAction}/>\r\n        </section>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/user-cash.e1f91298.PNG\";","import { Component } from 'react';\r\nimport { DashSideNav } from '../cmps/dashboard/DashSideNav'\r\nimport { DashHeader } from '../cmps/dashboard/DashHeader'\r\nimport { MyStays } from '../cmps/dashboard/MyStays'\r\nimport { RateStatistic } from '../cmps/dashboard/RateStatistic'\r\nimport { StayEdit } from '../cmps/dashboard/SaveStay'\r\nimport { HostOrders } from '../cmps/dashboard/HostOrders'\r\nimport { connect } from 'react-redux';\r\nimport { loadHostStays, removeStay } from '../store/actions/stayActions'\r\nimport { utilService } from '../services/util-service.js'\r\nimport { Loader } from '../cmps/app/Loader'\r\nimport Cash from '../assets/img/user-cash.PNG'\r\n\r\nexport class _Dashboard extends Component {\r\n\r\n    state = {\r\n        action: '',\r\n        loggedInUser: null,\r\n        selsctedEditStay: null,\r\n        orderChangeStatus: 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loggedInUser: { ...this.props.loggedInUser, isHost: true } }, () => {\r\n            this.props.updateUser(this.state.loggedInUser)\r\n            this.loadHostStays()\r\n            this.props.loadOrders({ id: this.state.loggedInUser._id, type: 'host' })\r\n        })\r\n        this.props.setFooterDisplay(false)\r\n        this.props.setHomePage('dash')\r\n        this.setState({ orderChangeStatus: utilService.getRandomIntInclusive(0, 5) })\r\n    }\r\n\r\n    componentWillUnmount(prevProps, prevState) {\r\n        this.props.setFooterDisplay(true)\r\n    }\r\n\r\n    getRateChangStatus = () => {\r\n        return utilService.getRandomIntInclusive(0, 5)\r\n    }\r\n\r\n    loadHostStays = async () => {\r\n        await this.props.loadHostStays(this.state.loggedInUser._id);\r\n        if (this.props.stays.length === 0) {\r\n            this.setState({ action: 'add stay' })\r\n        }\r\n    }\r\n\r\n    onSelectAction = async (ev) => {\r\n        const action = ev.target.value;\r\n        this.setState({ action })\r\n    }\r\n\r\n    onSelectedEditStay = (stay) => {\r\n        this.setState({ selsctedEditStay: stay }, () => {\r\n            this.setState({ action: 'edit stay' })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { action, loggedInUser, selsctedEditStay, orderChangeStatus } = this.state\r\n        const { removeStay, stays, toggleMsgModal, orders, updateOrder } = this.props\r\n        return (\r\n            <main className=\"main page\">\r\n                <section className=\"dashboard-container\">\r\n                    <section className=\"dash-nav-sticky-container\">\r\n                        <DashSideNav onSelectAction={this.onSelectAction} />\r\n                        <div className=\"host-info-container\">\r\n                            <img src={Cash} alt=\"cash\" />\r\n                            <h2>Make all payments through Home & go</h2>\r\n                            <p>Always pay and communicate through Home & go to ensure you're protected under our Terms of Service, Payments Terms of Service, cancellation, and other safeguards.</p>\r\n                        </div>\r\n                    </section>\r\n                    {!stays && <Loader />}\r\n                    {stays && <section className=\"dash-main-container\">\r\n                        <DashHeader stays={stays} orders={orders} orderChangeStatus={orderChangeStatus} />\r\n                        <section className=\"dash-info-container\">\r\n                            {(action === '' || action === 'my Stays') && <MyStays stays={stays} onSelectedEditStay={this.onSelectedEditStay} onSelectAction={this.onSelectAction} />}\r\n                            {action === 'rate stat' && <RateStatistic stays={stays} />}\r\n                            {action === 'edit stay' && <StayEdit stayEdit={selsctedEditStay} removeStay={removeStay} onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\r\n                            {action === 'add stay' && <StayEdit onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\r\n                            {action === 'orders' && <HostOrders loggedInUser={loggedInUser} orders={orders} updateOrder={updateOrder} onSelectAction={this.onSelectAction} />}\r\n                        </section>\r\n                    </section>}\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadHostStays,\r\n    removeStay\r\n}\r\n\r\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)","import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport class OrderPreview extends Component {\r\n\r\n    render() {\r\n        const { order, getCancelationStatus, onCancelOrder } = this.props\r\n        return (\r\n\r\n            <Link to={`/stay/${order.stay._id}`} className=\"order-preview\">\r\n                <div className=\"img-container\">\r\n                    <img src={order.stay.imgUrls[0]} alt=\"stay\" />\r\n                    <img src={order.stay.imgUrls[1]} alt=\"stay\" />\r\n                    <img src={order.stay.imgUrls[2]} alt=\"stay\" />\r\n                </div>\r\n                <div className=\"details-container\">\r\n                    <h3>\r\n                        {order.stay.name}\r\n                        <p>\r\n                            <span>{order.startDate}</span>\r\n                            <span>{order.endDate}</span>\r\n                        </p>\r\n                    </h3>\r\n                    <h4 className=\"order-price\">$ {order.totalPrice.toLocaleString(\"en-US\")}</h4>\r\n                    <h4 className={`order-status ${order.status === 'approved' && 'status-green'} ${order.status === 'declined' && 'status-red'}`}>{order.status}</h4>\r\n                    <div className=\"order-cancelation\">\r\n                        <h4>{getCancelationStatus(order)}</h4>\r\n                        {getCancelationStatus(order) !== 'Non-refundable' && <button onClick={() => onCancelOrder(order)}>Cancel order</button>}\r\n                        {getCancelationStatus(order) === 'Non-refundable' && <button className=\"cancel-disabled\" disabled onClick={() => onCancelOrder(order)}>Cancel order</button>}\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        )\r\n    }\r\n}","import { OrderPreview } from './OrderPreview'\r\nimport {Loader} from '../app/Loader'\r\n\r\nexport function OrderList({ orders, getCancelationStatus, onCancelOrder }) {\r\n\r\n    if (!orders || !orders.length) return <Loader/>\r\n\r\n    return (\r\n        <section className=\"order-list\">\r\n            {orders.map(order => <OrderPreview\r\n                key={Math.random()}\r\n                order={order}\r\n                getCancelationStatus={getCancelationStatus}\r\n                onCancelOrder={onCancelOrder}\r\n            />)}\r\n        </section>\r\n    )\r\n}","import { Component } from 'react';\r\nimport { OrderList } from '../cmps/orders/OrderList';\r\nimport { Loader } from '../cmps/app/Loader'\r\n\r\nexport class Orders extends Component {\r\n\r\n    state = {\r\n        sction: '',\r\n        loggedInUser: null,\r\n        orders: [],\r\n        filterBy: {\r\n            status: true,\r\n            price: true,\r\n            checkIn: true,\r\n            checkOut: true,\r\n            name: true\r\n        },\r\n        currPage: 'upcoming',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loggedInUser: this.props.loggedInUser }, () => {\r\n            this.loadOrders();\r\n        })\r\n        this.props.setFooterDisplay(false)\r\n        this.props.setHomePage('orders')\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setFooterDisplay(true)\r\n    }\r\n\r\n    loadOrders = async () => {\r\n        await this.props.loadOrders({ id: this.state.loggedInUser._id, type: 'user' })\r\n        this.setState({ orders: this.props.orders })\r\n        this.showOrdersByTime()\r\n    }\r\n\r\n    onCancelOrder = async (stay) => {\r\n        var daysToTrip = this.getTimeBeforeTrip(stay.startDate);\r\n        if (daysToTrip >= 7) {\r\n            await this.props.removeOrder(stay._id)\r\n            this.setState({ orders: this.props.orders })\r\n            this.props.toggleMsgModal(<span><i className=\"far fa-check-circle\"></i><h3>Your order has been canceled</h3></span>)\r\n        }\r\n        else this.props.toggleMsgModal(<span><i className=\"far fa-times-circle\"></i><h3>You can't cancel this order</h3></span>)\r\n\r\n    }\r\n\r\n    toggleShowOrderTime = (currPage) => {\r\n        this.setState({ currPage }, () => { this.showOrdersByTime() })\r\n    }\r\n\r\n    showOrdersByTime = () => {\r\n        const orders = this.props.orders\r\n        var filteredOrders = [];\r\n        if (this.state.currPage === 'upcoming') {\r\n            orders.forEach(order => {\r\n                if (new Date(order.startDate) - new Date(Date.now()) > 0) filteredOrders.push(order)\r\n            })\r\n        } else {\r\n            orders.forEach(order => {\r\n                if (new Date(order.startDate) - new Date(Date.now()) < 0) filteredOrders.push(order)\r\n            })\r\n        }\r\n        this.setState({ orders: filteredOrders })\r\n    }\r\n\r\n    getCancelationStatus = (stay) => {\r\n        var daysToTrip = this.getTimeBeforeTrip(stay.startDate);\r\n        var daysToCancel = daysToTrip - 7;\r\n        if (daysToCancel > 0) return `Refundable in the next ${daysToCancel.toFixed(0)} days`\r\n        else return \"Non-refundable\"\r\n    }\r\n\r\n    getTimeBeforeTrip = (startDate) => {\r\n        const diff = new Date(startDate).getTime() - Date.now();\r\n        return diff / 1000 / 60 / 60 / 24\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        var { name } = ev.target\r\n        this.setState({ filterBy: { ...this.state.filterBy, [name]: !this.state.filterBy[name] } }, () => {\r\n        });\r\n    }\r\n\r\n    onSortOrders = (ev) => {\r\n        ev.preventDefault()\r\n        const orders = this.state.orders;\r\n        const sortBy = ev.target.name\r\n        var sortOrders = [];\r\n        switch (sortBy) {\r\n            case 'name':\r\n                sortOrders = _sortByName(orders);\r\n                break\r\n            case 'checkIn':\r\n                sortOrders = _sortByDate(orders, 'startDate');\r\n                console.log(sortOrders);\r\n                break\r\n            case 'checkOut':\r\n                sortOrders = _sortByDate(orders, 'endDate');\r\n                break\r\n            case 'price':\r\n                sortOrders = _sortByPrice(orders);\r\n                break\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ orders: sortOrders })\r\n    }\r\n\r\n    render() {\r\n        const { orders, filterBy, currPage } = this.state;\r\n        const { name, price, status, checkIn, checkOut } = filterBy\r\n        console.log(orders);\r\n        if (!orders) return <Loader />\r\n        \r\n        return (\r\n            <main className=\"user-order-container main page\">\r\n                <section className=\"user-order-list\">\r\n                    <h1>Trips</h1>\r\n                    <div className=\"order-header\">\r\n                        <div className=\"order-nav\">\r\n                            <button className={currPage === 'upcoming' && 'active'} onClick={() => { this.toggleShowOrderTime('upcoming') }}> Upcoming</button>\r\n                            <button className={currPage === 'past' && 'active'} onClick={() => { this.toggleShowOrderTime('past') }}>Past</button>\r\n                        </div>\r\n                        <div className=\"order-filter\">\r\n                            <button name=\"name\" value={name} onClick={this.onSortOrders} >Stay name</button>\r\n                            <button name=\"checkIn\" value={checkIn} onClick={this.onSortOrders}>Check in</button>\r\n                            <button name=\"checkOut\" value={checkOut} onClick={this.onSortOrders}>Check out</button>\r\n                            <button name=\"price\" value={price} onClick={this.onSortOrders}>Price</button>\r\n                            <button name=\"status\" value={status} >Status</button>\r\n                        </div>\r\n                    </div>\r\n                    <OrderList\r\n                        orders={orders}\r\n                        getCancelationStatus={this.getCancelationStatus}\r\n                        onCancelOrder={this.onCancelOrder}\r\n                    />\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction _sortByName(orders) {\r\n    return orders.sort(function (orderA, orderB) {\r\n        var nameA = orderA.stay.name.toUpperCase(); \r\n        var nameB = orderB.stay.name.toUpperCase();\r\n        if (nameA < nameB) {\r\n            return -1;\r\n        }\r\n        if (nameA > nameB) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    });\r\n}\r\n\r\nfunction _sortByDate(orders, dateType) {\r\n    return orders.sort(function (orderA, orderB) {\r\n        return new Date(orderA[dateType]) - new Date(orderB[dateType]);\r\n    });\r\n}\r\n\r\nfunction _sortByPrice(orders) {\r\n    return orders.sort(function (orderA, orderB) {\r\n        return orderA.totalPrice - orderB.totalPrice\r\n    });\r\n}","export default __webpack_public_path__ + \"static/media/logo.b08875a0.png\";","import { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Logo from \"../assets/img/logo.png\"\r\n\r\nexport class BecomeHost extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setFooterDisplay(false)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setFooterDisplay(true)\r\n    }\r\n\r\n    render() {\r\n        const { loggedInUser } = this.props\r\n        return (\r\n            <main className=\"main\" >\r\n                <section className=\"full bocome-host-container\">\r\n                    <div className=\"hosting-img\">\r\n                        <Link className=\"a\" to=\"/\"><i className=\"fab fa-airbnb fa-3x logo-icon\"></i></Link>\r\n                        <img className=\"guests-img\" src=\"https://www.insidehook.com/wp-content/uploads/2021/03/good-airbnb-guest-2.jpg?fit=1200%2C800\" alt=\"\" />\r\n                    </div>\r\n                    <div className=\"hosting-info\">\r\n                        <h1>Hosting makes us</h1>\r\n                        <h1 className=\"logo\">Home<img src={Logo} alt=\"logo\" />Go</h1>\r\n                    </div>\r\n                    <button className=\"host-btn\"><Link to={(loggedInUser) ? `/host/${loggedInUser._id}` : \"/login\"}>Try hosting</Link></button>\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n\r\n}","import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { utilService } from '../services/util-service'\r\n\r\nexport class Notifications extends Component {\r\n\r\n  async componentDidMount() {\r\n    this.props.setFooterDisplay(false)\r\n    this.props.setHomePage('user')\r\n    this.props.setNotifStatus(false)\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    this.props.setFooterDisplay(true)\r\n  }\r\n\r\n  onClearNotif = () => {\r\n    const currUser = this.props.loggedInUser\r\n    currUser.notifications = []\r\n    this.props.updateUser(currUser)\r\n  }\r\n\r\n  render() {\r\n    const { notifications } = this.props.loggedInUser\r\n\r\n    return (\r\n      <main className=\"notifications main page\">\r\n        <section className=\"notif-list\">\r\n          <h1>Notifications</h1>\r\n          {notifications && notifications.map(msg => {\r\n            return (\r\n              <div key={Math.random()} className=\"notif-card\">\r\n                <img src={msg.imgUrl} alt=\"avatar\" />\r\n                <span>\r\n                  <h3>{msg.fullname}</h3>\r\n                  <h4>{utilService.getTimeFormat(msg.createdAt)}</h4>\r\n                </span>\r\n                <h4 className=\"notif-card-txt\">{msg.txt}</h4>\r\n                {msg.type === 'from' && <Link to={`/host/${this.props.loggedInUser._id}`}>Read More</Link>}\r\n                {msg.type === 'to' && <Link to={`/orders`}>Read More</Link>}\r\n              </div>\r\n            )\r\n          })}\r\n          <button onClick={this.onClearNotif}>Clear all</button>\r\n        </section>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Component } from \"react\";\r\n\r\nexport class DynamicModal extends Component {\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.modalType !== this.props.modalType && this.props.modalType !== '') {\r\n            this.props.openDynamicModal(this.props.modalType)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { modalPosition } = this.props\r\n        if (!modalPosition || !modalPosition.top || !modalPosition.left) return ''\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal-bg\"></div>\r\n                <section className=\"dynamic-modal\" style={modalPosition}>\r\n                    {this.props.children}\r\n                </section>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { Component } from \"react\";\r\n\r\n\r\nexport class UserMsg extends Component {\r\n\r\n    render() {\r\n\r\n        return (\r\n            <section className=\"user-msg\" >\r\n                {this.props.children}\r\n            </section>\r\n        )\r\n    }\r\n}","import { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { StayDetails } from './pages/StayDetails';\r\nimport { UserDetails } from './pages/UserDetails';\r\nimport { Explore } from './pages/Explore';\r\nimport { Wishlist } from './pages/Whislist';\r\nimport { LoginSignup } from './pages/LoginSignup';\r\nimport { Home } from './pages/Home';\r\nimport { Header } from './cmps/Header';\r\nimport { Footer } from './cmps/Footer';\r\nimport { Dashboard } from './pages/Dashboard';\r\nimport { Orders } from './pages/Orders';\r\nimport { BecomeHost } from './pages/BecomeHost';\r\nimport { Notifications } from './pages/Notifications';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loadStays, removeStay, loadHostStays, loadWishlist, updateStay } from './store/actions/stayActions';\r\nimport { stayService } from './services/stay-service'\r\nimport { socketService } from './services/socketService'\r\nimport { userService } from './services/user-service'\r\nimport { loadOrders, removeOrder, updateOrder } from './store/actions/orderActions';\r\nimport { addTrip, loadTrip, removeTrip } from './store/actions/tripActions';\r\nimport { updateUser, loadUsers, logout, login } from './store/actions/userActions';\r\nimport { DynamicModal } from './cmps/app/DynamicModal';\r\nimport { UserMsg } from './cmps/app/UserMsg';\r\n\r\nclass _App extends Component {\r\n  state = {\r\n    userMsg: '',\r\n    isUserMsg: false,\r\n    modalType: '',\r\n    dynamicModal: {\r\n      modalContent: '',\r\n      modalPosition: { top: 0, left: 0, height: 0, width: 0 },\r\n    },\r\n    topRatedStays: [],\r\n    nearbayStays: [],\r\n    isFooterOn: true,\r\n    currPage: 'home',\r\n    isNewNotif: false\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.loadRated();\r\n    this.loadNearby();\r\n    await socketService.setup()\r\n    await socketService.on('ORDER_IN', this.onOrderIn)\r\n  }\r\n\r\n  onOrderIn = async (order) => {\r\n    const user = this.props.loggedInUser\r\n\r\n    if (user._id === order.host._id) {\r\n      const host = await userService.getById(order.host._id)\r\n      const txt = `${order.user.fullname} booked your stay`\r\n      const createdAt = new Date()\r\n      const imgUrl = order.user.imgUrl\r\n      const fullname = order.user.fullname\r\n      const type = 'from'\r\n      const msg = { txt, createdAt, imgUrl, fullname, type }\r\n      this.setNotifStatus(true)\r\n\r\n      if (host.notifications) {\r\n        host.notifications.unshift(msg)\r\n      } else {\r\n        host.notifications = []\r\n        host.notifications.unshift(msg)\r\n      }\r\n      this.props.updateUser(host)\r\n\r\n    } else if (user._id === order.user._id) {\r\n      const txt = `Your order has been sent to ${order.host.fullname}`\r\n      const createdAt = new Date()\r\n      const imgUrl = order.host.imgUrl\r\n      const fullname = order.host.fullname\r\n      const type = 'to'\r\n      const msg = { txt, createdAt, imgUrl, fullname, type }\r\n\r\n      this.setNotifStatus(true)\r\n\r\n      if (user.notifications) {\r\n        user.notifications.unshift(msg)\r\n      } else {\r\n        user.notifications = []\r\n        user.notifications.unshift(msg)\r\n      }\r\n      this.props.updateUser(user)\r\n    }\r\n  }\r\n\r\n  setNotifStatus = (isNewNotif) => {\r\n    this.setState({ isNewNotif })\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    await socketService.off('ORDER_IN', this.onOrderIn)\r\n    socketService.terminate()\r\n  }\r\n\r\n  loadRated = async () => {\r\n    const topRatedStays = await stayService.getTopRatedStays();\r\n    this.setState({ topRatedStays })\r\n  }\r\n\r\n  loadNearby = async () => {\r\n    const nearbayStays = await stayService.getNearbyStays('portugal');\r\n    this.setState({ nearbayStays })\r\n  }\r\n\r\n  onSearch = (trip) => {\r\n    this.props.addTrip(trip);\r\n    this.props.loadStays(trip);\r\n  };\r\n\r\n  toggleMsgModal = (msg) => {\r\n    this.setState({ userMsg: msg, isUserMsg: true });\r\n    setTimeout(() => {\r\n      this.setState({ isUserMsg: false });\r\n    }, 4000);\r\n    setTimeout(() => {\r\n      this.setState({ userMsg: '' });\r\n    }, 6000);\r\n  };\r\n\r\n  setModalContent = (dynamicModal, modalType) => {\r\n    this.setState({ dynamicModal, modalType });\r\n  };\r\n\r\n  closeDynamicModal = (ev) => {\r\n    if (ev.type === 'scroll') {\r\n      this.setState({ modalType: '' }, () => {\r\n        window.removeEventListener('click', this.closeDynamicModal, true);\r\n        window.removeEventListener('scroll', this.closeDynamicModal, true);\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (ev.target.closest('.dynamic-modal')) return;\r\n    if (ev.target.nodeName === 'BUTTON') return;\r\n\r\n    this.setState({ modalType: '' }, () => {\r\n      window.removeEventListener('click', this.closeDynamicModal, true);\r\n      window.removeEventListener('scroll', this.closeDynamicModal, true);\r\n    });\r\n  };\r\n\r\n  openDynamicModal = (modalType, ev = null) => {\r\n    if (ev && ev.target.innerText === 'logout') {\r\n      this.setState({ modalType: '' })\r\n      return\r\n    }\r\n    this.setState({ modalType }, () => {\r\n      window.addEventListener('click', this.closeDynamicModal, true);\r\n      window.addEventListener('scroll', this.closeDynamicModal, true);\r\n    });\r\n  };\r\n\r\n  setFooterDisplay = (isFooterOn) => {\r\n    this.setState({ isFooterOn })\r\n  }\r\n\r\n  setHomePage = (page) => {\r\n    this.setState({ currPage: page })\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const {\r\n      stays,\r\n      orders,\r\n      updateUser,\r\n      trip,\r\n      addTrip,\r\n      removeTrip,\r\n      loggedInUser,\r\n      logout,\r\n      loadStays,\r\n      loadOrders,\r\n      removeOrder,\r\n      loadWishlist,\r\n      updateStay,\r\n      login,\r\n      updateOrder\r\n    } = this.props;\r\n\r\n    const { userMsg,\r\n      isUserMsg,\r\n      modalType,\r\n      dynamicModal,\r\n      topRatedStays,\r\n      nearbayStays,\r\n      isFooterOn,\r\n      currPage,\r\n      isNewNotif\r\n    } = this.state;\r\n\r\n    return (\r\n      <Router>\r\n        <Header\r\n          trip={trip}\r\n          addTrip={addTrip}\r\n          removeTrip={removeTrip}\r\n          modalType={modalType}\r\n          onSearch={this.onSearch}\r\n          loggedInUser={loggedInUser}\r\n          logout={logout}\r\n          openDynamicModal={this.openDynamicModal}\r\n          closeDynamicModal={this.closeDynamicModal}\r\n          setModalContent={this.setModalContent}\r\n          currPage={currPage}\r\n          loadStays={loadStays}\r\n          isNewNotif={isNewNotif}\r\n        />\r\n        <Switch>\r\n          <Route path=\"/login\" render={(props) => (<LoginSignup {...props} setFooterDisplay={this.setFooterDisplay} />)} />\r\n          <Route\r\n            path=\"/orders\"\r\n            render={(props) => (\r\n              <Orders\r\n                {...props}\r\n                loadOrders={loadOrders}\r\n                orders={orders}\r\n                loggedInUser={loggedInUser}\r\n                removeOrder={removeOrder}\r\n                toggleMsgModal={this.toggleMsgModal}\r\n                setFooterDisplay={this.setFooterDisplay}\r\n                setHomePage={this.setHomePage}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/host/:userId\"\r\n            render={(props) => (\r\n              <Dashboard\r\n                {...props}\r\n                loggedInUser={loggedInUser}\r\n                updateUser={updateUser}\r\n                toggleMsgModal={this.toggleMsgModal}\r\n                loadOrders={loadOrders} orders={orders}\r\n                setFooterDisplay={this.setFooterDisplay}\r\n                setHomePage={this.setHomePage}\r\n                updateOrder={updateOrder}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/host\"\r\n            render={(props) => (\r\n              <BecomeHost\r\n                {...props}\r\n                loggedInUser={loggedInUser}\r\n                setFooterDisplay={this.setFooterDisplay}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/wishlist\"\r\n            render={(props) => (\r\n              <Wishlist\r\n                {...props}\r\n                stays={stays}\r\n                loadWishlist={loadWishlist}\r\n                loggedInUser={loggedInUser}\r\n                toggleMsgModal={this.toggleMsgModal}\r\n                login={login}\r\n                setHomePage={this.setHomePage}\r\n                updateUser={updateUser}\r\n                trip={trip}\r\n                addTrip={addTrip}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/stay/:stayId\"\r\n            render={(props) => (\r\n              <StayDetails\r\n                {...props}\r\n                onSearch={this.onSearch}\r\n                loggedInUser={loggedInUser}\r\n                toggleMsgModal={this.toggleMsgModal}\r\n                login={login}\r\n                openDynamicModal={this.openDynamicModal}\r\n                modalType={modalType}\r\n                updateStay={updateStay}\r\n                updateUser={updateUser}\r\n                setModalContent={this.setModalContent}\r\n                setHomePage={this.setHomePage}\r\n                setHostSocket={this.setHostSocket}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/explore\"\r\n            render={(props) => (\r\n              <Explore\r\n                {...props}\r\n                trip={trip}\r\n                loadStays={loadStays}\r\n                stays={stays}\r\n                updateUser={updateUser}\r\n                loggedInUser={loggedInUser}\r\n                openDynamicModal={this.openDynamicModal}\r\n                closeDynamicModal={this.closeDynamicModal}\r\n                setModalContent={this.setModalContent}\r\n                setHomePage={this.setHomePage}\r\n                toggleMsgModal={this.toggleMsgModal}\r\n                login={login}\r\n                addTrip={addTrip}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/user\"\r\n            render={(props) => (\r\n              <UserDetails {...props}\r\n                updateUser={updateUser}\r\n                setHomePage={this.setHomePage}\r\n                setFooterDisplay={this.setFooterDisplay}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/notif\"\r\n            render={(props) => (\r\n              <Notifications {...props}\r\n                updateUser={updateUser}\r\n                loggedInUser={loggedInUser}\r\n                setHomePage={this.setHomePage}\r\n                setFooterDisplay={this.setFooterDisplay}\r\n                setNotifStatus={this.setNotifStatus}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/\"\r\n            render={(props) => (\r\n              <Home\r\n                {...props}\r\n                onSearch={this.onSearch}\r\n                stays={stays}\r\n                loggedInUser={loggedInUser}\r\n                loadStays={loadStays}\r\n                topRatedStays={topRatedStays}\r\n                nearbayStays={nearbayStays}\r\n                setHomePage={this.setHomePage}\r\n                addTrip={addTrip}\r\n              />\r\n            )}\r\n          />\r\n        </Switch>\r\n        {isFooterOn && <Footer\r\n          onSearch={this.onSearch}\r\n          stays={stays}\r\n          topRatedStays={topRatedStays}\r\n          nearbayStays={nearbayStays}\r\n        />}\r\n\r\n        <DynamicModal\r\n          openDynamicModal={this.openDynamicModal}\r\n          modalPosition={dynamicModal.modalPosition}\r\n          modalType={modalType}\r\n        >\r\n          {dynamicModal.modalContent}\r\n        </DynamicModal>\r\n\r\n        <UserMsg>\r\n          <section className={`user-msg ${isUserMsg && 'on'} `}>\r\n            {userMsg}\r\n          </section>\r\n        </UserMsg>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    stays: state.stayModule.stays,\r\n    orders: state.orderModule.orders,\r\n    trip: state.tripModule.trip,\r\n    users: state.userModule.users,\r\n    loggedInUser: state.userModule.loggedInUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loadStays,\r\n  addTrip,\r\n  updateUser,\r\n  loadUsers,\r\n  loadTrip,\r\n  removeTrip,\r\n  logout,\r\n  removeStay,\r\n  loadHostStays,\r\n  loadOrders,\r\n  removeOrder,\r\n  loadWishlist,\r\n  updateStay,\r\n  login,\r\n  updateOrder\r\n};\r\n\r\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App);\r\n","import { tripService } from '../../services/trip-service'\r\n\r\nexport function loadTrip() {\r\n  return dispatch => {\r\n    const trip = tripService.query()\r\n    dispatch({ type: 'SET_TRIP', trip })\r\n  }\r\n}\r\n\r\nexport function addTrip(trip) {\r\n  return dispatch => {\r\n    const addedTrip = tripService.add(trip)\r\n    dispatch({ type: 'SET_TRIP', trip: addedTrip })\r\n  }\r\n}\r\n\r\nexport function removeTrip() {\r\n  return dispatch => {\r\n    tripService.remove()\r\n    dispatch({ type: 'REMOVE_TRIP' })\r\n  }\r\n}\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\r\n  stays: []\r\n}\r\n\r\nexport function stayReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_HOST_STAYS':\r\n      return { ...state, stays: action.stays }\r\n    case 'SET_WISH_STAYS':\r\n      return { ...state, stays: action.stays }\r\n    case 'SET_STAYS':\r\n      return { ...state, stays: action.stays }\r\n    case 'ADD_STAY':\r\n      return { ...state, stays: [...state.stays, action.stay] }\r\n    case 'REMOVE_STAY':\r\n      return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\r\n    case 'UPDATE_STAY':\r\n      return {\r\n        ...state,\r\n        stays: state.stays.map(stay =>\r\n          stay._id === action.stay._id ? action.stay : stay\r\n        )\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n      }\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users }\r\n    case 'UPDATE_USER':\r\n      return {\r\n        loggedInUser: { ...action.user, notifications: [...action.user.notifications] },\r\n        users: state.users.map(user =>\r\n          user._id === action.user._id ? action.user : user\r\n        )\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  orders: [],\r\n}\r\n\r\nexport function orderReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_ORDERS':\r\n      return { ...state, orders: action.orders }\r\n    case 'ADD_ORDER':\r\n      return { ...state, orders: [...state.orders, action.order] }\r\n    case 'REMOVE_ORDER':\r\n      return { ...state, orders: state.orders.filter(order => order._id !== action.orderId) }\r\n    case 'UPDATE_ORDER':\r\n      return {\r\n        ...state,\r\n        orders: state.orders.map(order =>\r\n          order._id === action.order._id ? action.order : order\r\n        )\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","let localInitialState = { guests: { adults: 1, kids: 0, baby: 0 }, loc: { address: '' }, time: { checkIn: '', checkOut: '' } }\r\nif (localStorage.trip) localInitialState = JSON.parse(localStorage.trip)\r\n\r\nconst initialState = {\r\n  trip: localInitialState\r\n}\r\n\r\nexport function tripReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_TRIP':\r\n      return { trip: action.trip }\r\n    case 'ADD_TRIP':\r\n      return { ...state, stays: [...state.stays, action.stay] }\r\n    case 'REMOVE_TRIP':\r\n      return { trip: null }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport { stayReducer } from './stayReducer'\r\nimport { userReducer } from './userReducer'\r\nimport { orderReducer } from './orderReducer'\r\nimport { tripReducer } from './tripReducer'\r\nimport { systemReducer } from './systemReducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n  systemModule: systemReducer,\r\n  orderModule: orderReducer,\r\n  stayModule: stayReducer,\r\n  userModule: userReducer,\r\n  tripModule: tripReducer\r\n})\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { rootReducer } from './reducers'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/styles.scss';\r\nimport {App} from './App.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store.js'\r\n\r\nimport 'react-date-range/dist/styles.css'; // main style file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}